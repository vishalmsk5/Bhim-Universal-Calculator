{"dependencies":[{"name":"../../transform/utils/errorTransform.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":73,"index":73}}],"key":"ycYb63f+an3qtM5ydpjC2JiUgJo=","exportNames":["*"],"imports":1}},{"name":"../../../utils/customs.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":74},"end":{"line":2,"column":60,"index":134}}],"key":"Xv7PAMq2PcWs+9WVrXKXHLJ4pIk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.assignFactory = assignFactory;\n  var _transformUtilsErrorTransformJs = require(_dependencyMap[0], \"../../transform/utils/errorTransform.js\");\n  var _utilsCustomsJs = require(_dependencyMap[1], \"../../../utils/customs.js\");\n  function assignFactory(_ref) {\n    var {\n      subset,\n      matrix\n    } = _ref;\n    /**\n     * Replace part of an object:\n     *\n     * - Assign a property to an object\n     * - Replace a part of a string\n     * - Replace a matrix subset\n     *\n     * @param {Object | Array | Matrix | string} object\n     * @param {Index} index\n     * @param {*} value\n     * @return {Object | Array | Matrix | string} Returns the original object\n     *                                            except in case of a string\n     */\n    // TODO: change assign to return the value instead of the object\n    return function assign(object, index, value) {\n      try {\n        if (Array.isArray(object)) {\n          var result = matrix(object).subset(index, value).valueOf();\n\n          // shallow copy all (updated) items into the original array\n          result.forEach((item, index) => {\n            object[index] = item;\n          });\n          return object;\n        } else if (object && typeof object.subset === 'function') {\n          // Matrix\n          return object.subset(index, value);\n        } else if (typeof object === 'string') {\n          // TODO: move setStringSubset into a separate util file, use that\n          return subset(object, index, value);\n        } else if (typeof object === 'object') {\n          if (!index.isObjectProperty()) {\n            throw TypeError('Cannot apply a numeric index as object property');\n          }\n          (0, _utilsCustomsJs.setSafeProperty)(object, index.getObjectProperty(), value);\n          return object;\n        } else {\n          throw new TypeError('Cannot apply index: unsupported type of object');\n        }\n      } catch (err) {\n        throw (0, _transformUtilsErrorTransformJs.errorTransform)(err);\n      }\n    };\n  }\n});","lineCount":59,"map":[[7,2,3,0,"exports"],[7,9,3,0],[7,10,3,0,"assignFactory"],[7,23,3,0],[7,26,3,0,"assignFactory"],[7,39,3,0],[8,2,1,0],[8,6,1,0,"_transformUtilsErrorTransformJs"],[8,37,1,0],[8,40,1,0,"require"],[8,47,1,0],[8,48,1,0,"_dependencyMap"],[8,62,1,0],[9,2,2,0],[9,6,2,0,"_utilsCustomsJs"],[9,21,2,0],[9,24,2,0,"require"],[9,31,2,0],[9,32,2,0,"_dependencyMap"],[9,46,2,0],[10,2,3,7],[10,11,3,16,"assignFactory"],[10,24,3,29,"assignFactory"],[10,25,3,30,"_ref"],[10,29,3,34],[10,31,3,36],[11,4,4,2],[11,8,4,6],[12,6,5,4,"subset"],[12,12,5,10],[13,6,6,4,"matrix"],[14,4,7,2],[14,5,7,3],[14,8,7,6,"_ref"],[14,12,7,10],[15,4,8,2],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,4,21,2],[29,4,22,2],[29,11,22,9],[29,20,22,18,"assign"],[29,26,22,24,"assign"],[29,27,22,25,"object"],[29,33,22,31],[29,35,22,33,"index"],[29,40,22,38],[29,42,22,40,"value"],[29,47,22,45],[29,49,22,47],[30,6,23,4],[30,10,23,8],[31,8,24,6],[31,12,24,10,"Array"],[31,17,24,15],[31,18,24,16,"isArray"],[31,25,24,23],[31,26,24,24,"object"],[31,32,24,30],[31,33,24,31],[31,35,24,33],[32,10,25,8],[32,14,25,12,"result"],[32,20,25,18],[32,23,25,21,"matrix"],[32,29,25,27],[32,30,25,28,"object"],[32,36,25,34],[32,37,25,35],[32,38,25,36,"subset"],[32,44,25,42],[32,45,25,43,"index"],[32,50,25,48],[32,52,25,50,"value"],[32,57,25,55],[32,58,25,56],[32,59,25,57,"valueOf"],[32,66,25,64],[32,67,25,65],[32,68,25,66],[34,10,27,8],[35,10,28,8,"result"],[35,16,28,14],[35,17,28,15,"forEach"],[35,24,28,22],[35,25,28,23],[35,26,28,24,"item"],[35,30,28,28],[35,32,28,30,"index"],[35,37,28,35],[35,42,28,40],[36,12,29,10,"object"],[36,18,29,16],[36,19,29,17,"index"],[36,24,29,22],[36,25,29,23],[36,28,29,26,"item"],[36,32,29,30],[37,10,30,8],[37,11,30,9],[37,12,30,10],[38,10,31,8],[38,17,31,15,"object"],[38,23,31,21],[39,8,32,6],[39,9,32,7],[39,15,32,13],[39,19,32,17,"object"],[39,25,32,23],[39,29,32,27],[39,36,32,34,"object"],[39,42,32,40],[39,43,32,41,"subset"],[39,49,32,47],[39,54,32,52],[39,64,32,62],[39,66,32,64],[40,10,33,8],[41,10,34,8],[41,17,34,15,"object"],[41,23,34,21],[41,24,34,22,"subset"],[41,30,34,28],[41,31,34,29,"index"],[41,36,34,34],[41,38,34,36,"value"],[41,43,34,41],[41,44,34,42],[42,8,35,6],[42,9,35,7],[42,15,35,13],[42,19,35,17],[42,26,35,24,"object"],[42,32,35,30],[42,37,35,35],[42,45,35,43],[42,47,35,45],[43,10,36,8],[44,10,37,8],[44,17,37,15,"subset"],[44,23,37,21],[44,24,37,22,"object"],[44,30,37,28],[44,32,37,30,"index"],[44,37,37,35],[44,39,37,37,"value"],[44,44,37,42],[44,45,37,43],[45,8,38,6],[45,9,38,7],[45,15,38,13],[45,19,38,17],[45,26,38,24,"object"],[45,32,38,30],[45,37,38,35],[45,45,38,43],[45,47,38,45],[46,10,39,8],[46,14,39,12],[46,15,39,13,"index"],[46,20,39,18],[46,21,39,19,"isObjectProperty"],[46,37,39,35],[46,38,39,36],[46,39,39,37],[46,41,39,39],[47,12,40,10],[47,18,40,16,"TypeError"],[47,27,40,25],[47,28,40,26],[47,77,40,75],[47,78,40,76],[48,10,41,8],[49,10,42,8],[49,14,42,8,"setSafeProperty"],[49,29,42,23],[49,30,42,23,"setSafeProperty"],[49,45,42,23],[49,47,42,24,"object"],[49,53,42,30],[49,55,42,32,"index"],[49,60,42,37],[49,61,42,38,"getObjectProperty"],[49,78,42,55],[49,79,42,56],[49,80,42,57],[49,82,42,59,"value"],[49,87,42,64],[49,88,42,65],[50,10,43,8],[50,17,43,15,"object"],[50,23,43,21],[51,8,44,6],[51,9,44,7],[51,15,44,13],[52,10,45,8],[52,16,45,14],[52,20,45,18,"TypeError"],[52,29,45,27],[52,30,45,28],[52,78,45,76],[52,79,45,77],[53,8,46,6],[54,6,47,4],[54,7,47,5],[54,8,47,6],[54,15,47,13,"err"],[54,18,47,16],[54,20,47,18],[55,8,48,6],[55,14,48,12],[55,18,48,12,"errorTransform"],[55,49,48,26],[55,50,48,26,"errorTransform"],[55,64,48,26],[55,66,48,27,"err"],[55,69,48,30],[55,70,48,31],[56,6,49,4],[57,4,50,2],[57,5,50,3],[58,2,51,0],[59,0,51,1],[59,3]],"functionMap":{"names":["<global>","assignFactory","assign","result.forEach$argument_0"],"mappings":"AAA;OCE;SCmB;uBCM;SDE;GDoB"},"hasCjsExports":false},"type":"js/module"}]}