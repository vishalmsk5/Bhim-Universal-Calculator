{"dependencies":[{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createSchur\", {\n    enumerable: true,\n    get: function () {\n      return createSchur;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../../utils/factory.js\");\n  var name = 'schur';\n  var dependencies = ['typed', 'matrix', 'identity', 'multiply', 'qr', 'norm', 'subtract'];\n  var createSchur = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      matrix = _ref.matrix,\n      identity = _ref.identity,\n      multiply = _ref.multiply,\n      qr = _ref.qr,\n      norm = _ref.norm,\n      subtract = _ref.subtract;\n    /**\n     *\n     * Performs a real Schur decomposition of the real matrix A = UTU' where U is orthogonal\n     * and T is upper quasi-triangular.\n     * https://en.wikipedia.org/wiki/Schur_decomposition\n     *\n     * Syntax:\n     *\n     *     math.schur(A)\n     *\n     * Examples:\n     *\n     *     const A = [[1, 0], [-4, 3]]\n     *     math.schur(A) // returns {T: [[3, 4], [0, 1]], R: [[0, 1], [-1, 0]]}\n     *\n     * See also:\n     *\n     *     sylvester, lyap, qr\n     *\n     * @param {Array | Matrix} A  Matrix A\n     * @return {{U: Array | Matrix, T: Array | Matrix}} Object containing both matrix U and T of the Schur Decomposition A=UTU'\n     */\n    return typed(name, {\n      Array: function Array(X) {\n        var r = _schur(matrix(X));\n        return {\n          U: r.U.valueOf(),\n          T: r.T.valueOf()\n        };\n      },\n      Matrix: function Matrix(X) {\n        return _schur(X);\n      }\n    });\n    function _schur(X) {\n      var n = X.size()[0];\n      var A = X;\n      var U = identity(n);\n      var k = 0;\n      var A0;\n      do {\n        A0 = A;\n        var QR = qr(A);\n        var Q = QR.Q;\n        var R = QR.R;\n        A = multiply(R, Q);\n        U = multiply(U, Q);\n        if (k++ > 100) {\n          break;\n        }\n      } while (norm(subtract(A, A0)) > 1e-4);\n      return {\n        U,\n        T: A\n      };\n    }\n  });\n});","lineCount":81,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"createSchur"],[10,24,4,0],[11,4,4,0],[12,2,4,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,4,"name"],[14,10,2,8],[14,13,2,11],[14,20,2,18],[15,2,3,0],[15,6,3,4,"dependencies"],[15,18,3,16],[15,21,3,19],[15,22,3,20],[15,29,3,27],[15,31,3,29],[15,39,3,37],[15,41,3,39],[15,51,3,49],[15,53,3,51],[15,63,3,61],[15,65,3,63],[15,69,3,67],[15,71,3,69],[15,77,3,75],[15,79,3,77],[15,89,3,87],[15,90,3,88],[16,2,4,7],[16,6,4,11,"createSchur"],[16,17,4,22],[16,20,4,25],[16,35,4,40],[16,39,4,40,"factory"],[16,54,4,47],[16,55,4,47,"factory"],[16,62,4,47],[16,64,4,48,"name"],[16,68,4,52],[16,70,4,54,"dependencies"],[16,82,4,66],[16,84,4,68,"_ref"],[16,88,4,72],[16,92,4,76],[17,4,5,2],[17,8,6,4,"typed"],[17,13,6,9],[17,16,13,6,"_ref"],[17,20,13,10],[17,21,6,4,"typed"],[17,26,6,9],[18,6,7,4,"matrix"],[18,12,7,10],[18,15,13,6,"_ref"],[18,19,13,10],[18,20,7,4,"matrix"],[18,26,7,10],[19,6,8,4,"identity"],[19,14,8,12],[19,17,13,6,"_ref"],[19,21,13,10],[19,22,8,4,"identity"],[19,30,8,12],[20,6,9,4,"multiply"],[20,14,9,12],[20,17,13,6,"_ref"],[20,21,13,10],[20,22,9,4,"multiply"],[20,30,9,12],[21,6,10,4,"qr"],[21,8,10,6],[21,11,13,6,"_ref"],[21,15,13,10],[21,16,10,4,"qr"],[21,18,10,6],[22,6,11,4,"norm"],[22,10,11,8],[22,13,13,6,"_ref"],[22,17,13,10],[22,18,11,4,"norm"],[22,22,11,8],[23,6,12,4,"subtract"],[23,14,12,12],[23,17,13,6,"_ref"],[23,21,13,10],[23,22,12,4,"subtract"],[23,30,12,12],[24,4,14,2],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,0,35,0],[46,4,36,2],[46,11,36,9,"typed"],[46,16,36,14],[46,17,36,15,"name"],[46,21,36,19],[46,23,36,21],[47,6,37,4,"Array"],[47,11,37,9],[47,13,37,11],[47,22,37,20,"Array"],[47,27,37,25,"Array"],[47,28,37,26,"X"],[47,29,37,27],[47,31,37,29],[48,8,38,6],[48,12,38,10,"r"],[48,13,38,11],[48,16,38,14,"_schur"],[48,22,38,20],[48,23,38,21,"matrix"],[48,29,38,27],[48,30,38,28,"X"],[48,31,38,29],[48,32,38,30],[48,33,38,31],[49,8,39,6],[49,15,39,13],[50,10,40,8,"U"],[50,11,40,9],[50,13,40,11,"r"],[50,14,40,12],[50,15,40,13,"U"],[50,16,40,14],[50,17,40,15,"valueOf"],[50,24,40,22],[50,25,40,23],[50,26,40,24],[51,10,41,8,"T"],[51,11,41,9],[51,13,41,11,"r"],[51,14,41,12],[51,15,41,13,"T"],[51,16,41,14],[51,17,41,15,"valueOf"],[51,24,41,22],[51,25,41,23],[52,8,42,6],[52,9,42,7],[53,6,43,4],[53,7,43,5],[54,6,44,4,"Matrix"],[54,12,44,10],[54,14,44,12],[54,23,44,21,"Matrix"],[54,29,44,27,"Matrix"],[54,30,44,28,"X"],[54,31,44,29],[54,33,44,31],[55,8,45,6],[55,15,45,13,"_schur"],[55,21,45,19],[55,22,45,20,"X"],[55,23,45,21],[55,24,45,22],[56,6,46,4],[57,4,47,2],[57,5,47,3],[57,6,47,4],[58,4,48,2],[58,13,48,11,"_schur"],[58,19,48,17,"_schur"],[58,20,48,18,"X"],[58,21,48,19],[58,23,48,21],[59,6,49,4],[59,10,49,8,"n"],[59,11,49,9],[59,14,49,12,"X"],[59,15,49,13],[59,16,49,14,"size"],[59,20,49,18],[59,21,49,19],[59,22,49,20],[59,23,49,21],[59,24,49,22],[59,25,49,23],[60,6,50,4],[60,10,50,8,"A"],[60,11,50,9],[60,14,50,12,"X"],[60,15,50,13],[61,6,51,4],[61,10,51,8,"U"],[61,11,51,9],[61,14,51,12,"identity"],[61,22,51,20],[61,23,51,21,"n"],[61,24,51,22],[61,25,51,23],[62,6,52,4],[62,10,52,8,"k"],[62,11,52,9],[62,14,52,12],[62,15,52,13],[63,6,53,4],[63,10,53,8,"A0"],[63,12,53,10],[64,6,54,4],[64,9,54,7],[65,8,55,6,"A0"],[65,10,55,8],[65,13,55,11,"A"],[65,14,55,12],[66,8,56,6],[66,12,56,10,"QR"],[66,14,56,12],[66,17,56,15,"qr"],[66,19,56,17],[66,20,56,18,"A"],[66,21,56,19],[66,22,56,20],[67,8,57,6],[67,12,57,10,"Q"],[67,13,57,11],[67,16,57,14,"QR"],[67,18,57,16],[67,19,57,17,"Q"],[67,20,57,18],[68,8,58,6],[68,12,58,10,"R"],[68,13,58,11],[68,16,58,14,"QR"],[68,18,58,16],[68,19,58,17,"R"],[68,20,58,18],[69,8,59,6,"A"],[69,9,59,7],[69,12,59,10,"multiply"],[69,20,59,18],[69,21,59,19,"R"],[69,22,59,20],[69,24,59,22,"Q"],[69,25,59,23],[69,26,59,24],[70,8,60,6,"U"],[70,9,60,7],[70,12,60,10,"multiply"],[70,20,60,18],[70,21,60,19,"U"],[70,22,60,20],[70,24,60,22,"Q"],[70,25,60,23],[70,26,60,24],[71,8,61,6],[71,12,61,10,"k"],[71,13,61,11],[71,15,61,13],[71,18,61,16],[71,21,61,19],[71,23,61,21],[72,10,62,8],[73,8,63,6],[74,6,64,4],[74,7,64,5],[74,15,64,13,"norm"],[74,19,64,17],[74,20,64,18,"subtract"],[74,28,64,26],[74,29,64,27,"A"],[74,30,64,28],[74,32,64,30,"A0"],[74,34,64,32],[74,35,64,33],[74,36,64,34],[74,39,64,37],[74,43,64,41],[75,6,65,4],[75,13,65,11],[76,8,66,6,"U"],[76,9,66,7],[77,8,67,6,"T"],[77,9,67,7],[77,11,67,9,"A"],[78,6,68,4],[78,7,68,5],[79,4,69,2],[80,2,70,0],[80,3,70,1],[80,4,70,2],[81,0,70,3],[81,3]],"functionMap":{"names":["<global>","factory$argument_2","Array","Matrix","_schur"],"mappings":"AAA;oECG;WCiC;KDM;YEC;KFE;EGE;GHqB;CDC"},"hasCjsExports":false},"type":"js/module"}]}