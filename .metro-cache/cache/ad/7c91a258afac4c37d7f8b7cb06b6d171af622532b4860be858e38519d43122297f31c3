{"dependencies":[{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"../../plain/number/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":74,"index":124}}],"key":"dwyam7N7L9RpXw/p277VGcXEmiY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createGamma\", {\n    enumerable: true,\n    get: function () {\n      return createGamma;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../utils/factory.js\");\n  var _plainNumberIndexJs = require(_dependencyMap[1], \"../../plain/number/index.js\");\n  var name = 'gamma';\n  var dependencies = ['typed', 'config', 'multiplyScalar', 'pow', 'BigNumber', 'Complex'];\n  var createGamma = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      config = _ref.config,\n      multiplyScalar = _ref.multiplyScalar,\n      pow = _ref.pow,\n      _BigNumber = _ref.BigNumber,\n      Complex = _ref.Complex;\n    /**\n     * Compute the gamma function of a value using Lanczos approximation for\n     * small values, and an extended Stirling approximation for large values.\n     *\n     * To avoid confusion with the matrix Gamma function, this function does\n     * not apply to matrices.\n     *\n     * Syntax:\n     *\n     *    math.gamma(n)\n     *\n     * Examples:\n     *\n     *    math.gamma(5)       // returns 24\n     *    math.gamma(-0.5)    // returns -3.5449077018110335\n     *    math.gamma(math.i)  // returns -0.15494982830180973 - 0.49801566811835596i\n     *\n     * See also:\n     *\n     *    combinations, factorial, permutations\n     *\n     * @param {number | BigNumber | Complex} n   A real or complex number\n     * @return {number | BigNumber | Complex}    The gamma of `n`\n     */\n\n    function gammaComplex(n) {\n      if (n.im === 0) {\n        return (0, _plainNumberIndexJs.gammaNumber)(n.re);\n      }\n\n      // Lanczos approximation doesn't work well with real part lower than 0.5\n      // So reflection formula is required\n      if (n.re < 0.5) {\n        // Euler's reflection formula\n        // gamma(1-z) * gamma(z) = PI / sin(PI * z)\n        // real part of Z should not be integer [sin(PI) == 0 -> 1/0 - undefined]\n        // thanks to imperfect sin implementation sin(PI * n) != 0\n        // we can safely use it anyway\n        var _t = new Complex(1 - n.re, -n.im);\n        var r = new Complex(Math.PI * n.re, Math.PI * n.im);\n        return new Complex(Math.PI).div(r.sin()).div(gammaComplex(_t));\n      }\n\n      // Lanczos approximation\n      // z -= 1\n      n = new Complex(n.re - 1, n.im);\n\n      // x = gammaPval[0]\n      var x = new Complex(_plainNumberIndexJs.gammaP[0], 0);\n      // for (i, gammaPval) in enumerate(gammaP):\n      for (var i = 1; i < _plainNumberIndexJs.gammaP.length; ++i) {\n        // x += gammaPval / (z + i)\n        var gammaPval = new Complex(_plainNumberIndexJs.gammaP[i], 0);\n        x = x.add(gammaPval.div(n.add(i)));\n      }\n      // t = z + gammaG + 0.5\n      var t = new Complex(n.re + _plainNumberIndexJs.gammaG + 0.5, n.im);\n\n      // y = sqrt(2 * pi) * t ** (z + 0.5) * exp(-t) * x\n      var twoPiSqrt = Math.sqrt(2 * Math.PI);\n      var tpow = t.pow(n.add(0.5));\n      var expt = t.neg().exp();\n\n      // y = [x] * [sqrt(2 * pi)] * [t ** (z + 0.5)] * [exp(-t)]\n      return x.mul(twoPiSqrt).mul(tpow).mul(expt);\n    }\n    return typed(name, {\n      number: _plainNumberIndexJs.gammaNumber,\n      Complex: gammaComplex,\n      BigNumber: function BigNumber(n) {\n        if (n.isInteger()) {\n          return n.isNegative() || n.isZero() ? new _BigNumber(Infinity) : bigFactorial(n.minus(1));\n        }\n        if (!n.isFinite()) {\n          return new _BigNumber(n.isNegative() ? NaN : Infinity);\n        }\n        throw new Error('Integer BigNumber expected');\n      }\n    });\n\n    /**\n     * Calculate factorial for a BigNumber\n     * @param {BigNumber} n\n     * @returns {BigNumber} Returns the factorial of n\n     */\n    function bigFactorial(n) {\n      if (n < 8) {\n        return new _BigNumber([1, 1, 2, 6, 24, 120, 720, 5040][n]);\n      }\n      var precision = config.precision + (Math.log(n.toNumber()) | 0);\n      var Big = _BigNumber.clone({\n        precision\n      });\n      if (n % 2 === 1) {\n        return n.times(bigFactorial(new _BigNumber(n - 1)));\n      }\n      var p = n;\n      var prod = new Big(n);\n      var sum = n.toNumber();\n      while (p > 2) {\n        p -= 2;\n        sum += p;\n        prod = prod.times(sum);\n      }\n      return new _BigNumber(prod.toPrecision(_BigNumber.precision));\n    }\n  });\n});","lineCount":131,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"createGamma"],[10,24,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,0,"_plainNumberIndexJs"],[14,25,2,0],[14,28,2,0,"require"],[14,35,2,0],[14,36,2,0,"_dependencyMap"],[14,50,2,0],[15,2,3,0],[15,6,3,4,"name"],[15,10,3,8],[15,13,3,11],[15,20,3,18],[16,2,4,0],[16,6,4,4,"dependencies"],[16,18,4,16],[16,21,4,19],[16,22,4,20],[16,29,4,27],[16,31,4,29],[16,39,4,37],[16,41,4,39],[16,57,4,55],[16,59,4,57],[16,64,4,62],[16,66,4,64],[16,77,4,75],[16,79,4,77],[16,88,4,86],[16,89,4,87],[17,2,5,7],[17,6,5,11,"createGamma"],[17,17,5,22],[17,20,5,25],[17,35,5,40],[17,39,5,40,"factory"],[17,54,5,47],[17,55,5,47,"factory"],[17,62,5,47],[17,64,5,48,"name"],[17,68,5,52],[17,70,5,54,"dependencies"],[17,82,5,66],[17,84,5,68,"_ref"],[17,88,5,72],[17,92,5,76],[18,4,6,2],[18,8,7,4,"typed"],[18,13,7,9],[18,16,13,6,"_ref"],[18,20,13,10],[18,21,7,4,"typed"],[18,26,7,9],[19,6,8,4,"config"],[19,12,8,10],[19,15,13,6,"_ref"],[19,19,13,10],[19,20,8,4,"config"],[19,26,8,10],[20,6,9,4,"multiplyScalar"],[20,20,9,18],[20,23,13,6,"_ref"],[20,27,13,10],[20,28,9,4,"multiplyScalar"],[20,42,9,18],[21,6,10,4,"pow"],[21,9,10,7],[21,12,13,6,"_ref"],[21,16,13,10],[21,17,10,4,"pow"],[21,20,10,7],[22,6,11,15,"_BigNumber"],[22,16,11,25],[22,19,13,6,"_ref"],[22,23,13,10],[22,24,11,4,"BigNumber"],[22,33,11,13],[23,6,12,4,"Complex"],[23,13,12,11],[23,16,13,6,"_ref"],[23,20,13,10],[23,21,12,4,"Complex"],[23,28,12,11],[24,4,14,2],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,0,35,0],[46,0,36,0],[47,0,37,0],[49,4,39,2],[49,13,39,11,"gammaComplex"],[49,25,39,23,"gammaComplex"],[49,26,39,24,"n"],[49,27,39,25],[49,29,39,27],[50,6,40,4],[50,10,40,8,"n"],[50,11,40,9],[50,12,40,10,"im"],[50,14,40,12],[50,19,40,17],[50,20,40,18],[50,22,40,20],[51,8,41,6],[51,15,41,13],[51,19,41,13,"gammaNumber"],[51,38,41,24],[51,39,41,24,"gammaNumber"],[51,50,41,24],[51,52,41,25,"n"],[51,53,41,26],[51,54,41,27,"re"],[51,56,41,29],[51,57,41,30],[52,6,42,4],[54,6,44,4],[55,6,45,4],[56,6,46,4],[56,10,46,8,"n"],[56,11,46,9],[56,12,46,10,"re"],[56,14,46,12],[56,17,46,15],[56,20,46,18],[56,22,46,20],[57,8,47,6],[58,8,48,6],[59,8,49,6],[60,8,50,6],[61,8,51,6],[62,8,52,6],[62,12,52,10,"_t"],[62,14,52,12],[62,17,52,15],[62,21,52,19,"Complex"],[62,28,52,26],[62,29,52,27],[62,30,52,28],[62,33,52,31,"n"],[62,34,52,32],[62,35,52,33,"re"],[62,37,52,35],[62,39,52,37],[62,40,52,38,"n"],[62,41,52,39],[62,42,52,40,"im"],[62,44,52,42],[62,45,52,43],[63,8,53,6],[63,12,53,10,"r"],[63,13,53,11],[63,16,53,14],[63,20,53,18,"Complex"],[63,27,53,25],[63,28,53,26,"Math"],[63,32,53,30],[63,33,53,31,"PI"],[63,35,53,33],[63,38,53,36,"n"],[63,39,53,37],[63,40,53,38,"re"],[63,42,53,40],[63,44,53,42,"Math"],[63,48,53,46],[63,49,53,47,"PI"],[63,51,53,49],[63,54,53,52,"n"],[63,55,53,53],[63,56,53,54,"im"],[63,58,53,56],[63,59,53,57],[64,8,54,6],[64,15,54,13],[64,19,54,17,"Complex"],[64,26,54,24],[64,27,54,25,"Math"],[64,31,54,29],[64,32,54,30,"PI"],[64,34,54,32],[64,35,54,33],[64,36,54,34,"div"],[64,39,54,37],[64,40,54,38,"r"],[64,41,54,39],[64,42,54,40,"sin"],[64,45,54,43],[64,46,54,44],[64,47,54,45],[64,48,54,46],[64,49,54,47,"div"],[64,52,54,50],[64,53,54,51,"gammaComplex"],[64,65,54,63],[64,66,54,64,"_t"],[64,68,54,66],[64,69,54,67],[64,70,54,68],[65,6,55,4],[67,6,57,4],[68,6,58,4],[69,6,59,4,"n"],[69,7,59,5],[69,10,59,8],[69,14,59,12,"Complex"],[69,21,59,19],[69,22,59,20,"n"],[69,23,59,21],[69,24,59,22,"re"],[69,26,59,24],[69,29,59,27],[69,30,59,28],[69,32,59,30,"n"],[69,33,59,31],[69,34,59,32,"im"],[69,36,59,34],[69,37,59,35],[71,6,61,4],[72,6,62,4],[72,10,62,8,"x"],[72,11,62,9],[72,14,62,12],[72,18,62,16,"Complex"],[72,25,62,23],[72,26,62,24,"gammaP"],[72,45,62,30],[72,46,62,30,"gammaP"],[72,52,62,30],[72,53,62,31],[72,54,62,32],[72,55,62,33],[72,57,62,35],[72,58,62,36],[72,59,62,37],[73,6,63,4],[74,6,64,4],[74,11,64,9],[74,15,64,13,"i"],[74,16,64,14],[74,19,64,17],[74,20,64,18],[74,22,64,20,"i"],[74,23,64,21],[74,26,64,24,"gammaP"],[74,45,64,30],[74,46,64,30,"gammaP"],[74,52,64,30],[74,53,64,31,"length"],[74,59,64,37],[74,61,64,39],[74,63,64,41,"i"],[74,64,64,42],[74,66,64,44],[75,8,65,6],[76,8,66,6],[76,12,66,10,"gammaPval"],[76,21,66,19],[76,24,66,22],[76,28,66,26,"Complex"],[76,35,66,33],[76,36,66,34,"gammaP"],[76,55,66,40],[76,56,66,40,"gammaP"],[76,62,66,40],[76,63,66,41,"i"],[76,64,66,42],[76,65,66,43],[76,67,66,45],[76,68,66,46],[76,69,66,47],[77,8,67,6,"x"],[77,9,67,7],[77,12,67,10,"x"],[77,13,67,11],[77,14,67,12,"add"],[77,17,67,15],[77,18,67,16,"gammaPval"],[77,27,67,25],[77,28,67,26,"div"],[77,31,67,29],[77,32,67,30,"n"],[77,33,67,31],[77,34,67,32,"add"],[77,37,67,35],[77,38,67,36,"i"],[77,39,67,37],[77,40,67,38],[77,41,67,39],[77,42,67,40],[78,6,68,4],[79,6,69,4],[80,6,70,4],[80,10,70,8,"t"],[80,11,70,9],[80,14,70,12],[80,18,70,16,"Complex"],[80,25,70,23],[80,26,70,24,"n"],[80,27,70,25],[80,28,70,26,"re"],[80,30,70,28],[80,33,70,31,"gammaG"],[80,52,70,37],[80,53,70,37,"gammaG"],[80,59,70,37],[80,62,70,40],[80,65,70,43],[80,67,70,45,"n"],[80,68,70,46],[80,69,70,47,"im"],[80,71,70,49],[80,72,70,50],[82,6,72,4],[83,6,73,4],[83,10,73,8,"twoPiSqrt"],[83,19,73,17],[83,22,73,20,"Math"],[83,26,73,24],[83,27,73,25,"sqrt"],[83,31,73,29],[83,32,73,30],[83,33,73,31],[83,36,73,34,"Math"],[83,40,73,38],[83,41,73,39,"PI"],[83,43,73,41],[83,44,73,42],[84,6,74,4],[84,10,74,8,"tpow"],[84,14,74,12],[84,17,74,15,"t"],[84,18,74,16],[84,19,74,17,"pow"],[84,22,74,20],[84,23,74,21,"n"],[84,24,74,22],[84,25,74,23,"add"],[84,28,74,26],[84,29,74,27],[84,32,74,30],[84,33,74,31],[84,34,74,32],[85,6,75,4],[85,10,75,8,"expt"],[85,14,75,12],[85,17,75,15,"t"],[85,18,75,16],[85,19,75,17,"neg"],[85,22,75,20],[85,23,75,21],[85,24,75,22],[85,25,75,23,"exp"],[85,28,75,26],[85,29,75,27],[85,30,75,28],[87,6,77,4],[88,6,78,4],[88,13,78,11,"x"],[88,14,78,12],[88,15,78,13,"mul"],[88,18,78,16],[88,19,78,17,"twoPiSqrt"],[88,28,78,26],[88,29,78,27],[88,30,78,28,"mul"],[88,33,78,31],[88,34,78,32,"tpow"],[88,38,78,36],[88,39,78,37],[88,40,78,38,"mul"],[88,43,78,41],[88,44,78,42,"expt"],[88,48,78,46],[88,49,78,47],[89,4,79,2],[90,4,80,2],[90,11,80,9,"typed"],[90,16,80,14],[90,17,80,15,"name"],[90,21,80,19],[90,23,80,21],[91,6,81,4,"number"],[91,12,81,10],[91,14,81,12,"gammaNumber"],[91,33,81,23],[91,34,81,23,"gammaNumber"],[91,45,81,23],[92,6,82,4,"Complex"],[92,13,82,11],[92,15,82,13,"gammaComplex"],[92,27,82,25],[93,6,83,4,"BigNumber"],[93,15,83,13],[93,17,83,15],[93,26,83,24,"BigNumber"],[93,35,83,33,"BigNumber"],[93,36,83,34,"n"],[93,37,83,35],[93,39,83,37],[94,8,84,6],[94,12,84,10,"n"],[94,13,84,11],[94,14,84,12,"isInteger"],[94,23,84,21],[94,24,84,22],[94,25,84,23],[94,27,84,25],[95,10,85,8],[95,17,85,15,"n"],[95,18,85,16],[95,19,85,17,"isNegative"],[95,29,85,27],[95,30,85,28],[95,31,85,29],[95,35,85,33,"n"],[95,36,85,34],[95,37,85,35,"isZero"],[95,43,85,41],[95,44,85,42],[95,45,85,43],[95,48,85,46],[95,52,85,50,"_BigNumber"],[95,62,85,60],[95,63,85,61,"Infinity"],[95,71,85,69],[95,72,85,70],[95,75,85,73,"bigFactorial"],[95,87,85,85],[95,88,85,86,"n"],[95,89,85,87],[95,90,85,88,"minus"],[95,95,85,93],[95,96,85,94],[95,97,85,95],[95,98,85,96],[95,99,85,97],[96,8,86,6],[97,8,87,6],[97,12,87,10],[97,13,87,11,"n"],[97,14,87,12],[97,15,87,13,"isFinite"],[97,23,87,21],[97,24,87,22],[97,25,87,23],[97,27,87,25],[98,10,88,8],[98,17,88,15],[98,21,88,19,"_BigNumber"],[98,31,88,29],[98,32,88,30,"n"],[98,33,88,31],[98,34,88,32,"isNegative"],[98,44,88,42],[98,45,88,43],[98,46,88,44],[98,49,88,47,"NaN"],[98,52,88,50],[98,55,88,53,"Infinity"],[98,63,88,61],[98,64,88,62],[99,8,89,6],[100,8,90,6],[100,14,90,12],[100,18,90,16,"Error"],[100,23,90,21],[100,24,90,22],[100,52,90,50],[100,53,90,51],[101,6,91,4],[102,4,92,2],[102,5,92,3],[102,6,92,4],[104,4,94,2],[105,0,95,0],[106,0,96,0],[107,0,97,0],[108,0,98,0],[109,4,99,2],[109,13,99,11,"bigFactorial"],[109,25,99,23,"bigFactorial"],[109,26,99,24,"n"],[109,27,99,25],[109,29,99,27],[110,6,100,4],[110,10,100,8,"n"],[110,11,100,9],[110,14,100,12],[110,15,100,13],[110,17,100,15],[111,8,101,6],[111,15,101,13],[111,19,101,17,"_BigNumber"],[111,29,101,27],[111,30,101,28],[111,31,101,29],[111,32,101,30],[111,34,101,32],[111,35,101,33],[111,37,101,35],[111,38,101,36],[111,40,101,38],[111,41,101,39],[111,43,101,41],[111,45,101,43],[111,47,101,45],[111,50,101,48],[111,52,101,50],[111,55,101,53],[111,57,101,55],[111,61,101,59],[111,62,101,60],[111,63,101,61,"n"],[111,64,101,62],[111,65,101,63],[111,66,101,64],[112,6,102,4],[113,6,103,4],[113,10,103,8,"precision"],[113,19,103,17],[113,22,103,20,"config"],[113,28,103,26],[113,29,103,27,"precision"],[113,38,103,36],[113,42,103,40,"Math"],[113,46,103,44],[113,47,103,45,"log"],[113,50,103,48],[113,51,103,49,"n"],[113,52,103,50],[113,53,103,51,"toNumber"],[113,61,103,59],[113,62,103,60],[113,63,103,61],[113,64,103,62],[113,67,103,65],[113,68,103,66],[113,69,103,67],[114,6,104,4],[114,10,104,8,"Big"],[114,13,104,11],[114,16,104,14,"_BigNumber"],[114,26,104,24],[114,27,104,25,"clone"],[114,32,104,30],[114,33,104,31],[115,8,105,6,"precision"],[116,6,106,4],[116,7,106,5],[116,8,106,6],[117,6,107,4],[117,10,107,8,"n"],[117,11,107,9],[117,14,107,12],[117,15,107,13],[117,20,107,18],[117,21,107,19],[117,23,107,21],[118,8,108,6],[118,15,108,13,"n"],[118,16,108,14],[118,17,108,15,"times"],[118,22,108,20],[118,23,108,21,"bigFactorial"],[118,35,108,33],[118,36,108,34],[118,40,108,38,"_BigNumber"],[118,50,108,48],[118,51,108,49,"n"],[118,52,108,50],[118,55,108,53],[118,56,108,54],[118,57,108,55],[118,58,108,56],[118,59,108,57],[119,6,109,4],[120,6,110,4],[120,10,110,8,"p"],[120,11,110,9],[120,14,110,12,"n"],[120,15,110,13],[121,6,111,4],[121,10,111,8,"prod"],[121,14,111,12],[121,17,111,15],[121,21,111,19,"Big"],[121,24,111,22],[121,25,111,23,"n"],[121,26,111,24],[121,27,111,25],[122,6,112,4],[122,10,112,8,"sum"],[122,13,112,11],[122,16,112,14,"n"],[122,17,112,15],[122,18,112,16,"toNumber"],[122,26,112,24],[122,27,112,25],[122,28,112,26],[123,6,113,4],[123,13,113,11,"p"],[123,14,113,12],[123,17,113,15],[123,18,113,16],[123,20,113,18],[124,8,114,6,"p"],[124,9,114,7],[124,13,114,11],[124,14,114,12],[125,8,115,6,"sum"],[125,11,115,9],[125,15,115,13,"p"],[125,16,115,14],[126,8,116,6,"prod"],[126,12,116,10],[126,15,116,13,"prod"],[126,19,116,17],[126,20,116,18,"times"],[126,25,116,23],[126,26,116,24,"sum"],[126,29,116,27],[126,30,116,28],[127,6,117,4],[128,6,118,4],[128,13,118,11],[128,17,118,15,"_BigNumber"],[128,27,118,25],[128,28,118,26,"prod"],[128,32,118,30],[128,33,118,31,"toPrecision"],[128,44,118,42],[128,45,118,43,"_BigNumber"],[128,55,118,53],[128,56,118,54,"precision"],[128,65,118,63],[128,66,118,64],[128,67,118,65],[129,4,119,2],[130,2,120,0],[130,3,120,1],[130,4,120,2],[131,0,120,3],[131,3]],"functionMap":{"names":["<global>","factory$argument_2","gammaComplex","BigNumber","bigFactorial"],"mappings":"AAA;oECI;ECkC;GDwC;eEI;KFQ;EGQ;GHoB;CDC"},"hasCjsExports":false},"type":"js/module"}]}