{"dependencies":[{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}},{"name":"../../../error/DimensionError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":66,"index":119}}],"key":"n9SgYlrgNLSheJUS+2cSjgMV5bE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMatAlgo13xDD\", {\n    enumerable: true,\n    get: function () {\n      return createMatAlgo13xDD;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../../utils/factory.js\");\n  var _errorDimensionErrorJs = require(_dependencyMap[1], \"../../../error/DimensionError.js\");\n  var name = 'matAlgo13xDD';\n  var dependencies = ['typed'];\n  var createMatAlgo13xDD = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed;\n    /**\n     * Iterates over DenseMatrix items and invokes the callback function f(Aij..z, Bij..z).\n     * Callback function invoked MxN times.\n     *\n     * C(i,j,...z) = f(Aij..z, Bij..z)\n     *\n     * @param {Matrix}   a                 The DenseMatrix instance (A)\n     * @param {Matrix}   b                 The DenseMatrix instance (B)\n     * @param {Function} callback          The f(Aij..z,Bij..z) operation to invoke\n     *\n     * @return {Matrix}                    DenseMatrix (C)\n     *\n     * https://github.com/josdejong/mathjs/pull/346#issuecomment-97658658\n     */\n    return function matAlgo13xDD(a, b, callback) {\n      // a arrays\n      var adata = a._data;\n      var asize = a._size;\n      var adt = a._datatype;\n      // b arrays\n      var bdata = b._data;\n      var bsize = b._size;\n      var bdt = b._datatype;\n      // c arrays\n      var csize = [];\n\n      // validate dimensions\n      if (asize.length !== bsize.length) {\n        throw new _errorDimensionErrorJs.DimensionError(asize.length, bsize.length);\n      }\n\n      // validate each one of the dimension sizes\n      for (var s = 0; s < asize.length; s++) {\n        // must match\n        if (asize[s] !== bsize[s]) {\n          throw new RangeError('Dimension mismatch. Matrix A (' + asize + ') must match Matrix B (' + bsize + ')');\n        }\n        // update dimension in c\n        csize[s] = asize[s];\n      }\n\n      // datatype\n      var dt;\n      // callback signature to use\n      var cf = callback;\n\n      // process data types\n      if (typeof adt === 'string' && adt === bdt) {\n        // datatype\n        dt = adt;\n        // callback\n        cf = typed.find(callback, [dt, dt]);\n      }\n\n      // populate cdata, iterate through dimensions\n      var cdata = csize.length > 0 ? _iterate(cf, 0, csize, csize[0], adata, bdata) : [];\n\n      // c matrix\n      return a.createDenseMatrix({\n        data: cdata,\n        size: csize,\n        datatype: dt\n      });\n    };\n\n    // recursive function\n    function _iterate(f, level, s, n, av, bv) {\n      // initialize array for this level\n      var cv = [];\n      // check we reach the last level\n      if (level === s.length - 1) {\n        // loop arrays in last level\n        for (var i = 0; i < n; i++) {\n          // invoke callback and store value\n          cv[i] = f(av[i], bv[i]);\n        }\n      } else {\n        // iterate current level\n        for (var j = 0; j < n; j++) {\n          // iterate next level\n          cv[j] = _iterate(f, level + 1, s, s[level + 1], av[j], bv[j]);\n        }\n      }\n      return cv;\n    }\n  });\n});","lineCount":105,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"createMatAlgo13xDD"],[10,31,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,0,"_errorDimensionErrorJs"],[14,28,2,0],[14,31,2,0,"require"],[14,38,2,0],[14,39,2,0,"_dependencyMap"],[14,53,2,0],[15,2,3,0],[15,6,3,4,"name"],[15,10,3,8],[15,13,3,11],[15,27,3,25],[16,2,4,0],[16,6,4,4,"dependencies"],[16,18,4,16],[16,21,4,19],[16,22,4,20],[16,29,4,27],[16,30,4,28],[17,2,5,7],[17,6,5,11,"createMatAlgo13xDD"],[17,24,5,29],[17,27,5,32],[17,42,5,47],[17,46,5,47,"factory"],[17,61,5,54],[17,62,5,54,"factory"],[17,69,5,54],[17,71,5,55,"name"],[17,75,5,59],[17,77,5,61,"dependencies"],[17,89,5,73],[17,91,5,75,"_ref"],[17,95,5,79],[17,99,5,83],[18,4,6,2],[18,8,7,4,"typed"],[18,13,7,9],[18,16,8,6,"_ref"],[18,20,8,10],[18,21,7,4,"typed"],[18,26,7,9],[19,4,9,2],[20,0,10,0],[21,0,11,0],[22,0,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,4,23,2],[33,11,23,9],[33,20,23,18,"matAlgo13xDD"],[33,32,23,30,"matAlgo13xDD"],[33,33,23,31,"a"],[33,34,23,32],[33,36,23,34,"b"],[33,37,23,35],[33,39,23,37,"callback"],[33,47,23,45],[33,49,23,47],[34,6,24,4],[35,6,25,4],[35,10,25,8,"adata"],[35,15,25,13],[35,18,25,16,"a"],[35,19,25,17],[35,20,25,18,"_data"],[35,25,25,23],[36,6,26,4],[36,10,26,8,"asize"],[36,15,26,13],[36,18,26,16,"a"],[36,19,26,17],[36,20,26,18,"_size"],[36,25,26,23],[37,6,27,4],[37,10,27,8,"adt"],[37,13,27,11],[37,16,27,14,"a"],[37,17,27,15],[37,18,27,16,"_datatype"],[37,27,27,25],[38,6,28,4],[39,6,29,4],[39,10,29,8,"bdata"],[39,15,29,13],[39,18,29,16,"b"],[39,19,29,17],[39,20,29,18,"_data"],[39,25,29,23],[40,6,30,4],[40,10,30,8,"bsize"],[40,15,30,13],[40,18,30,16,"b"],[40,19,30,17],[40,20,30,18,"_size"],[40,25,30,23],[41,6,31,4],[41,10,31,8,"bdt"],[41,13,31,11],[41,16,31,14,"b"],[41,17,31,15],[41,18,31,16,"_datatype"],[41,27,31,25],[42,6,32,4],[43,6,33,4],[43,10,33,8,"csize"],[43,15,33,13],[43,18,33,16],[43,20,33,18],[45,6,35,4],[46,6,36,4],[46,10,36,8,"asize"],[46,15,36,13],[46,16,36,14,"length"],[46,22,36,20],[46,27,36,25,"bsize"],[46,32,36,30],[46,33,36,31,"length"],[46,39,36,37],[46,41,36,39],[47,8,37,6],[47,14,37,12],[47,18,37,16,"DimensionError"],[47,40,37,30],[47,41,37,30,"DimensionError"],[47,55,37,30],[47,56,37,31,"asize"],[47,61,37,36],[47,62,37,37,"length"],[47,68,37,43],[47,70,37,45,"bsize"],[47,75,37,50],[47,76,37,51,"length"],[47,82,37,57],[47,83,37,58],[48,6,38,4],[50,6,40,4],[51,6,41,4],[51,11,41,9],[51,15,41,13,"s"],[51,16,41,14],[51,19,41,17],[51,20,41,18],[51,22,41,20,"s"],[51,23,41,21],[51,26,41,24,"asize"],[51,31,41,29],[51,32,41,30,"length"],[51,38,41,36],[51,40,41,38,"s"],[51,41,41,39],[51,43,41,41],[51,45,41,43],[52,8,42,6],[53,8,43,6],[53,12,43,10,"asize"],[53,17,43,15],[53,18,43,16,"s"],[53,19,43,17],[53,20,43,18],[53,25,43,23,"bsize"],[53,30,43,28],[53,31,43,29,"s"],[53,32,43,30],[53,33,43,31],[53,35,43,33],[54,10,44,8],[54,16,44,14],[54,20,44,18,"RangeError"],[54,30,44,28],[54,31,44,29],[54,63,44,61],[54,66,44,64,"asize"],[54,71,44,69],[54,74,44,72],[54,99,44,97],[54,102,44,100,"bsize"],[54,107,44,105],[54,110,44,108],[54,113,44,111],[54,114,44,112],[55,8,45,6],[56,8,46,6],[57,8,47,6,"csize"],[57,13,47,11],[57,14,47,12,"s"],[57,15,47,13],[57,16,47,14],[57,19,47,17,"asize"],[57,24,47,22],[57,25,47,23,"s"],[57,26,47,24],[57,27,47,25],[58,6,48,4],[60,6,50,4],[61,6,51,4],[61,10,51,8,"dt"],[61,12,51,10],[62,6,52,4],[63,6,53,4],[63,10,53,8,"cf"],[63,12,53,10],[63,15,53,13,"callback"],[63,23,53,21],[65,6,55,4],[66,6,56,4],[66,10,56,8],[66,17,56,15,"adt"],[66,20,56,18],[66,25,56,23],[66,33,56,31],[66,37,56,35,"adt"],[66,40,56,38],[66,45,56,43,"bdt"],[66,48,56,46],[66,50,56,48],[67,8,57,6],[68,8,58,6,"dt"],[68,10,58,8],[68,13,58,11,"adt"],[68,16,58,14],[69,8,59,6],[70,8,60,6,"cf"],[70,10,60,8],[70,13,60,11,"typed"],[70,18,60,16],[70,19,60,17,"find"],[70,23,60,21],[70,24,60,22,"callback"],[70,32,60,30],[70,34,60,32],[70,35,60,33,"dt"],[70,37,60,35],[70,39,60,37,"dt"],[70,41,60,39],[70,42,60,40],[70,43,60,41],[71,6,61,4],[73,6,63,4],[74,6,64,4],[74,10,64,8,"cdata"],[74,15,64,13],[74,18,64,16,"csize"],[74,23,64,21],[74,24,64,22,"length"],[74,30,64,28],[74,33,64,31],[74,34,64,32],[74,37,64,35,"_iterate"],[74,45,64,43],[74,46,64,44,"cf"],[74,48,64,46],[74,50,64,48],[74,51,64,49],[74,53,64,51,"csize"],[74,58,64,56],[74,60,64,58,"csize"],[74,65,64,63],[74,66,64,64],[74,67,64,65],[74,68,64,66],[74,70,64,68,"adata"],[74,75,64,73],[74,77,64,75,"bdata"],[74,82,64,80],[74,83,64,81],[74,86,64,84],[74,88,64,86],[76,6,66,4],[77,6,67,4],[77,13,67,11,"a"],[77,14,67,12],[77,15,67,13,"createDenseMatrix"],[77,32,67,30],[77,33,67,31],[78,8,68,6,"data"],[78,12,68,10],[78,14,68,12,"cdata"],[78,19,68,17],[79,8,69,6,"size"],[79,12,69,10],[79,14,69,12,"csize"],[79,19,69,17],[80,8,70,6,"datatype"],[80,16,70,14],[80,18,70,16,"dt"],[81,6,71,4],[81,7,71,5],[81,8,71,6],[82,4,72,2],[82,5,72,3],[84,4,74,2],[85,4,75,2],[85,13,75,11,"_iterate"],[85,21,75,19,"_iterate"],[85,22,75,20,"f"],[85,23,75,21],[85,25,75,23,"level"],[85,30,75,28],[85,32,75,30,"s"],[85,33,75,31],[85,35,75,33,"n"],[85,36,75,34],[85,38,75,36,"av"],[85,40,75,38],[85,42,75,40,"bv"],[85,44,75,42],[85,46,75,44],[86,6,76,4],[87,6,77,4],[87,10,77,8,"cv"],[87,12,77,10],[87,15,77,13],[87,17,77,15],[88,6,78,4],[89,6,79,4],[89,10,79,8,"level"],[89,15,79,13],[89,20,79,18,"s"],[89,21,79,19],[89,22,79,20,"length"],[89,28,79,26],[89,31,79,29],[89,32,79,30],[89,34,79,32],[90,8,80,6],[91,8,81,6],[91,13,81,11],[91,17,81,15,"i"],[91,18,81,16],[91,21,81,19],[91,22,81,20],[91,24,81,22,"i"],[91,25,81,23],[91,28,81,26,"n"],[91,29,81,27],[91,31,81,29,"i"],[91,32,81,30],[91,34,81,32],[91,36,81,34],[92,10,82,8],[93,10,83,8,"cv"],[93,12,83,10],[93,13,83,11,"i"],[93,14,83,12],[93,15,83,13],[93,18,83,16,"f"],[93,19,83,17],[93,20,83,18,"av"],[93,22,83,20],[93,23,83,21,"i"],[93,24,83,22],[93,25,83,23],[93,27,83,25,"bv"],[93,29,83,27],[93,30,83,28,"i"],[93,31,83,29],[93,32,83,30],[93,33,83,31],[94,8,84,6],[95,6,85,4],[95,7,85,5],[95,13,85,11],[96,8,86,6],[97,8,87,6],[97,13,87,11],[97,17,87,15,"j"],[97,18,87,16],[97,21,87,19],[97,22,87,20],[97,24,87,22,"j"],[97,25,87,23],[97,28,87,26,"n"],[97,29,87,27],[97,31,87,29,"j"],[97,32,87,30],[97,34,87,32],[97,36,87,34],[98,10,88,8],[99,10,89,8,"cv"],[99,12,89,10],[99,13,89,11,"j"],[99,14,89,12],[99,15,89,13],[99,18,89,16,"_iterate"],[99,26,89,24],[99,27,89,25,"f"],[99,28,89,26],[99,30,89,28,"level"],[99,35,89,33],[99,38,89,36],[99,39,89,37],[99,41,89,39,"s"],[99,42,89,40],[99,44,89,42,"s"],[99,45,89,43],[99,46,89,44,"level"],[99,51,89,49],[99,54,89,52],[99,55,89,53],[99,56,89,54],[99,58,89,56,"av"],[99,60,89,58],[99,61,89,59,"j"],[99,62,89,60],[99,63,89,61],[99,65,89,63,"bv"],[99,67,89,65],[99,68,89,66,"j"],[99,69,89,67],[99,70,89,68],[99,71,89,69],[100,8,90,6],[101,6,91,4],[102,6,92,4],[102,13,92,11,"cv"],[102,15,92,13],[103,4,93,2],[104,2,94,0],[104,3,94,1],[104,4,94,2],[105,0,94,3],[105,3]],"functionMap":{"names":["<global>","factory$argument_2","matAlgo13xDD","_iterate"],"mappings":"AAA;2ECI;SCkB;GDiD;EEG;GFkB;CDC"},"hasCjsExports":false},"type":"js/module"}]}