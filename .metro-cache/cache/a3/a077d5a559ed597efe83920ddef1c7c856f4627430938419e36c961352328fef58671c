{"dependencies":[{"name":"../../utils/collection.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"fi1hvvRFVO+J7CgKvCdHAHsYQlM=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":65},"end":{"line":2,"column":49,"index":114}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"../../utils/switch.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":115},"end":{"line":3,"column":48,"index":163}}],"key":"h0x97sTcic1adv3zB2QSJ1A8tYQ=","exportNames":["*"],"imports":1}},{"name":"./utils/improveErrorMessage.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":164},"end":{"line":4,"column":69,"index":233}}],"key":"OctJ2iR6C74+6ORuXPT3M8Q90Dc=","exportNames":["*"],"imports":1}},{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":234},"end":{"line":5,"column":49,"index":283}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../error/IndexError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":284},"end":{"line":6,"column":55,"index":339}}],"key":"FX5/WJJufVod8Z81KKBXXxofErs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createCumSum\", {\n    enumerable: true,\n    get: function () {\n      return createCumSum;\n    }\n  });\n  var _utilsCollectionJs = require(_dependencyMap[0], \"../../utils/collection.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../utils/factory.js\");\n  var _utilsSwitchJs = require(_dependencyMap[2], \"../../utils/switch.js\");\n  var _utilsImproveErrorMessageJs = require(_dependencyMap[3], \"./utils/improveErrorMessage.js\");\n  var _utilsArrayJs = require(_dependencyMap[4], \"../../utils/array.js\");\n  var _errorIndexErrorJs = require(_dependencyMap[5], \"../../error/IndexError.js\");\n  var name = 'cumsum';\n  var dependencies = ['typed', 'add', 'unaryPlus'];\n  var createCumSum = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      add = _ref.add,\n      unaryPlus = _ref.unaryPlus;\n    /**\n     * Compute the cumulative sum of a matrix or a list with values.\n     * In case of a (multi dimensional) array or matrix, the cumulative sums\n     * along a specified dimension (defaulting to the first) will be calculated.\n     *\n     * Syntax:\n     *\n     *     math.cumsum(a, b, c, ...)\n     *     math.cumsum(A)\n     *\n     * Examples:\n     *\n     *     math.cumsum(2, 1, 4, 3)               // returns [2, 3, 7, 10]\n     *     math.cumsum([2, 1, 4, 3])             // returns [2, 3, 7, 10]\n     *     math.cumsum([[1, 2], [3, 4]])         // returns [[1, 2], [4, 6]]\n     *     math.cumsum([[1, 2], [3, 4]], 0)      // returns [[1, 2], [4, 6]]\n     *     math.cumsum([[1, 2], [3, 4]], 1)      // returns [[1, 3], [3, 7]]\n     *     math.cumsum([[2, 5], [4, 3], [1, 7]]) // returns [[2, 5], [6, 8], [7, 15]]\n     *\n     * See also:\n     *\n     *    mean, median, min, max, prod, std, variance, sum\n     *\n     * @param {... *} args  A single matrix or or multiple scalar values\n     * @return {*} The cumulative sum of all values\n     */\n    return typed(name, {\n      // sum([a, b, c, d, ...])\n      Array: _cumsum,\n      Matrix: function Matrix(matrix) {\n        return matrix.create(_cumsum(matrix.valueOf(), matrix.datatype()));\n      },\n      // sum([a, b, c, d, ...], dim)\n      'Array, number | BigNumber': _ncumSumDim,\n      'Matrix, number | BigNumber': function Matrix_number__BigNumber(matrix, dim) {\n        return matrix.create(_ncumSumDim(matrix.valueOf(), dim), matrix.datatype());\n      },\n      // cumsum(a, b, c, d, ...)\n      '...': function _(args) {\n        if ((0, _utilsCollectionJs.containsCollections)(args)) {\n          throw new TypeError('All values expected to be scalar in function cumsum');\n        }\n        return _cumsum(args);\n      }\n    });\n\n    /**\n       * Recursively calculate the cumulative sum of an n-dimensional array\n       * @param {Array} array\n       * @return {number} cumsum\n       * @private\n       */\n    function _cumsum(array) {\n      try {\n        return _cumsummap(array);\n      } catch (err) {\n        throw (0, _utilsImproveErrorMessageJs.improveErrorMessage)(err, name);\n      }\n    }\n    function _cumsummap(array) {\n      if (array.length === 0) {\n        return [];\n      }\n      var sums = [unaryPlus(array[0])]; // unaryPlus converts to number if need be\n      for (var i = 1; i < array.length; ++i) {\n        // Must use add below and not addScalar for the case of summing a\n        // 2+-dimensional array along the 0th dimension (the row vectors,\n        // or higher-d analogues, are literally added to each other).\n        sums.push(add(sums[i - 1], array[i]));\n      }\n      return sums;\n    }\n    function _ncumSumDim(array, dim) {\n      var size = (0, _utilsArrayJs.arraySize)(array);\n      if (dim < 0 || dim >= size.length) {\n        // TODO: would be more clear when throwing a DimensionError here\n        throw new _errorIndexErrorJs.IndexError(dim, size.length);\n      }\n      try {\n        return _cumsumDimensional(array, dim);\n      } catch (err) {\n        throw (0, _utilsImproveErrorMessageJs.improveErrorMessage)(err, name);\n      }\n    }\n\n    /* Possible TODO: Refactor _reduce in collection.js to be able to work here as well */\n    function _cumsumDimensional(mat, dim) {\n      var i, ret, tran;\n      if (dim <= 0) {\n        var initialValue = mat[0][0];\n        if (!Array.isArray(initialValue)) {\n          return _cumsummap(mat);\n        } else {\n          tran = (0, _utilsSwitchJs._switch)(mat);\n          ret = [];\n          for (i = 0; i < tran.length; i++) {\n            ret[i] = _cumsumDimensional(tran[i], dim - 1);\n          }\n          return ret;\n        }\n      } else {\n        ret = [];\n        for (i = 0; i < mat.length; i++) {\n          ret[i] = _cumsumDimensional(mat[i], dim - 1);\n        }\n        return ret;\n      }\n    }\n  });\n});","lineCount":134,"map":[[7,2,9,0,"Object"],[7,8,9,0],[7,9,9,0,"defineProperty"],[7,23,9,0],[7,24,9,0,"exports"],[7,31,9,0],[8,4,9,0,"enumerable"],[8,14,9,0],[9,4,9,0,"get"],[9,7,9,0],[9,18,9,0,"get"],[9,19,9,0],[10,6,9,0],[10,13,9,0,"createCumSum"],[10,25,9,0],[11,4,9,0],[12,2,9,0],[13,2,1,0],[13,6,1,0,"_utilsCollectionJs"],[13,24,1,0],[13,27,1,0,"require"],[13,34,1,0],[13,35,1,0,"_dependencyMap"],[13,49,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,0,"_utilsSwitchJs"],[15,20,3,0],[15,23,3,0,"require"],[15,30,3,0],[15,31,3,0,"_dependencyMap"],[15,45,3,0],[16,2,4,0],[16,6,4,0,"_utilsImproveErrorMessageJs"],[16,33,4,0],[16,36,4,0,"require"],[16,43,4,0],[16,44,4,0,"_dependencyMap"],[16,58,4,0],[17,2,5,0],[17,6,5,0,"_utilsArrayJs"],[17,19,5,0],[17,22,5,0,"require"],[17,29,5,0],[17,30,5,0,"_dependencyMap"],[17,44,5,0],[18,2,6,0],[18,6,6,0,"_errorIndexErrorJs"],[18,24,6,0],[18,27,6,0,"require"],[18,34,6,0],[18,35,6,0,"_dependencyMap"],[18,49,6,0],[19,2,7,0],[19,6,7,4,"name"],[19,10,7,8],[19,13,7,11],[19,21,7,19],[20,2,8,0],[20,6,8,4,"dependencies"],[20,18,8,16],[20,21,8,19],[20,22,8,20],[20,29,8,27],[20,31,8,29],[20,36,8,34],[20,38,8,36],[20,49,8,47],[20,50,8,48],[21,2,9,7],[21,6,9,11,"createCumSum"],[21,18,9,23],[21,21,9,26],[21,36,9,41],[21,40,9,41,"factory"],[21,55,9,48],[21,56,9,48,"factory"],[21,63,9,48],[21,65,9,49,"name"],[21,69,9,53],[21,71,9,55,"dependencies"],[21,83,9,67],[21,85,9,69,"_ref"],[21,89,9,73],[21,93,9,77],[22,4,10,2],[22,8,11,4,"typed"],[22,13,11,9],[22,16,14,6,"_ref"],[22,20,14,10],[22,21,11,4,"typed"],[22,26,11,9],[23,6,12,4,"add"],[23,9,12,7],[23,12,14,6,"_ref"],[23,16,14,10],[23,17,12,4,"add"],[23,20,12,7],[24,6,13,4,"unaryPlus"],[24,15,13,13],[24,18,14,6,"_ref"],[24,22,14,10],[24,23,13,4,"unaryPlus"],[24,32,13,13],[25,4,15,2],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,0,35,0],[46,0,36,0],[47,0,37,0],[48,0,38,0],[49,0,39,0],[50,0,40,0],[51,4,41,2],[51,11,41,9,"typed"],[51,16,41,14],[51,17,41,15,"name"],[51,21,41,19],[51,23,41,21],[52,6,42,4],[53,6,43,4,"Array"],[53,11,43,9],[53,13,43,11,"_cumsum"],[53,20,43,18],[54,6,44,4,"Matrix"],[54,12,44,10],[54,14,44,12],[54,23,44,21,"Matrix"],[54,29,44,27,"Matrix"],[54,30,44,28,"matrix"],[54,36,44,34],[54,38,44,36],[55,8,45,6],[55,15,45,13,"matrix"],[55,21,45,19],[55,22,45,20,"create"],[55,28,45,26],[55,29,45,27,"_cumsum"],[55,36,45,34],[55,37,45,35,"matrix"],[55,43,45,41],[55,44,45,42,"valueOf"],[55,51,45,49],[55,52,45,50],[55,53,45,51],[55,55,45,53,"matrix"],[55,61,45,59],[55,62,45,60,"datatype"],[55,70,45,68],[55,71,45,69],[55,72,45,70],[55,73,45,71],[55,74,45,72],[56,6,46,4],[56,7,46,5],[57,6,47,4],[58,6,48,4],[58,33,48,31],[58,35,48,33,"_ncumSumDim"],[58,46,48,44],[59,6,49,4],[59,34,49,32],[59,36,49,34],[59,45,49,43,"Matrix_number__BigNumber"],[59,69,49,67,"Matrix_number__BigNumber"],[59,70,49,68,"matrix"],[59,76,49,74],[59,78,49,76,"dim"],[59,81,49,79],[59,83,49,81],[60,8,50,6],[60,15,50,13,"matrix"],[60,21,50,19],[60,22,50,20,"create"],[60,28,50,26],[60,29,50,27,"_ncumSumDim"],[60,40,50,38],[60,41,50,39,"matrix"],[60,47,50,45],[60,48,50,46,"valueOf"],[60,55,50,53],[60,56,50,54],[60,57,50,55],[60,59,50,57,"dim"],[60,62,50,60],[60,63,50,61],[60,65,50,63,"matrix"],[60,71,50,69],[60,72,50,70,"datatype"],[60,80,50,78],[60,81,50,79],[60,82,50,80],[60,83,50,81],[61,6,51,4],[61,7,51,5],[62,6,52,4],[63,6,53,4],[63,11,53,9],[63,13,53,11],[63,22,53,20,"_"],[63,23,53,21,"_"],[63,24,53,22,"args"],[63,28,53,26],[63,30,53,28],[64,8,54,6],[64,12,54,10],[64,16,54,10,"containsCollections"],[64,34,54,29],[64,35,54,29,"containsCollections"],[64,54,54,29],[64,56,54,30,"args"],[64,60,54,34],[64,61,54,35],[64,63,54,37],[65,10,55,8],[65,16,55,14],[65,20,55,18,"TypeError"],[65,29,55,27],[65,30,55,28],[65,83,55,81],[65,84,55,82],[66,8,56,6],[67,8,57,6],[67,15,57,13,"_cumsum"],[67,22,57,20],[67,23,57,21,"args"],[67,27,57,25],[67,28,57,26],[68,6,58,4],[69,4,59,2],[69,5,59,3],[69,6,59,4],[71,4,61,2],[72,0,62,0],[73,0,63,0],[74,0,64,0],[75,0,65,0],[76,0,66,0],[77,4,67,2],[77,13,67,11,"_cumsum"],[77,20,67,18,"_cumsum"],[77,21,67,19,"array"],[77,26,67,24],[77,28,67,26],[78,6,68,4],[78,10,68,8],[79,8,69,6],[79,15,69,13,"_cumsummap"],[79,25,69,23],[79,26,69,24,"array"],[79,31,69,29],[79,32,69,30],[80,6,70,4],[80,7,70,5],[80,8,70,6],[80,15,70,13,"err"],[80,18,70,16],[80,20,70,18],[81,8,71,6],[81,14,71,12],[81,18,71,12,"improveErrorMessage"],[81,45,71,31],[81,46,71,31,"improveErrorMessage"],[81,65,71,31],[81,67,71,32,"err"],[81,70,71,35],[81,72,71,37,"name"],[81,76,71,41],[81,77,71,42],[82,6,72,4],[83,4,73,2],[84,4,74,2],[84,13,74,11,"_cumsummap"],[84,23,74,21,"_cumsummap"],[84,24,74,22,"array"],[84,29,74,27],[84,31,74,29],[85,6,75,4],[85,10,75,8,"array"],[85,15,75,13],[85,16,75,14,"length"],[85,22,75,20],[85,27,75,25],[85,28,75,26],[85,30,75,28],[86,8,76,6],[86,15,76,13],[86,17,76,15],[87,6,77,4],[88,6,78,4],[88,10,78,8,"sums"],[88,14,78,12],[88,17,78,15],[88,18,78,16,"unaryPlus"],[88,27,78,25],[88,28,78,26,"array"],[88,33,78,31],[88,34,78,32],[88,35,78,33],[88,36,78,34],[88,37,78,35],[88,38,78,36],[88,39,78,37],[88,40,78,38],[89,6,79,4],[89,11,79,9],[89,15,79,13,"i"],[89,16,79,14],[89,19,79,17],[89,20,79,18],[89,22,79,20,"i"],[89,23,79,21],[89,26,79,24,"array"],[89,31,79,29],[89,32,79,30,"length"],[89,38,79,36],[89,40,79,38],[89,42,79,40,"i"],[89,43,79,41],[89,45,79,43],[90,8,80,6],[91,8,81,6],[92,8,82,6],[93,8,83,6,"sums"],[93,12,83,10],[93,13,83,11,"push"],[93,17,83,15],[93,18,83,16,"add"],[93,21,83,19],[93,22,83,20,"sums"],[93,26,83,24],[93,27,83,25,"i"],[93,28,83,26],[93,31,83,29],[93,32,83,30],[93,33,83,31],[93,35,83,33,"array"],[93,40,83,38],[93,41,83,39,"i"],[93,42,83,40],[93,43,83,41],[93,44,83,42],[93,45,83,43],[94,6,84,4],[95,6,85,4],[95,13,85,11,"sums"],[95,17,85,15],[96,4,86,2],[97,4,87,2],[97,13,87,11,"_ncumSumDim"],[97,24,87,22,"_ncumSumDim"],[97,25,87,23,"array"],[97,30,87,28],[97,32,87,30,"dim"],[97,35,87,33],[97,37,87,35],[98,6,88,4],[98,10,88,8,"size"],[98,14,88,12],[98,17,88,15],[98,21,88,15,"arraySize"],[98,34,88,24],[98,35,88,24,"arraySize"],[98,44,88,24],[98,46,88,25,"array"],[98,51,88,30],[98,52,88,31],[99,6,89,4],[99,10,89,8,"dim"],[99,13,89,11],[99,16,89,14],[99,17,89,15],[99,21,89,19,"dim"],[99,24,89,22],[99,28,89,26,"size"],[99,32,89,30],[99,33,89,31,"length"],[99,39,89,37],[99,41,89,39],[100,8,90,6],[101,8,91,6],[101,14,91,12],[101,18,91,16,"IndexError"],[101,36,91,26],[101,37,91,26,"IndexError"],[101,47,91,26],[101,48,91,27,"dim"],[101,51,91,30],[101,53,91,32,"size"],[101,57,91,36],[101,58,91,37,"length"],[101,64,91,43],[101,65,91,44],[102,6,92,4],[103,6,93,4],[103,10,93,8],[104,8,94,6],[104,15,94,13,"_cumsumDimensional"],[104,33,94,31],[104,34,94,32,"array"],[104,39,94,37],[104,41,94,39,"dim"],[104,44,94,42],[104,45,94,43],[105,6,95,4],[105,7,95,5],[105,8,95,6],[105,15,95,13,"err"],[105,18,95,16],[105,20,95,18],[106,8,96,6],[106,14,96,12],[106,18,96,12,"improveErrorMessage"],[106,45,96,31],[106,46,96,31,"improveErrorMessage"],[106,65,96,31],[106,67,96,32,"err"],[106,70,96,35],[106,72,96,37,"name"],[106,76,96,41],[106,77,96,42],[107,6,97,4],[108,4,98,2],[110,4,100,2],[111,4,101,2],[111,13,101,11,"_cumsumDimensional"],[111,31,101,29,"_cumsumDimensional"],[111,32,101,30,"mat"],[111,35,101,33],[111,37,101,35,"dim"],[111,40,101,38],[111,42,101,40],[112,6,102,4],[112,10,102,8,"i"],[112,11,102,9],[112,13,102,11,"ret"],[112,16,102,14],[112,18,102,16,"tran"],[112,22,102,20],[113,6,103,4],[113,10,103,8,"dim"],[113,13,103,11],[113,17,103,15],[113,18,103,16],[113,20,103,18],[114,8,104,6],[114,12,104,10,"initialValue"],[114,24,104,22],[114,27,104,25,"mat"],[114,30,104,28],[114,31,104,29],[114,32,104,30],[114,33,104,31],[114,34,104,32],[114,35,104,33],[114,36,104,34],[115,8,105,6],[115,12,105,10],[115,13,105,11,"Array"],[115,18,105,16],[115,19,105,17,"isArray"],[115,26,105,24],[115,27,105,25,"initialValue"],[115,39,105,37],[115,40,105,38],[115,42,105,40],[116,10,106,8],[116,17,106,15,"_cumsummap"],[116,27,106,25],[116,28,106,26,"mat"],[116,31,106,29],[116,32,106,30],[117,8,107,6],[117,9,107,7],[117,15,107,13],[118,10,108,8,"tran"],[118,14,108,12],[118,17,108,15],[118,21,108,15,"_switch"],[118,35,108,22],[118,36,108,22,"_switch"],[118,43,108,22],[118,45,108,23,"mat"],[118,48,108,26],[118,49,108,27],[119,10,109,8,"ret"],[119,13,109,11],[119,16,109,14],[119,18,109,16],[120,10,110,8],[120,15,110,13,"i"],[120,16,110,14],[120,19,110,17],[120,20,110,18],[120,22,110,20,"i"],[120,23,110,21],[120,26,110,24,"tran"],[120,30,110,28],[120,31,110,29,"length"],[120,37,110,35],[120,39,110,37,"i"],[120,40,110,38],[120,42,110,40],[120,44,110,42],[121,12,111,10,"ret"],[121,15,111,13],[121,16,111,14,"i"],[121,17,111,15],[121,18,111,16],[121,21,111,19,"_cumsumDimensional"],[121,39,111,37],[121,40,111,38,"tran"],[121,44,111,42],[121,45,111,43,"i"],[121,46,111,44],[121,47,111,45],[121,49,111,47,"dim"],[121,52,111,50],[121,55,111,53],[121,56,111,54],[121,57,111,55],[122,10,112,8],[123,10,113,8],[123,17,113,15,"ret"],[123,20,113,18],[124,8,114,6],[125,6,115,4],[125,7,115,5],[125,13,115,11],[126,8,116,6,"ret"],[126,11,116,9],[126,14,116,12],[126,16,116,14],[127,8,117,6],[127,13,117,11,"i"],[127,14,117,12],[127,17,117,15],[127,18,117,16],[127,20,117,18,"i"],[127,21,117,19],[127,24,117,22,"mat"],[127,27,117,25],[127,28,117,26,"length"],[127,34,117,32],[127,36,117,34,"i"],[127,37,117,35],[127,39,117,37],[127,41,117,39],[128,10,118,8,"ret"],[128,13,118,11],[128,14,118,12,"i"],[128,15,118,13],[128,16,118,14],[128,19,118,17,"_cumsumDimensional"],[128,37,118,35],[128,38,118,36,"mat"],[128,41,118,39],[128,42,118,40,"i"],[128,43,118,41],[128,44,118,42],[128,46,118,44,"dim"],[128,49,118,47],[128,52,118,50],[128,53,118,51],[128,54,118,52],[129,8,119,6],[130,8,120,6],[130,15,120,13,"ret"],[130,18,120,16],[131,6,121,4],[132,4,122,2],[133,2,123,0],[133,3,123,1],[133,4,123,2],[134,0,123,3],[134,3]],"functionMap":{"names":["<global>","factory$argument_2","Matrix","Matrix_number__BigNumber","_","_cumsum","_cumsummap","_ncumSumDim","_cumsumDimensional"],"mappings":"AAA;qECQ;YCmC;KDE;kCEG;KFE;WGE;KHK;EIS;GJM;EKC;GLY;EMC;GNW;EOG;GPqB;CDC"},"hasCjsExports":false},"type":"js/module"}]}