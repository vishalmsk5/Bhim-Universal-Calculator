{"dependencies":[{"name":"../../../utils/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"IWFnddAqEi1P6QBS4T+IMjXUKog=","exportNames":["*"],"imports":1}},{"name":"../../../utils/map.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":55,"index":108}}],"key":"MIYUg+7889ehmhNkbspLeRmRI4g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.compileInlineExpression = compileInlineExpression;\n  var _utilsIsJs = require(_dependencyMap[0], \"../../../utils/is.js\");\n  var _utilsMapJs = require(_dependencyMap[1], \"../../../utils/map.js\");\n  /**\n   * Compile an inline expression like \"x > 0\"\n   * @param {Node} expression\n   * @param {Object} math\n   * @param {Map} scope\n   * @return {function} Returns a function with one argument which fills in the\n   *                    undefined variable (like \"x\") and evaluates the expression\n   */\n  function compileInlineExpression(expression, math, scope) {\n    // find an undefined symbol\n    var symbol = expression.filter(function (node) {\n      return (0, _utilsIsJs.isSymbolNode)(node) && !(node.name in math) && !scope.has(node.name);\n    })[0];\n    if (!symbol) {\n      throw new Error('No undefined variable found in inline expression \"' + expression + '\"');\n    }\n\n    // create a test function for this equation\n    var name = symbol.name; // variable name\n    var argsScope = new Map();\n    var subScope = new _utilsMapJs.PartitionedMap(scope, argsScope, new Set([name]));\n    var eq = expression.compile();\n    return function inlineExpression(x) {\n      argsScope.set(name, x);\n      return eq.evaluate(subScope);\n    };\n  }\n});","lineCount":37,"map":[[7,2,12,0,"exports"],[7,9,12,0],[7,10,12,0,"compileInlineExpression"],[7,33,12,0],[7,36,12,0,"compileInlineExpression"],[7,59,12,0],[8,2,1,0],[8,6,1,0,"_utilsIsJs"],[8,16,1,0],[8,19,1,0,"require"],[8,26,1,0],[8,27,1,0,"_dependencyMap"],[8,41,1,0],[9,2,2,0],[9,6,2,0,"_utilsMapJs"],[9,17,2,0],[9,20,2,0,"require"],[9,27,2,0],[9,28,2,0,"_dependencyMap"],[9,42,2,0],[10,2,4,0],[11,0,5,0],[12,0,6,0],[13,0,7,0],[14,0,8,0],[15,0,9,0],[16,0,10,0],[17,0,11,0],[18,2,12,7],[18,11,12,16,"compileInlineExpression"],[18,34,12,39,"compileInlineExpression"],[18,35,12,40,"expression"],[18,45,12,50],[18,47,12,52,"math"],[18,51,12,56],[18,53,12,58,"scope"],[18,58,12,63],[18,60,12,65],[19,4,13,2],[20,4,14,2],[20,8,14,6,"symbol"],[20,14,14,12],[20,17,14,15,"expression"],[20,27,14,25],[20,28,14,26,"filter"],[20,34,14,32],[20,35,14,33],[20,45,14,43,"node"],[20,49,14,47],[20,51,14,49],[21,6,15,4],[21,13,15,11],[21,17,15,11,"isSymbolNode"],[21,27,15,23],[21,28,15,23,"isSymbolNode"],[21,40,15,23],[21,42,15,24,"node"],[21,46,15,28],[21,47,15,29],[21,51,15,33],[21,53,15,35,"node"],[21,57,15,39],[21,58,15,40,"name"],[21,62,15,44],[21,66,15,48,"math"],[21,70,15,52],[21,71,15,53],[21,75,15,57],[21,76,15,58,"scope"],[21,81,15,63],[21,82,15,64,"has"],[21,85,15,67],[21,86,15,68,"node"],[21,90,15,72],[21,91,15,73,"name"],[21,95,15,77],[21,96,15,78],[22,4,16,2],[22,5,16,3],[22,6,16,4],[22,7,16,5],[22,8,16,6],[22,9,16,7],[23,4,17,2],[23,8,17,6],[23,9,17,7,"symbol"],[23,15,17,13],[23,17,17,15],[24,6,18,4],[24,12,18,10],[24,16,18,14,"Error"],[24,21,18,19],[24,22,18,20],[24,74,18,72],[24,77,18,75,"expression"],[24,87,18,85],[24,90,18,88],[24,93,18,91],[24,94,18,92],[25,4,19,2],[27,4,21,2],[28,4,22,2],[28,8,22,6,"name"],[28,12,22,10],[28,15,22,13,"symbol"],[28,21,22,19],[28,22,22,20,"name"],[28,26,22,24],[28,27,22,25],[28,28,22,26],[29,4,23,2],[29,8,23,6,"argsScope"],[29,17,23,15],[29,20,23,18],[29,24,23,22,"Map"],[29,27,23,25],[29,28,23,26],[29,29,23,27],[30,4,24,2],[30,8,24,6,"subScope"],[30,16,24,14],[30,19,24,17],[30,23,24,21,"PartitionedMap"],[30,34,24,35],[30,35,24,35,"PartitionedMap"],[30,49,24,35],[30,50,24,36,"scope"],[30,55,24,41],[30,57,24,43,"argsScope"],[30,66,24,52],[30,68,24,54],[30,72,24,58,"Set"],[30,75,24,61],[30,76,24,62],[30,77,24,63,"name"],[30,81,24,67],[30,82,24,68],[30,83,24,69],[30,84,24,70],[31,4,25,2],[31,8,25,6,"eq"],[31,10,25,8],[31,13,25,11,"expression"],[31,23,25,21],[31,24,25,22,"compile"],[31,31,25,29],[31,32,25,30],[31,33,25,31],[32,4,26,2],[32,11,26,9],[32,20,26,18,"inlineExpression"],[32,36,26,34,"inlineExpression"],[32,37,26,35,"x"],[32,38,26,36],[32,40,26,38],[33,6,27,4,"argsScope"],[33,15,27,13],[33,16,27,14,"set"],[33,19,27,17],[33,20,27,18,"name"],[33,24,27,22],[33,26,27,24,"x"],[33,27,27,25],[33,28,27,26],[34,6,28,4],[34,13,28,11,"eq"],[34,15,28,13],[34,16,28,14,"evaluate"],[34,24,28,22],[34,25,28,23,"subScope"],[34,33,28,31],[34,34,28,32],[35,4,29,2],[35,5,29,3],[36,2,30,0],[37,0,30,1],[37,3]],"functionMap":{"names":["<global>","compileInlineExpression","expression.filter$argument_0","inlineExpression"],"mappings":"AAA;OCW;iCCE;GDE;SEU;GFG"},"hasCjsExports":false},"type":"js/module"}]}