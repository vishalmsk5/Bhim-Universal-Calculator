{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"createTransformCallback\", {\n    enumerable: true,\n    get: function () {\n      return createTransformCallback;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../../utils/factory.js\");\n  var name = 'transformCallback';\n  var dependencies = ['typed'];\n  var createTransformCallback = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed;\n    /**\n           * Transforms the given callback function based on its type and number of arrays.\n           *\n           * @param {Function} callback - The callback function to transform.\n           * @param {number} numberOfArrays - The number of arrays to pass to the callback function.\n           * @returns {*} - The transformed callback function.\n           */\n    return function (callback, numberOfArrays) {\n      if (typed.isTypedFunction(callback)) {\n        return _transformTypedCallbackFunction(callback, numberOfArrays);\n      } else {\n        return _transformCallbackFunction(callback, callback.length, numberOfArrays);\n      }\n    };\n\n    /**\n         * Transforms the given typed callback function based on the number of arrays.\n         *\n         * @param {Function} typedFunction - The typed callback function to transform.\n         * @param {number} numberOfArrays - The number of arrays to pass to the callback function.\n         * @returns {*} - The transformed callback function.\n         */\n    function _transformTypedCallbackFunction(typedFunction, numberOfArrays) {\n      var signatures = Object.fromEntries(Object.entries(typedFunction.signatures).map(_ref2 => {\n        var _ref3 = (0, _slicedToArray.default)(_ref2, 2),\n          signature = _ref3[0],\n          callbackFunction = _ref3[1];\n        var numberOfCallbackInputs = signature.split(',').length;\n        if (typed.isTypedFunction(callbackFunction)) {\n          return [signature, _transformTypedCallbackFunction(callbackFunction, numberOfArrays)];\n        } else {\n          return [signature, _transformCallbackFunction(callbackFunction, numberOfCallbackInputs, numberOfArrays)];\n        }\n      }));\n      if (typeof typedFunction.name === 'string') {\n        return typed(typedFunction.name, signatures);\n      } else {\n        return typed(signatures);\n      }\n    }\n  });\n\n  /**\n       * Transforms the callback function based on the number of callback inputs and arrays.\n       * There are three cases:\n       * 1. The callback function has N arguments.\n       * 2. The callback function has N+1 arguments.\n       * 3. The callback function has 2N+1 arguments.\n       *\n       * @param {Function} callbackFunction - The callback function to transform.\n       * @param {number} numberOfCallbackInputs - The number of callback inputs.\n       * @param {number} numberOfArrays - The number of arrays.\n       * @returns {Function} The transformed callback function.\n       */\n  function _transformCallbackFunction(callbackFunction, numberOfCallbackInputs, numberOfArrays) {\n    if (numberOfCallbackInputs === numberOfArrays) {\n      return callbackFunction;\n    } else if (numberOfCallbackInputs === numberOfArrays + 1) {\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        var vals = args.slice(0, numberOfArrays);\n        var idx = _transformDims(args[numberOfArrays]);\n        return callbackFunction(...vals, idx);\n      };\n    } else if (numberOfCallbackInputs > numberOfArrays + 1) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        var vals = args.slice(0, numberOfArrays);\n        var idx = _transformDims(args[numberOfArrays]);\n        var rest = args.slice(numberOfArrays + 1);\n        return callbackFunction(...vals, idx, ...rest);\n      };\n    } else {\n      return callbackFunction;\n    }\n  }\n\n  /**\n     * Transforms the dimensions by adding 1 to each dimension.\n     *\n     * @param {Array} dims - The dimensions to transform.\n     * @returns {Array} The transformed dimensions.\n     */\n  function _transformDims(dims) {\n    return dims.map(dim => dim + 1);\n  }\n});","lineCount":115,"map":[[12,2,4,0,"Object"],[12,8,4,0],[12,9,4,0,"defineProperty"],[12,23,4,0],[12,24,4,0,"exports"],[12,31,4,0],[13,4,4,0,"enumerable"],[13,14,4,0],[14,4,4,0,"get"],[14,7,4,0],[14,18,4,0,"get"],[14,19,4,0],[15,6,4,0],[15,13,4,0,"createTransformCallback"],[15,36,4,0],[16,4,4,0],[17,2,4,0],[18,2,46,3],[18,6,46,3,"_babelRuntimeHelpersSlicedToArray"],[18,39,46,3],[18,42,46,3,"require"],[18,49,46,3],[18,50,46,3,"_dependencyMap"],[18,64,46,3],[19,2,46,3],[19,6,46,3,"_slicedToArray"],[19,20,46,3],[19,23,46,3,"_interopDefault"],[19,38,46,3],[19,39,46,3,"_babelRuntimeHelpersSlicedToArray"],[19,72,46,3],[20,2,1,0],[20,6,1,0,"_utilsFactoryJs"],[20,21,1,0],[20,24,1,0,"require"],[20,31,1,0],[20,32,1,0,"_dependencyMap"],[20,46,1,0],[21,2,2,0],[21,6,2,4,"name"],[21,10,2,8],[21,13,2,11],[21,32,2,30],[22,2,3,0],[22,6,3,4,"dependencies"],[22,18,3,16],[22,21,3,19],[22,22,3,20],[22,29,3,27],[22,30,3,28],[23,2,4,7],[23,6,4,11,"createTransformCallback"],[23,29,4,34],[23,32,4,37],[23,47,4,52],[23,51,4,52,"factory"],[23,66,4,59],[23,67,4,59,"factory"],[23,74,4,59],[23,76,4,60,"name"],[23,80,4,64],[23,82,4,66,"dependencies"],[23,94,4,78],[23,96,4,80,"_ref"],[23,100,4,84],[23,104,4,88],[24,4,5,2],[24,8,6,4,"typed"],[24,13,6,9],[24,16,7,6,"_ref"],[24,20,7,10],[24,21,6,4,"typed"],[24,26,6,9],[25,4,8,2],[26,0,9,0],[27,0,10,0],[28,0,11,0],[29,0,12,0],[30,0,13,0],[31,0,14,0],[32,4,15,2],[32,11,15,9],[32,21,15,19,"callback"],[32,29,15,27],[32,31,15,29,"numberOfArrays"],[32,45,15,43],[32,47,15,45],[33,6,16,4],[33,10,16,8,"typed"],[33,15,16,13],[33,16,16,14,"isTypedFunction"],[33,31,16,29],[33,32,16,30,"callback"],[33,40,16,38],[33,41,16,39],[33,43,16,41],[34,8,17,6],[34,15,17,13,"_transformTypedCallbackFunction"],[34,46,17,44],[34,47,17,45,"callback"],[34,55,17,53],[34,57,17,55,"numberOfArrays"],[34,71,17,69],[34,72,17,70],[35,6,18,4],[35,7,18,5],[35,13,18,11],[36,8,19,6],[36,15,19,13,"_transformCallbackFunction"],[36,41,19,39],[36,42,19,40,"callback"],[36,50,19,48],[36,52,19,50,"callback"],[36,60,19,58],[36,61,19,59,"length"],[36,67,19,65],[36,69,19,67,"numberOfArrays"],[36,83,19,81],[36,84,19,82],[37,6,20,4],[38,4,21,2],[38,5,21,3],[40,4,23,2],[41,0,24,0],[42,0,25,0],[43,0,26,0],[44,0,27,0],[45,0,28,0],[46,0,29,0],[47,4,30,2],[47,13,30,11,"_transformTypedCallbackFunction"],[47,44,30,42,"_transformTypedCallbackFunction"],[47,45,30,43,"typedFunction"],[47,58,30,56],[47,60,30,58,"numberOfArrays"],[47,74,30,72],[47,76,30,74],[48,6,31,4],[48,10,31,8,"signatures"],[48,20,31,18],[48,23,31,21,"Object"],[48,29,31,27],[48,30,31,28,"fromEntries"],[48,41,31,39],[48,42,31,40,"Object"],[48,48,31,46],[48,49,31,47,"entries"],[48,56,31,54],[48,57,31,55,"typedFunction"],[48,70,31,68],[48,71,31,69,"signatures"],[48,81,31,79],[48,82,31,80],[48,83,31,81,"map"],[48,86,31,84],[48,87,31,85,"_ref2"],[48,92,31,90],[48,96,31,94],[49,8,32,6],[49,12,32,6,"_ref3"],[49,17,32,6],[49,24,32,6,"_slicedToArray"],[49,38,32,6],[49,39,32,6,"default"],[49,46,32,6],[49,48,32,42,"_ref2"],[49,53,32,47],[50,10,32,11,"signature"],[50,19,32,20],[50,22,32,20,"_ref3"],[50,27,32,20],[51,10,32,22,"callbackFunction"],[51,26,32,38],[51,29,32,38,"_ref3"],[51,34,32,38],[52,8,33,6],[52,12,33,10,"numberOfCallbackInputs"],[52,34,33,32],[52,37,33,35,"signature"],[52,46,33,44],[52,47,33,45,"split"],[52,52,33,50],[52,53,33,51],[52,56,33,54],[52,57,33,55],[52,58,33,56,"length"],[52,64,33,62],[53,8,34,6],[53,12,34,10,"typed"],[53,17,34,15],[53,18,34,16,"isTypedFunction"],[53,33,34,31],[53,34,34,32,"callbackFunction"],[53,50,34,48],[53,51,34,49],[53,53,34,51],[54,10,35,8],[54,17,35,15],[54,18,35,16,"signature"],[54,27,35,25],[54,29,35,27,"_transformTypedCallbackFunction"],[54,60,35,58],[54,61,35,59,"callbackFunction"],[54,77,35,75],[54,79,35,77,"numberOfArrays"],[54,93,35,91],[54,94,35,92],[54,95,35,93],[55,8,36,6],[55,9,36,7],[55,15,36,13],[56,10,37,8],[56,17,37,15],[56,18,37,16,"signature"],[56,27,37,25],[56,29,37,27,"_transformCallbackFunction"],[56,55,37,53],[56,56,37,54,"callbackFunction"],[56,72,37,70],[56,74,37,72,"numberOfCallbackInputs"],[56,96,37,94],[56,98,37,96,"numberOfArrays"],[56,112,37,110],[56,113,37,111],[56,114,37,112],[57,8,38,6],[58,6,39,4],[58,7,39,5],[58,8,39,6],[58,9,39,7],[59,6,40,4],[59,10,40,8],[59,17,40,15,"typedFunction"],[59,30,40,28],[59,31,40,29,"name"],[59,35,40,33],[59,40,40,38],[59,48,40,46],[59,50,40,48],[60,8,41,6],[60,15,41,13,"typed"],[60,20,41,18],[60,21,41,19,"typedFunction"],[60,34,41,32],[60,35,41,33,"name"],[60,39,41,37],[60,41,41,39,"signatures"],[60,51,41,49],[60,52,41,50],[61,6,42,4],[61,7,42,5],[61,13,42,11],[62,8,43,6],[62,15,43,13,"typed"],[62,20,43,18],[62,21,43,19,"signatures"],[62,31,43,29],[62,32,43,30],[63,6,44,4],[64,4,45,2],[65,2,46,0],[65,3,46,1],[65,4,46,2],[67,2,48,0],[68,0,49,0],[69,0,50,0],[70,0,51,0],[71,0,52,0],[72,0,53,0],[73,0,54,0],[74,0,55,0],[75,0,56,0],[76,0,57,0],[77,0,58,0],[78,0,59,0],[79,2,60,0],[79,11,60,9,"_transformCallbackFunction"],[79,37,60,35,"_transformCallbackFunction"],[79,38,60,36,"callbackFunction"],[79,54,60,52],[79,56,60,54,"numberOfCallbackInputs"],[79,78,60,76],[79,80,60,78,"numberOfArrays"],[79,94,60,92],[79,96,60,94],[80,4,61,2],[80,8,61,6,"numberOfCallbackInputs"],[80,30,61,28],[80,35,61,33,"numberOfArrays"],[80,49,61,47],[80,51,61,49],[81,6,62,4],[81,13,62,11,"callbackFunction"],[81,29,62,27],[82,4,63,2],[82,5,63,3],[82,11,63,9],[82,15,63,13,"numberOfCallbackInputs"],[82,37,63,35],[82,42,63,40,"numberOfArrays"],[82,56,63,54],[82,59,63,57],[82,60,63,58],[82,62,63,60],[83,6,64,4],[83,13,64,11],[83,25,64,23],[84,8,65,6],[84,13,65,11],[84,17,65,15,"_len"],[84,21,65,19],[84,24,65,22,"arguments"],[84,33,65,31],[84,34,65,32,"length"],[84,40,65,38],[84,42,65,40,"args"],[84,46,65,44],[84,49,65,47],[84,53,65,51,"Array"],[84,58,65,56],[84,59,65,57,"_len"],[84,63,65,61],[84,64,65,62],[84,66,65,64,"_key"],[84,70,65,68],[84,73,65,71],[84,74,65,72],[84,76,65,74,"_key"],[84,80,65,78],[84,83,65,81,"_len"],[84,87,65,85],[84,89,65,87,"_key"],[84,93,65,91],[84,95,65,93],[84,97,65,95],[85,10,66,8,"args"],[85,14,66,12],[85,15,66,13,"_key"],[85,19,66,17],[85,20,66,18],[85,23,66,21,"arguments"],[85,32,66,30],[85,33,66,31,"_key"],[85,37,66,35],[85,38,66,36],[86,8,67,6],[87,8,68,6],[87,12,68,10,"vals"],[87,16,68,14],[87,19,68,17,"args"],[87,23,68,21],[87,24,68,22,"slice"],[87,29,68,27],[87,30,68,28],[87,31,68,29],[87,33,68,31,"numberOfArrays"],[87,47,68,45],[87,48,68,46],[88,8,69,6],[88,12,69,10,"idx"],[88,15,69,13],[88,18,69,16,"_transformDims"],[88,32,69,30],[88,33,69,31,"args"],[88,37,69,35],[88,38,69,36,"numberOfArrays"],[88,52,69,50],[88,53,69,51],[88,54,69,52],[89,8,70,6],[89,15,70,13,"callbackFunction"],[89,31,70,29],[89,32,70,30],[89,35,70,33,"vals"],[89,39,70,37],[89,41,70,39,"idx"],[89,44,70,42],[89,45,70,43],[90,6,71,4],[90,7,71,5],[91,4,72,2],[91,5,72,3],[91,11,72,9],[91,15,72,13,"numberOfCallbackInputs"],[91,37,72,35],[91,40,72,38,"numberOfArrays"],[91,54,72,52],[91,57,72,55],[91,58,72,56],[91,60,72,58],[92,6,73,4],[92,13,73,11],[92,25,73,23],[93,8,74,6],[93,13,74,11],[93,17,74,15,"_len2"],[93,22,74,20],[93,25,74,23,"arguments"],[93,34,74,32],[93,35,74,33,"length"],[93,41,74,39],[93,43,74,41,"args"],[93,47,74,45],[93,50,74,48],[93,54,74,52,"Array"],[93,59,74,57],[93,60,74,58,"_len2"],[93,65,74,63],[93,66,74,64],[93,68,74,66,"_key2"],[93,73,74,71],[93,76,74,74],[93,77,74,75],[93,79,74,77,"_key2"],[93,84,74,82],[93,87,74,85,"_len2"],[93,92,74,90],[93,94,74,92,"_key2"],[93,99,74,97],[93,101,74,99],[93,103,74,101],[94,10,75,8,"args"],[94,14,75,12],[94,15,75,13,"_key2"],[94,20,75,18],[94,21,75,19],[94,24,75,22,"arguments"],[94,33,75,31],[94,34,75,32,"_key2"],[94,39,75,37],[94,40,75,38],[95,8,76,6],[96,8,77,6],[96,12,77,10,"vals"],[96,16,77,14],[96,19,77,17,"args"],[96,23,77,21],[96,24,77,22,"slice"],[96,29,77,27],[96,30,77,28],[96,31,77,29],[96,33,77,31,"numberOfArrays"],[96,47,77,45],[96,48,77,46],[97,8,78,6],[97,12,78,10,"idx"],[97,15,78,13],[97,18,78,16,"_transformDims"],[97,32,78,30],[97,33,78,31,"args"],[97,37,78,35],[97,38,78,36,"numberOfArrays"],[97,52,78,50],[97,53,78,51],[97,54,78,52],[98,8,79,6],[98,12,79,10,"rest"],[98,16,79,14],[98,19,79,17,"args"],[98,23,79,21],[98,24,79,22,"slice"],[98,29,79,27],[98,30,79,28,"numberOfArrays"],[98,44,79,42],[98,47,79,45],[98,48,79,46],[98,49,79,47],[99,8,80,6],[99,15,80,13,"callbackFunction"],[99,31,80,29],[99,32,80,30],[99,35,80,33,"vals"],[99,39,80,37],[99,41,80,39,"idx"],[99,44,80,42],[99,46,80,44],[99,49,80,47,"rest"],[99,53,80,51],[99,54,80,52],[100,6,81,4],[100,7,81,5],[101,4,82,2],[101,5,82,3],[101,11,82,9],[102,6,83,4],[102,13,83,11,"callbackFunction"],[102,29,83,27],[103,4,84,2],[104,2,85,0],[106,2,87,0],[107,0,88,0],[108,0,89,0],[109,0,90,0],[110,0,91,0],[111,0,92,0],[112,2,93,0],[112,11,93,9,"_transformDims"],[112,25,93,23,"_transformDims"],[112,26,93,24,"dims"],[112,30,93,28],[112,32,93,30],[113,4,94,2],[113,11,94,9,"dims"],[113,15,94,13],[113,16,94,14,"map"],[113,19,94,17],[113,20,94,18,"dim"],[113,23,94,21],[113,27,94,25,"dim"],[113,30,94,28],[113,33,94,31],[113,34,94,32],[113,35,94,33],[114,2,95,0],[115,0,95,1],[115,3]],"functionMap":{"names":["<global>","factory$argument_2","<anonymous>","_transformTypedCallbackFunction","Object.entries.map$argument_0","_transformCallbackFunction","_transformDims","dims.map$argument_0"],"mappings":"AAA;gFCG;SCW;GDM;EES;qFCC;KDQ;GFM;CDC;AKc;WHI;KGO;WHE;KGQ;CLI;AMQ;kBCC,cD"},"hasCjsExports":false},"type":"js/module"}]}