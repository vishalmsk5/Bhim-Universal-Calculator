{"dependencies":[{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":47,"index":47}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":49,"index":97}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"./utils/improveErrorMessage.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":98},"end":{"line":3,"column":69,"index":167}}],"key":"OctJ2iR6C74+6ORuXPT3M8Q90Dc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMad\", {\n    enumerable: true,\n    get: function () {\n      return createMad;\n    }\n  });\n  var _utilsArrayJs = require(_dependencyMap[0], \"../../utils/array.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../utils/factory.js\");\n  var _utilsImproveErrorMessageJs = require(_dependencyMap[2], \"./utils/improveErrorMessage.js\");\n  var name = 'mad';\n  var dependencies = ['typed', 'abs', 'map', 'median', 'subtract'];\n  var createMad = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      abs = _ref.abs,\n      map = _ref.map,\n      median = _ref.median,\n      subtract = _ref.subtract;\n    /**\n     * Compute the median absolute deviation of a matrix or a list with values.\n     * The median absolute deviation is defined as the median of the absolute\n     * deviations from the median.\n     *\n     * Syntax:\n     *\n     *     math.mad(a, b, c, ...)\n     *     math.mad(A)\n     *\n     * Examples:\n     *\n     *     math.mad(10, 20, 30)             // returns 10\n     *     math.mad([1, 2, 3])              // returns 1\n     *     math.mad([[1, 2, 3], [4, 5, 6]]) // returns 1.5\n     *\n     * See also:\n     *\n     *     median, mean, std, abs\n     *\n     * @param {Array | Matrix} array\n     *                        A single matrix or multiple scalar values.\n     * @return {*} The median absolute deviation.\n     */\n    return typed(name, {\n      // mad([a, b, c, d, ...])\n      'Array | Matrix': _mad,\n      // mad(a, b, c, d, ...)\n      '...': function _(args) {\n        return _mad(args);\n      }\n    });\n    function _mad(array) {\n      array = (0, _utilsArrayJs.flatten)(array.valueOf());\n      if (array.length === 0) {\n        throw new Error('Cannot calculate median absolute deviation (mad) of an empty array');\n      }\n      try {\n        var med = median(array);\n        return median(map(array, function (value) {\n          return abs(subtract(value, med));\n        }));\n      } catch (err) {\n        if (err instanceof TypeError && err.message.includes('median')) {\n          throw new TypeError(err.message.replace('median', 'mad'));\n        } else {\n          throw (0, _utilsImproveErrorMessageJs.improveErrorMessage)(err, 'mad');\n        }\n      }\n    }\n  });\n});","lineCount":75,"map":[[7,2,6,0,"Object"],[7,8,6,0],[7,9,6,0,"defineProperty"],[7,23,6,0],[7,24,6,0,"exports"],[7,31,6,0],[8,4,6,0,"enumerable"],[8,14,6,0],[9,4,6,0,"get"],[9,7,6,0],[9,18,6,0,"get"],[9,19,6,0],[10,6,6,0],[10,13,6,0,"createMad"],[10,22,6,0],[11,4,6,0],[12,2,6,0],[13,2,1,0],[13,6,1,0,"_utilsArrayJs"],[13,19,1,0],[13,22,1,0,"require"],[13,29,1,0],[13,30,1,0,"_dependencyMap"],[13,44,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,0,"_utilsImproveErrorMessageJs"],[15,33,3,0],[15,36,3,0,"require"],[15,43,3,0],[15,44,3,0,"_dependencyMap"],[15,58,3,0],[16,2,4,0],[16,6,4,4,"name"],[16,10,4,8],[16,13,4,11],[16,18,4,16],[17,2,5,0],[17,6,5,4,"dependencies"],[17,18,5,16],[17,21,5,19],[17,22,5,20],[17,29,5,27],[17,31,5,29],[17,36,5,34],[17,38,5,36],[17,43,5,41],[17,45,5,43],[17,53,5,51],[17,55,5,53],[17,65,5,63],[17,66,5,64],[18,2,6,7],[18,6,6,11,"createMad"],[18,15,6,20],[18,18,6,23],[18,33,6,38],[18,37,6,38,"factory"],[18,52,6,45],[18,53,6,45,"factory"],[18,60,6,45],[18,62,6,46,"name"],[18,66,6,50],[18,68,6,52,"dependencies"],[18,80,6,64],[18,82,6,66,"_ref"],[18,86,6,70],[18,90,6,74],[19,4,7,2],[19,8,8,4,"typed"],[19,13,8,9],[19,16,13,6,"_ref"],[19,20,13,10],[19,21,8,4,"typed"],[19,26,8,9],[20,6,9,4,"abs"],[20,9,9,7],[20,12,13,6,"_ref"],[20,16,13,10],[20,17,9,4,"abs"],[20,20,9,7],[21,6,10,4,"map"],[21,9,10,7],[21,12,13,6,"_ref"],[21,16,13,10],[21,17,10,4,"map"],[21,20,10,7],[22,6,11,4,"median"],[22,12,11,10],[22,15,13,6,"_ref"],[22,19,13,10],[22,20,11,4,"median"],[22,26,11,10],[23,6,12,4,"subtract"],[23,14,12,12],[23,17,13,6,"_ref"],[23,21,13,10],[23,22,12,4,"subtract"],[23,30,12,12],[24,4,14,2],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,0,35,0],[46,0,36,0],[47,0,37,0],[48,4,38,2],[48,11,38,9,"typed"],[48,16,38,14],[48,17,38,15,"name"],[48,21,38,19],[48,23,38,21],[49,6,39,4],[50,6,40,4],[50,22,40,20],[50,24,40,22,"_mad"],[50,28,40,26],[51,6,41,4],[52,6,42,4],[52,11,42,9],[52,13,42,11],[52,22,42,20,"_"],[52,23,42,21,"_"],[52,24,42,22,"args"],[52,28,42,26],[52,30,42,28],[53,8,43,6],[53,15,43,13,"_mad"],[53,19,43,17],[53,20,43,18,"args"],[53,24,43,22],[53,25,43,23],[54,6,44,4],[55,4,45,2],[55,5,45,3],[55,6,45,4],[56,4,46,2],[56,13,46,11,"_mad"],[56,17,46,15,"_mad"],[56,18,46,16,"array"],[56,23,46,21],[56,25,46,23],[57,6,47,4,"array"],[57,11,47,9],[57,14,47,12],[57,18,47,12,"flatten"],[57,31,47,19],[57,32,47,19,"flatten"],[57,39,47,19],[57,41,47,20,"array"],[57,46,47,25],[57,47,47,26,"valueOf"],[57,54,47,33],[57,55,47,34],[57,56,47,35],[57,57,47,36],[58,6,48,4],[58,10,48,8,"array"],[58,15,48,13],[58,16,48,14,"length"],[58,22,48,20],[58,27,48,25],[58,28,48,26],[58,30,48,28],[59,8,49,6],[59,14,49,12],[59,18,49,16,"Error"],[59,23,49,21],[59,24,49,22],[59,92,49,90],[59,93,49,91],[60,6,50,4],[61,6,51,4],[61,10,51,8],[62,8,52,6],[62,12,52,10,"med"],[62,15,52,13],[62,18,52,16,"median"],[62,24,52,22],[62,25,52,23,"array"],[62,30,52,28],[62,31,52,29],[63,8,53,6],[63,15,53,13,"median"],[63,21,53,19],[63,22,53,20,"map"],[63,25,53,23],[63,26,53,24,"array"],[63,31,53,29],[63,33,53,31],[63,43,53,41,"value"],[63,48,53,46],[63,50,53,48],[64,10,54,8],[64,17,54,15,"abs"],[64,20,54,18],[64,21,54,19,"subtract"],[64,29,54,27],[64,30,54,28,"value"],[64,35,54,33],[64,37,54,35,"med"],[64,40,54,38],[64,41,54,39],[64,42,54,40],[65,8,55,6],[65,9,55,7],[65,10,55,8],[65,11,55,9],[66,6,56,4],[66,7,56,5],[66,8,56,6],[66,15,56,13,"err"],[66,18,56,16],[66,20,56,18],[67,8,57,6],[67,12,57,10,"err"],[67,15,57,13],[67,27,57,25,"TypeError"],[67,36,57,34],[67,40,57,38,"err"],[67,43,57,41],[67,44,57,42,"message"],[67,51,57,49],[67,52,57,50,"includes"],[67,60,57,58],[67,61,57,59],[67,69,57,67],[67,70,57,68],[67,72,57,70],[68,10,58,8],[68,16,58,14],[68,20,58,18,"TypeError"],[68,29,58,27],[68,30,58,28,"err"],[68,33,58,31],[68,34,58,32,"message"],[68,41,58,39],[68,42,58,40,"replace"],[68,49,58,47],[68,50,58,48],[68,58,58,56],[68,60,58,58],[68,65,58,63],[68,66,58,64],[68,67,58,65],[69,8,59,6],[69,9,59,7],[69,15,59,13],[70,10,60,8],[70,16,60,14],[70,20,60,14,"improveErrorMessage"],[70,47,60,33],[70,48,60,33,"improveErrorMessage"],[70,67,60,33],[70,69,60,34,"err"],[70,72,60,37],[70,74,60,39],[70,79,60,44],[70,80,60,45],[71,8,61,6],[72,6,62,4],[73,4,63,2],[74,2,64,0],[74,3,64,1],[74,4,64,2],[75,0,64,3],[75,3]],"functionMap":{"names":["<global>","factory$argument_2","_","_mad","map$argument_1"],"mappings":"AAA;kECK;WCoC;KDE;EEE;+BCO;ODE;GFQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}