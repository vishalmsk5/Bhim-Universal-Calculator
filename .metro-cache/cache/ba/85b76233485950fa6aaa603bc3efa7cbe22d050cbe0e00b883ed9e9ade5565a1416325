{"dependencies":[{"name":"../../transform/utils/errorTransform.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":73,"index":73}}],"key":"ycYb63f+an3qtM5ydpjC2JiUgJo=","exportNames":["*"],"imports":1}},{"name":"../../../utils/customs.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":74},"end":{"line":2,"column":60,"index":134}}],"key":"Xv7PAMq2PcWs+9WVrXKXHLJ4pIk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.assignFactory = assignFactory;\n  var _transformUtilsErrorTransformJs = require(_dependencyMap[0], \"../../transform/utils/errorTransform.js\");\n  var _utilsCustomsJs = require(_dependencyMap[1], \"../../../utils/customs.js\");\n  function assignFactory(_ref) {\n    var subset = _ref.subset,\n      matrix = _ref.matrix;\n    /**\n     * Replace part of an object:\n     *\n     * - Assign a property to an object\n     * - Replace a part of a string\n     * - Replace a matrix subset\n     *\n     * @param {Object | Array | Matrix | string} object\n     * @param {Index} index\n     * @param {*} value\n     * @return {Object | Array | Matrix | string} Returns the original object\n     *                                            except in case of a string\n     */\n    // TODO: change assign to return the value instead of the object\n    return function assign(object, index, value) {\n      try {\n        if (Array.isArray(object)) {\n          var result = matrix(object).subset(index, value).valueOf();\n\n          // shallow copy all (updated) items into the original array\n          result.forEach((item, index) => {\n            object[index] = item;\n          });\n          return object;\n        } else if (object && typeof object.subset === 'function') {\n          // Matrix\n          return object.subset(index, value);\n        } else if (typeof object === 'string') {\n          // TODO: move setStringSubset into a separate util file, use that\n          return subset(object, index, value);\n        } else if (typeof object === 'object') {\n          if (!index.isObjectProperty()) {\n            throw TypeError('Cannot apply a numeric index as object property');\n          }\n          (0, _utilsCustomsJs.setSafeProperty)(object, index.getObjectProperty(), value);\n          return object;\n        } else {\n          throw new TypeError('Cannot apply index: unsupported type of object');\n        }\n      } catch (err) {\n        throw (0, _transformUtilsErrorTransformJs.errorTransform)(err);\n      }\n    };\n  }\n});","lineCount":57,"map":[[7,2,3,0,"exports"],[7,9,3,0],[7,10,3,0,"assignFactory"],[7,23,3,0],[7,26,3,0,"assignFactory"],[7,39,3,0],[8,2,1,0],[8,6,1,0,"_transformUtilsErrorTransformJs"],[8,37,1,0],[8,40,1,0,"require"],[8,47,1,0],[8,48,1,0,"_dependencyMap"],[8,62,1,0],[9,2,2,0],[9,6,2,0,"_utilsCustomsJs"],[9,21,2,0],[9,24,2,0,"require"],[9,31,2,0],[9,32,2,0,"_dependencyMap"],[9,46,2,0],[10,2,3,7],[10,11,3,16,"assignFactory"],[10,24,3,29,"assignFactory"],[10,25,3,30,"_ref"],[10,29,3,34],[10,31,3,36],[11,4,4,2],[11,8,5,4,"subset"],[11,14,5,10],[11,17,7,6,"_ref"],[11,21,7,10],[11,22,5,4,"subset"],[11,28,5,10],[12,6,6,4,"matrix"],[12,12,6,10],[12,15,7,6,"_ref"],[12,19,7,10],[12,20,6,4,"matrix"],[12,26,6,10],[13,4,8,2],[14,0,9,0],[15,0,10,0],[16,0,11,0],[17,0,12,0],[18,0,13,0],[19,0,14,0],[20,0,15,0],[21,0,16,0],[22,0,17,0],[23,0,18,0],[24,0,19,0],[25,0,20,0],[26,4,21,2],[27,4,22,2],[27,11,22,9],[27,20,22,18,"assign"],[27,26,22,24,"assign"],[27,27,22,25,"object"],[27,33,22,31],[27,35,22,33,"index"],[27,40,22,38],[27,42,22,40,"value"],[27,47,22,45],[27,49,22,47],[28,6,23,4],[28,10,23,8],[29,8,24,6],[29,12,24,10,"Array"],[29,17,24,15],[29,18,24,16,"isArray"],[29,25,24,23],[29,26,24,24,"object"],[29,32,24,30],[29,33,24,31],[29,35,24,33],[30,10,25,8],[30,14,25,12,"result"],[30,20,25,18],[30,23,25,21,"matrix"],[30,29,25,27],[30,30,25,28,"object"],[30,36,25,34],[30,37,25,35],[30,38,25,36,"subset"],[30,44,25,42],[30,45,25,43,"index"],[30,50,25,48],[30,52,25,50,"value"],[30,57,25,55],[30,58,25,56],[30,59,25,57,"valueOf"],[30,66,25,64],[30,67,25,65],[30,68,25,66],[32,10,27,8],[33,10,28,8,"result"],[33,16,28,14],[33,17,28,15,"forEach"],[33,24,28,22],[33,25,28,23],[33,26,28,24,"item"],[33,30,28,28],[33,32,28,30,"index"],[33,37,28,35],[33,42,28,40],[34,12,29,10,"object"],[34,18,29,16],[34,19,29,17,"index"],[34,24,29,22],[34,25,29,23],[34,28,29,26,"item"],[34,32,29,30],[35,10,30,8],[35,11,30,9],[35,12,30,10],[36,10,31,8],[36,17,31,15,"object"],[36,23,31,21],[37,8,32,6],[37,9,32,7],[37,15,32,13],[37,19,32,17,"object"],[37,25,32,23],[37,29,32,27],[37,36,32,34,"object"],[37,42,32,40],[37,43,32,41,"subset"],[37,49,32,47],[37,54,32,52],[37,64,32,62],[37,66,32,64],[38,10,33,8],[39,10,34,8],[39,17,34,15,"object"],[39,23,34,21],[39,24,34,22,"subset"],[39,30,34,28],[39,31,34,29,"index"],[39,36,34,34],[39,38,34,36,"value"],[39,43,34,41],[39,44,34,42],[40,8,35,6],[40,9,35,7],[40,15,35,13],[40,19,35,17],[40,26,35,24,"object"],[40,32,35,30],[40,37,35,35],[40,45,35,43],[40,47,35,45],[41,10,36,8],[42,10,37,8],[42,17,37,15,"subset"],[42,23,37,21],[42,24,37,22,"object"],[42,30,37,28],[42,32,37,30,"index"],[42,37,37,35],[42,39,37,37,"value"],[42,44,37,42],[42,45,37,43],[43,8,38,6],[43,9,38,7],[43,15,38,13],[43,19,38,17],[43,26,38,24,"object"],[43,32,38,30],[43,37,38,35],[43,45,38,43],[43,47,38,45],[44,10,39,8],[44,14,39,12],[44,15,39,13,"index"],[44,20,39,18],[44,21,39,19,"isObjectProperty"],[44,37,39,35],[44,38,39,36],[44,39,39,37],[44,41,39,39],[45,12,40,10],[45,18,40,16,"TypeError"],[45,27,40,25],[45,28,40,26],[45,77,40,75],[45,78,40,76],[46,10,41,8],[47,10,42,8],[47,14,42,8,"setSafeProperty"],[47,29,42,23],[47,30,42,23,"setSafeProperty"],[47,45,42,23],[47,47,42,24,"object"],[47,53,42,30],[47,55,42,32,"index"],[47,60,42,37],[47,61,42,38,"getObjectProperty"],[47,78,42,55],[47,79,42,56],[47,80,42,57],[47,82,42,59,"value"],[47,87,42,64],[47,88,42,65],[48,10,43,8],[48,17,43,15,"object"],[48,23,43,21],[49,8,44,6],[49,9,44,7],[49,15,44,13],[50,10,45,8],[50,16,45,14],[50,20,45,18,"TypeError"],[50,29,45,27],[50,30,45,28],[50,78,45,76],[50,79,45,77],[51,8,46,6],[52,6,47,4],[52,7,47,5],[52,8,47,6],[52,15,47,13,"err"],[52,18,47,16],[52,20,47,18],[53,8,48,6],[53,14,48,12],[53,18,48,12,"errorTransform"],[53,49,48,26],[53,50,48,26,"errorTransform"],[53,64,48,26],[53,66,48,27,"err"],[53,69,48,30],[53,70,48,31],[54,6,49,4],[55,4,50,2],[55,5,50,3],[56,2,51,0],[57,0,51,1],[57,3]],"functionMap":{"names":["<global>","assignFactory","assign","result.forEach$argument_0"],"mappings":"AAA;OCE;SCmB;uBCM;SDE;GDoB"},"hasCjsExports":false},"type":"js/module"}]}