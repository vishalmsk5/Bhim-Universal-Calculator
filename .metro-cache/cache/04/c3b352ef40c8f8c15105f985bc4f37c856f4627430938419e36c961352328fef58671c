{"dependencies":[{"name":"../../utils/collection.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"fi1hvvRFVO+J7CgKvCdHAHsYQlM=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":65},"end":{"line":2,"column":49,"index":114}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"../../utils/switch.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":115},"end":{"line":3,"column":48,"index":163}}],"key":"h0x97sTcic1adv3zB2QSJ1A8tYQ=","exportNames":["*"],"imports":1}},{"name":"./utils/improveErrorMessage.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":164},"end":{"line":4,"column":69,"index":233}}],"key":"OctJ2iR6C74+6ORuXPT3M8Q90Dc=","exportNames":["*"],"imports":1}},{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":234},"end":{"line":5,"column":49,"index":283}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../error/IndexError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":284},"end":{"line":6,"column":55,"index":339}}],"key":"FX5/WJJufVod8Z81KKBXXxofErs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createCumSum\", {\n    enumerable: true,\n    get: function () {\n      return createCumSum;\n    }\n  });\n  var _utilsCollectionJs = require(_dependencyMap[0], \"../../utils/collection.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../utils/factory.js\");\n  var _utilsSwitchJs = require(_dependencyMap[2], \"../../utils/switch.js\");\n  var _utilsImproveErrorMessageJs = require(_dependencyMap[3], \"./utils/improveErrorMessage.js\");\n  var _utilsArrayJs = require(_dependencyMap[4], \"../../utils/array.js\");\n  var _errorIndexErrorJs = require(_dependencyMap[5], \"../../error/IndexError.js\");\n  var name = 'cumsum';\n  var dependencies = ['typed', 'add', 'unaryPlus'];\n  var createCumSum = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      add,\n      unaryPlus\n    } = _ref;\n    /**\n     * Compute the cumulative sum of a matrix or a list with values.\n     * In case of a (multi dimensional) array or matrix, the cumulative sums\n     * along a specified dimension (defaulting to the first) will be calculated.\n     *\n     * Syntax:\n     *\n     *     math.cumsum(a, b, c, ...)\n     *     math.cumsum(A)\n     *\n     * Examples:\n     *\n     *     math.cumsum(2, 1, 4, 3)               // returns [2, 3, 7, 10]\n     *     math.cumsum([2, 1, 4, 3])             // returns [2, 3, 7, 10]\n     *     math.cumsum([[1, 2], [3, 4]])         // returns [[1, 2], [4, 6]]\n     *     math.cumsum([[1, 2], [3, 4]], 0)      // returns [[1, 2], [4, 6]]\n     *     math.cumsum([[1, 2], [3, 4]], 1)      // returns [[1, 3], [3, 7]]\n     *     math.cumsum([[2, 5], [4, 3], [1, 7]]) // returns [[2, 5], [6, 8], [7, 15]]\n     *\n     * See also:\n     *\n     *    mean, median, min, max, prod, std, variance, sum\n     *\n     * @param {... *} args  A single matrix or or multiple scalar values\n     * @return {*} The cumulative sum of all values\n     */\n    return typed(name, {\n      // sum([a, b, c, d, ...])\n      Array: _cumsum,\n      Matrix: function Matrix(matrix) {\n        return matrix.create(_cumsum(matrix.valueOf(), matrix.datatype()));\n      },\n      // sum([a, b, c, d, ...], dim)\n      'Array, number | BigNumber': _ncumSumDim,\n      'Matrix, number | BigNumber': function Matrix_number__BigNumber(matrix, dim) {\n        return matrix.create(_ncumSumDim(matrix.valueOf(), dim), matrix.datatype());\n      },\n      // cumsum(a, b, c, d, ...)\n      '...': function _(args) {\n        if ((0, _utilsCollectionJs.containsCollections)(args)) {\n          throw new TypeError('All values expected to be scalar in function cumsum');\n        }\n        return _cumsum(args);\n      }\n    });\n\n    /**\n       * Recursively calculate the cumulative sum of an n-dimensional array\n       * @param {Array} array\n       * @return {number} cumsum\n       * @private\n       */\n    function _cumsum(array) {\n      try {\n        return _cumsummap(array);\n      } catch (err) {\n        throw (0, _utilsImproveErrorMessageJs.improveErrorMessage)(err, name);\n      }\n    }\n    function _cumsummap(array) {\n      if (array.length === 0) {\n        return [];\n      }\n      var sums = [unaryPlus(array[0])]; // unaryPlus converts to number if need be\n      for (var i = 1; i < array.length; ++i) {\n        // Must use add below and not addScalar for the case of summing a\n        // 2+-dimensional array along the 0th dimension (the row vectors,\n        // or higher-d analogues, are literally added to each other).\n        sums.push(add(sums[i - 1], array[i]));\n      }\n      return sums;\n    }\n    function _ncumSumDim(array, dim) {\n      var size = (0, _utilsArrayJs.arraySize)(array);\n      if (dim < 0 || dim >= size.length) {\n        // TODO: would be more clear when throwing a DimensionError here\n        throw new _errorIndexErrorJs.IndexError(dim, size.length);\n      }\n      try {\n        return _cumsumDimensional(array, dim);\n      } catch (err) {\n        throw (0, _utilsImproveErrorMessageJs.improveErrorMessage)(err, name);\n      }\n    }\n\n    /* Possible TODO: Refactor _reduce in collection.js to be able to work here as well */\n    function _cumsumDimensional(mat, dim) {\n      var i, ret, tran;\n      if (dim <= 0) {\n        var initialValue = mat[0][0];\n        if (!Array.isArray(initialValue)) {\n          return _cumsummap(mat);\n        } else {\n          tran = (0, _utilsSwitchJs._switch)(mat);\n          ret = [];\n          for (i = 0; i < tran.length; i++) {\n            ret[i] = _cumsumDimensional(tran[i], dim - 1);\n          }\n          return ret;\n        }\n      } else {\n        ret = [];\n        for (i = 0; i < mat.length; i++) {\n          ret[i] = _cumsumDimensional(mat[i], dim - 1);\n        }\n        return ret;\n      }\n    }\n  });\n});","lineCount":136,"map":[[7,2,9,0,"Object"],[7,8,9,0],[7,9,9,0,"defineProperty"],[7,23,9,0],[7,24,9,0,"exports"],[7,31,9,0],[8,4,9,0,"enumerable"],[8,14,9,0],[9,4,9,0,"get"],[9,7,9,0],[9,18,9,0,"get"],[9,19,9,0],[10,6,9,0],[10,13,9,0,"createCumSum"],[10,25,9,0],[11,4,9,0],[12,2,9,0],[13,2,1,0],[13,6,1,0,"_utilsCollectionJs"],[13,24,1,0],[13,27,1,0,"require"],[13,34,1,0],[13,35,1,0,"_dependencyMap"],[13,49,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,0,"_utilsSwitchJs"],[15,20,3,0],[15,23,3,0,"require"],[15,30,3,0],[15,31,3,0,"_dependencyMap"],[15,45,3,0],[16,2,4,0],[16,6,4,0,"_utilsImproveErrorMessageJs"],[16,33,4,0],[16,36,4,0,"require"],[16,43,4,0],[16,44,4,0,"_dependencyMap"],[16,58,4,0],[17,2,5,0],[17,6,5,0,"_utilsArrayJs"],[17,19,5,0],[17,22,5,0,"require"],[17,29,5,0],[17,30,5,0,"_dependencyMap"],[17,44,5,0],[18,2,6,0],[18,6,6,0,"_errorIndexErrorJs"],[18,24,6,0],[18,27,6,0,"require"],[18,34,6,0],[18,35,6,0,"_dependencyMap"],[18,49,6,0],[19,2,7,0],[19,6,7,4,"name"],[19,10,7,8],[19,13,7,11],[19,21,7,19],[20,2,8,0],[20,6,8,4,"dependencies"],[20,18,8,16],[20,21,8,19],[20,22,8,20],[20,29,8,27],[20,31,8,29],[20,36,8,34],[20,38,8,36],[20,49,8,47],[20,50,8,48],[21,2,9,7],[21,6,9,11,"createCumSum"],[21,18,9,23],[21,21,9,26],[21,36,9,41],[21,40,9,41,"factory"],[21,55,9,48],[21,56,9,48,"factory"],[21,63,9,48],[21,65,9,49,"name"],[21,69,9,53],[21,71,9,55,"dependencies"],[21,83,9,67],[21,85,9,69,"_ref"],[21,89,9,73],[21,93,9,77],[22,4,10,2],[22,8,10,6],[23,6,11,4,"typed"],[23,11,11,9],[24,6,12,4,"add"],[24,9,12,7],[25,6,13,4,"unaryPlus"],[26,4,14,2],[26,5,14,3],[26,8,14,6,"_ref"],[26,12,14,10],[27,4,15,2],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,0,33,0],[46,0,34,0],[47,0,35,0],[48,0,36,0],[49,0,37,0],[50,0,38,0],[51,0,39,0],[52,0,40,0],[53,4,41,2],[53,11,41,9,"typed"],[53,16,41,14],[53,17,41,15,"name"],[53,21,41,19],[53,23,41,21],[54,6,42,4],[55,6,43,4,"Array"],[55,11,43,9],[55,13,43,11,"_cumsum"],[55,20,43,18],[56,6,44,4,"Matrix"],[56,12,44,10],[56,14,44,12],[56,23,44,21,"Matrix"],[56,29,44,27,"Matrix"],[56,30,44,28,"matrix"],[56,36,44,34],[56,38,44,36],[57,8,45,6],[57,15,45,13,"matrix"],[57,21,45,19],[57,22,45,20,"create"],[57,28,45,26],[57,29,45,27,"_cumsum"],[57,36,45,34],[57,37,45,35,"matrix"],[57,43,45,41],[57,44,45,42,"valueOf"],[57,51,45,49],[57,52,45,50],[57,53,45,51],[57,55,45,53,"matrix"],[57,61,45,59],[57,62,45,60,"datatype"],[57,70,45,68],[57,71,45,69],[57,72,45,70],[57,73,45,71],[57,74,45,72],[58,6,46,4],[58,7,46,5],[59,6,47,4],[60,6,48,4],[60,33,48,31],[60,35,48,33,"_ncumSumDim"],[60,46,48,44],[61,6,49,4],[61,34,49,32],[61,36,49,34],[61,45,49,43,"Matrix_number__BigNumber"],[61,69,49,67,"Matrix_number__BigNumber"],[61,70,49,68,"matrix"],[61,76,49,74],[61,78,49,76,"dim"],[61,81,49,79],[61,83,49,81],[62,8,50,6],[62,15,50,13,"matrix"],[62,21,50,19],[62,22,50,20,"create"],[62,28,50,26],[62,29,50,27,"_ncumSumDim"],[62,40,50,38],[62,41,50,39,"matrix"],[62,47,50,45],[62,48,50,46,"valueOf"],[62,55,50,53],[62,56,50,54],[62,57,50,55],[62,59,50,57,"dim"],[62,62,50,60],[62,63,50,61],[62,65,50,63,"matrix"],[62,71,50,69],[62,72,50,70,"datatype"],[62,80,50,78],[62,81,50,79],[62,82,50,80],[62,83,50,81],[63,6,51,4],[63,7,51,5],[64,6,52,4],[65,6,53,4],[65,11,53,9],[65,13,53,11],[65,22,53,20,"_"],[65,23,53,21,"_"],[65,24,53,22,"args"],[65,28,53,26],[65,30,53,28],[66,8,54,6],[66,12,54,10],[66,16,54,10,"containsCollections"],[66,34,54,29],[66,35,54,29,"containsCollections"],[66,54,54,29],[66,56,54,30,"args"],[66,60,54,34],[66,61,54,35],[66,63,54,37],[67,10,55,8],[67,16,55,14],[67,20,55,18,"TypeError"],[67,29,55,27],[67,30,55,28],[67,83,55,81],[67,84,55,82],[68,8,56,6],[69,8,57,6],[69,15,57,13,"_cumsum"],[69,22,57,20],[69,23,57,21,"args"],[69,27,57,25],[69,28,57,26],[70,6,58,4],[71,4,59,2],[71,5,59,3],[71,6,59,4],[73,4,61,2],[74,0,62,0],[75,0,63,0],[76,0,64,0],[77,0,65,0],[78,0,66,0],[79,4,67,2],[79,13,67,11,"_cumsum"],[79,20,67,18,"_cumsum"],[79,21,67,19,"array"],[79,26,67,24],[79,28,67,26],[80,6,68,4],[80,10,68,8],[81,8,69,6],[81,15,69,13,"_cumsummap"],[81,25,69,23],[81,26,69,24,"array"],[81,31,69,29],[81,32,69,30],[82,6,70,4],[82,7,70,5],[82,8,70,6],[82,15,70,13,"err"],[82,18,70,16],[82,20,70,18],[83,8,71,6],[83,14,71,12],[83,18,71,12,"improveErrorMessage"],[83,45,71,31],[83,46,71,31,"improveErrorMessage"],[83,65,71,31],[83,67,71,32,"err"],[83,70,71,35],[83,72,71,37,"name"],[83,76,71,41],[83,77,71,42],[84,6,72,4],[85,4,73,2],[86,4,74,2],[86,13,74,11,"_cumsummap"],[86,23,74,21,"_cumsummap"],[86,24,74,22,"array"],[86,29,74,27],[86,31,74,29],[87,6,75,4],[87,10,75,8,"array"],[87,15,75,13],[87,16,75,14,"length"],[87,22,75,20],[87,27,75,25],[87,28,75,26],[87,30,75,28],[88,8,76,6],[88,15,76,13],[88,17,76,15],[89,6,77,4],[90,6,78,4],[90,10,78,8,"sums"],[90,14,78,12],[90,17,78,15],[90,18,78,16,"unaryPlus"],[90,27,78,25],[90,28,78,26,"array"],[90,33,78,31],[90,34,78,32],[90,35,78,33],[90,36,78,34],[90,37,78,35],[90,38,78,36],[90,39,78,37],[90,40,78,38],[91,6,79,4],[91,11,79,9],[91,15,79,13,"i"],[91,16,79,14],[91,19,79,17],[91,20,79,18],[91,22,79,20,"i"],[91,23,79,21],[91,26,79,24,"array"],[91,31,79,29],[91,32,79,30,"length"],[91,38,79,36],[91,40,79,38],[91,42,79,40,"i"],[91,43,79,41],[91,45,79,43],[92,8,80,6],[93,8,81,6],[94,8,82,6],[95,8,83,6,"sums"],[95,12,83,10],[95,13,83,11,"push"],[95,17,83,15],[95,18,83,16,"add"],[95,21,83,19],[95,22,83,20,"sums"],[95,26,83,24],[95,27,83,25,"i"],[95,28,83,26],[95,31,83,29],[95,32,83,30],[95,33,83,31],[95,35,83,33,"array"],[95,40,83,38],[95,41,83,39,"i"],[95,42,83,40],[95,43,83,41],[95,44,83,42],[95,45,83,43],[96,6,84,4],[97,6,85,4],[97,13,85,11,"sums"],[97,17,85,15],[98,4,86,2],[99,4,87,2],[99,13,87,11,"_ncumSumDim"],[99,24,87,22,"_ncumSumDim"],[99,25,87,23,"array"],[99,30,87,28],[99,32,87,30,"dim"],[99,35,87,33],[99,37,87,35],[100,6,88,4],[100,10,88,8,"size"],[100,14,88,12],[100,17,88,15],[100,21,88,15,"arraySize"],[100,34,88,24],[100,35,88,24,"arraySize"],[100,44,88,24],[100,46,88,25,"array"],[100,51,88,30],[100,52,88,31],[101,6,89,4],[101,10,89,8,"dim"],[101,13,89,11],[101,16,89,14],[101,17,89,15],[101,21,89,19,"dim"],[101,24,89,22],[101,28,89,26,"size"],[101,32,89,30],[101,33,89,31,"length"],[101,39,89,37],[101,41,89,39],[102,8,90,6],[103,8,91,6],[103,14,91,12],[103,18,91,16,"IndexError"],[103,36,91,26],[103,37,91,26,"IndexError"],[103,47,91,26],[103,48,91,27,"dim"],[103,51,91,30],[103,53,91,32,"size"],[103,57,91,36],[103,58,91,37,"length"],[103,64,91,43],[103,65,91,44],[104,6,92,4],[105,6,93,4],[105,10,93,8],[106,8,94,6],[106,15,94,13,"_cumsumDimensional"],[106,33,94,31],[106,34,94,32,"array"],[106,39,94,37],[106,41,94,39,"dim"],[106,44,94,42],[106,45,94,43],[107,6,95,4],[107,7,95,5],[107,8,95,6],[107,15,95,13,"err"],[107,18,95,16],[107,20,95,18],[108,8,96,6],[108,14,96,12],[108,18,96,12,"improveErrorMessage"],[108,45,96,31],[108,46,96,31,"improveErrorMessage"],[108,65,96,31],[108,67,96,32,"err"],[108,70,96,35],[108,72,96,37,"name"],[108,76,96,41],[108,77,96,42],[109,6,97,4],[110,4,98,2],[112,4,100,2],[113,4,101,2],[113,13,101,11,"_cumsumDimensional"],[113,31,101,29,"_cumsumDimensional"],[113,32,101,30,"mat"],[113,35,101,33],[113,37,101,35,"dim"],[113,40,101,38],[113,42,101,40],[114,6,102,4],[114,10,102,8,"i"],[114,11,102,9],[114,13,102,11,"ret"],[114,16,102,14],[114,18,102,16,"tran"],[114,22,102,20],[115,6,103,4],[115,10,103,8,"dim"],[115,13,103,11],[115,17,103,15],[115,18,103,16],[115,20,103,18],[116,8,104,6],[116,12,104,10,"initialValue"],[116,24,104,22],[116,27,104,25,"mat"],[116,30,104,28],[116,31,104,29],[116,32,104,30],[116,33,104,31],[116,34,104,32],[116,35,104,33],[116,36,104,34],[117,8,105,6],[117,12,105,10],[117,13,105,11,"Array"],[117,18,105,16],[117,19,105,17,"isArray"],[117,26,105,24],[117,27,105,25,"initialValue"],[117,39,105,37],[117,40,105,38],[117,42,105,40],[118,10,106,8],[118,17,106,15,"_cumsummap"],[118,27,106,25],[118,28,106,26,"mat"],[118,31,106,29],[118,32,106,30],[119,8,107,6],[119,9,107,7],[119,15,107,13],[120,10,108,8,"tran"],[120,14,108,12],[120,17,108,15],[120,21,108,15,"_switch"],[120,35,108,22],[120,36,108,22,"_switch"],[120,43,108,22],[120,45,108,23,"mat"],[120,48,108,26],[120,49,108,27],[121,10,109,8,"ret"],[121,13,109,11],[121,16,109,14],[121,18,109,16],[122,10,110,8],[122,15,110,13,"i"],[122,16,110,14],[122,19,110,17],[122,20,110,18],[122,22,110,20,"i"],[122,23,110,21],[122,26,110,24,"tran"],[122,30,110,28],[122,31,110,29,"length"],[122,37,110,35],[122,39,110,37,"i"],[122,40,110,38],[122,42,110,40],[122,44,110,42],[123,12,111,10,"ret"],[123,15,111,13],[123,16,111,14,"i"],[123,17,111,15],[123,18,111,16],[123,21,111,19,"_cumsumDimensional"],[123,39,111,37],[123,40,111,38,"tran"],[123,44,111,42],[123,45,111,43,"i"],[123,46,111,44],[123,47,111,45],[123,49,111,47,"dim"],[123,52,111,50],[123,55,111,53],[123,56,111,54],[123,57,111,55],[124,10,112,8],[125,10,113,8],[125,17,113,15,"ret"],[125,20,113,18],[126,8,114,6],[127,6,115,4],[127,7,115,5],[127,13,115,11],[128,8,116,6,"ret"],[128,11,116,9],[128,14,116,12],[128,16,116,14],[129,8,117,6],[129,13,117,11,"i"],[129,14,117,12],[129,17,117,15],[129,18,117,16],[129,20,117,18,"i"],[129,21,117,19],[129,24,117,22,"mat"],[129,27,117,25],[129,28,117,26,"length"],[129,34,117,32],[129,36,117,34,"i"],[129,37,117,35],[129,39,117,37],[129,41,117,39],[130,10,118,8,"ret"],[130,13,118,11],[130,14,118,12,"i"],[130,15,118,13],[130,16,118,14],[130,19,118,17,"_cumsumDimensional"],[130,37,118,35],[130,38,118,36,"mat"],[130,41,118,39],[130,42,118,40,"i"],[130,43,118,41],[130,44,118,42],[130,46,118,44,"dim"],[130,49,118,47],[130,52,118,50],[130,53,118,51],[130,54,118,52],[131,8,119,6],[132,8,120,6],[132,15,120,13,"ret"],[132,18,120,16],[133,6,121,4],[134,4,122,2],[135,2,123,0],[135,3,123,1],[135,4,123,2],[136,0,123,3],[136,3]],"functionMap":{"names":["<global>","factory$argument_2","Matrix","Matrix_number__BigNumber","_","_cumsum","_cumsummap","_ncumSumDim","_cumsumDimensional"],"mappings":"AAA;qECQ;YCmC;KDE;kCEG;KFE;WGE;KHK;EIS;GJM;EKC;GLY;EMC;GNW;EOG;GPqB;CDC"},"hasCjsExports":false},"type":"js/module"}]}