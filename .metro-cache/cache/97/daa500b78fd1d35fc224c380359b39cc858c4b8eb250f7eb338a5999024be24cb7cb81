{"dependencies":[{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMatAlgo11xS0s\", {\n    enumerable: true,\n    get: function () {\n      return createMatAlgo11xS0s;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../../utils/factory.js\");\n  var name = 'matAlgo11xS0s';\n  var dependencies = ['typed', 'equalScalar'];\n  var createMatAlgo11xS0s = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      equalScalar = _ref.equalScalar;\n    /**\n     * Iterates over SparseMatrix S nonzero items and invokes the callback function f(Sij, b).\n     * Callback function invoked NZ times (number of nonzero items in S).\n     *\n     *\n     *          ┌  f(Sij, b)  ; S(i,j) !== 0\n     * C(i,j) = ┤\n     *          └  0          ; otherwise\n     *\n     *\n     * @param {Matrix}   s                 The SparseMatrix instance (S)\n     * @param {Scalar}   b                 The Scalar value\n     * @param {Function} callback          The f(Aij,b) operation to invoke\n     * @param {boolean}  inverse           A true value indicates callback should be invoked f(b,Sij)\n     *\n     * @return {Matrix}                    SparseMatrix (C)\n     *\n     * https://github.com/josdejong/mathjs/pull/346#issuecomment-97626813\n     */\n    return function matAlgo11xS0s(s, b, callback, inverse) {\n      // sparse matrix arrays\n      var avalues = s._values;\n      var aindex = s._index;\n      var aptr = s._ptr;\n      var asize = s._size;\n      var adt = s._datatype;\n\n      // sparse matrix cannot be a Pattern matrix\n      if (!avalues) {\n        throw new Error('Cannot perform operation on Pattern Sparse Matrix and Scalar value');\n      }\n\n      // rows & columns\n      var rows = asize[0];\n      var columns = asize[1];\n\n      // datatype\n      var dt;\n      // equal signature to use\n      var eq = equalScalar;\n      // zero value\n      var zero = 0;\n      // callback signature to use\n      var cf = callback;\n\n      // process data types\n      if (typeof adt === 'string') {\n        // datatype\n        dt = adt;\n        // find signature that matches (dt, dt)\n        eq = typed.find(equalScalar, [dt, dt]);\n        // convert 0 to the same datatype\n        zero = typed.convert(0, dt);\n        // convert b to the same datatype\n        b = typed.convert(b, dt);\n        // callback\n        cf = typed.find(callback, [dt, dt]);\n      }\n\n      // result arrays\n      var cvalues = [];\n      var cindex = [];\n      var cptr = [];\n\n      // loop columns\n      for (var j = 0; j < columns; j++) {\n        // initialize ptr\n        cptr[j] = cindex.length;\n        // values in j\n        for (var k0 = aptr[j], k1 = aptr[j + 1], k = k0; k < k1; k++) {\n          // row\n          var i = aindex[k];\n          // invoke callback\n          var v = inverse ? cf(b, avalues[k]) : cf(avalues[k], b);\n          // check value is zero\n          if (!eq(v, zero)) {\n            // push index & value\n            cindex.push(i);\n            cvalues.push(v);\n          }\n        }\n      }\n      // update ptr\n      cptr[columns] = cindex.length;\n\n      // return sparse matrix\n      return s.createSparseMatrix({\n        values: cvalues,\n        index: cindex,\n        ptr: cptr,\n        size: [rows, columns],\n        datatype: dt\n      });\n    };\n  });\n});","lineCount":114,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"createMatAlgo11xS0s"],[10,32,4,0],[11,4,4,0],[12,2,4,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,4,"name"],[14,10,2,8],[14,13,2,11],[14,28,2,26],[15,2,3,0],[15,6,3,4,"dependencies"],[15,18,3,16],[15,21,3,19],[15,22,3,20],[15,29,3,27],[15,31,3,29],[15,44,3,42],[15,45,3,43],[16,2,4,7],[16,6,4,11,"createMatAlgo11xS0s"],[16,25,4,30],[16,28,4,33],[16,43,4,48],[16,47,4,48,"factory"],[16,62,4,55],[16,63,4,55,"factory"],[16,70,4,55],[16,72,4,56,"name"],[16,76,4,60],[16,78,4,62,"dependencies"],[16,90,4,74],[16,92,4,76,"_ref"],[16,96,4,80],[16,100,4,84],[17,4,5,2],[17,8,6,4,"typed"],[17,13,6,9],[17,16,8,6,"_ref"],[17,20,8,10],[17,21,6,4,"typed"],[17,26,6,9],[18,6,7,4,"equalScalar"],[18,17,7,15],[18,20,8,6,"_ref"],[18,24,8,10],[18,25,7,4,"equalScalar"],[18,36,7,15],[19,4,9,2],[20,0,10,0],[21,0,11,0],[22,0,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,4,28,2],[38,11,28,9],[38,20,28,18,"matAlgo11xS0s"],[38,33,28,31,"matAlgo11xS0s"],[38,34,28,32,"s"],[38,35,28,33],[38,37,28,35,"b"],[38,38,28,36],[38,40,28,38,"callback"],[38,48,28,46],[38,50,28,48,"inverse"],[38,57,28,55],[38,59,28,57],[39,6,29,4],[40,6,30,4],[40,10,30,8,"avalues"],[40,17,30,15],[40,20,30,18,"s"],[40,21,30,19],[40,22,30,20,"_values"],[40,29,30,27],[41,6,31,4],[41,10,31,8,"aindex"],[41,16,31,14],[41,19,31,17,"s"],[41,20,31,18],[41,21,31,19,"_index"],[41,27,31,25],[42,6,32,4],[42,10,32,8,"aptr"],[42,14,32,12],[42,17,32,15,"s"],[42,18,32,16],[42,19,32,17,"_ptr"],[42,23,32,21],[43,6,33,4],[43,10,33,8,"asize"],[43,15,33,13],[43,18,33,16,"s"],[43,19,33,17],[43,20,33,18,"_size"],[43,25,33,23],[44,6,34,4],[44,10,34,8,"adt"],[44,13,34,11],[44,16,34,14,"s"],[44,17,34,15],[44,18,34,16,"_datatype"],[44,27,34,25],[46,6,36,4],[47,6,37,4],[47,10,37,8],[47,11,37,9,"avalues"],[47,18,37,16],[47,20,37,18],[48,8,38,6],[48,14,38,12],[48,18,38,16,"Error"],[48,23,38,21],[48,24,38,22],[48,92,38,90],[48,93,38,91],[49,6,39,4],[51,6,41,4],[52,6,42,4],[52,10,42,8,"rows"],[52,14,42,12],[52,17,42,15,"asize"],[52,22,42,20],[52,23,42,21],[52,24,42,22],[52,25,42,23],[53,6,43,4],[53,10,43,8,"columns"],[53,17,43,15],[53,20,43,18,"asize"],[53,25,43,23],[53,26,43,24],[53,27,43,25],[53,28,43,26],[55,6,45,4],[56,6,46,4],[56,10,46,8,"dt"],[56,12,46,10],[57,6,47,4],[58,6,48,4],[58,10,48,8,"eq"],[58,12,48,10],[58,15,48,13,"equalScalar"],[58,26,48,24],[59,6,49,4],[60,6,50,4],[60,10,50,8,"zero"],[60,14,50,12],[60,17,50,15],[60,18,50,16],[61,6,51,4],[62,6,52,4],[62,10,52,8,"cf"],[62,12,52,10],[62,15,52,13,"callback"],[62,23,52,21],[64,6,54,4],[65,6,55,4],[65,10,55,8],[65,17,55,15,"adt"],[65,20,55,18],[65,25,55,23],[65,33,55,31],[65,35,55,33],[66,8,56,6],[67,8,57,6,"dt"],[67,10,57,8],[67,13,57,11,"adt"],[67,16,57,14],[68,8,58,6],[69,8,59,6,"eq"],[69,10,59,8],[69,13,59,11,"typed"],[69,18,59,16],[69,19,59,17,"find"],[69,23,59,21],[69,24,59,22,"equalScalar"],[69,35,59,33],[69,37,59,35],[69,38,59,36,"dt"],[69,40,59,38],[69,42,59,40,"dt"],[69,44,59,42],[69,45,59,43],[69,46,59,44],[70,8,60,6],[71,8,61,6,"zero"],[71,12,61,10],[71,15,61,13,"typed"],[71,20,61,18],[71,21,61,19,"convert"],[71,28,61,26],[71,29,61,27],[71,30,61,28],[71,32,61,30,"dt"],[71,34,61,32],[71,35,61,33],[72,8,62,6],[73,8,63,6,"b"],[73,9,63,7],[73,12,63,10,"typed"],[73,17,63,15],[73,18,63,16,"convert"],[73,25,63,23],[73,26,63,24,"b"],[73,27,63,25],[73,29,63,27,"dt"],[73,31,63,29],[73,32,63,30],[74,8,64,6],[75,8,65,6,"cf"],[75,10,65,8],[75,13,65,11,"typed"],[75,18,65,16],[75,19,65,17,"find"],[75,23,65,21],[75,24,65,22,"callback"],[75,32,65,30],[75,34,65,32],[75,35,65,33,"dt"],[75,37,65,35],[75,39,65,37,"dt"],[75,41,65,39],[75,42,65,40],[75,43,65,41],[76,6,66,4],[78,6,68,4],[79,6,69,4],[79,10,69,8,"cvalues"],[79,17,69,15],[79,20,69,18],[79,22,69,20],[80,6,70,4],[80,10,70,8,"cindex"],[80,16,70,14],[80,19,70,17],[80,21,70,19],[81,6,71,4],[81,10,71,8,"cptr"],[81,14,71,12],[81,17,71,15],[81,19,71,17],[83,6,73,4],[84,6,74,4],[84,11,74,9],[84,15,74,13,"j"],[84,16,74,14],[84,19,74,17],[84,20,74,18],[84,22,74,20,"j"],[84,23,74,21],[84,26,74,24,"columns"],[84,33,74,31],[84,35,74,33,"j"],[84,36,74,34],[84,38,74,36],[84,40,74,38],[85,8,75,6],[86,8,76,6,"cptr"],[86,12,76,10],[86,13,76,11,"j"],[86,14,76,12],[86,15,76,13],[86,18,76,16,"cindex"],[86,24,76,22],[86,25,76,23,"length"],[86,31,76,29],[87,8,77,6],[88,8,78,6],[88,13,78,11],[88,17,78,15,"k0"],[88,19,78,17],[88,22,78,20,"aptr"],[88,26,78,24],[88,27,78,25,"j"],[88,28,78,26],[88,29,78,27],[88,31,78,29,"k1"],[88,33,78,31],[88,36,78,34,"aptr"],[88,40,78,38],[88,41,78,39,"j"],[88,42,78,40],[88,45,78,43],[88,46,78,44],[88,47,78,45],[88,49,78,47,"k"],[88,50,78,48],[88,53,78,51,"k0"],[88,55,78,53],[88,57,78,55,"k"],[88,58,78,56],[88,61,78,59,"k1"],[88,63,78,61],[88,65,78,63,"k"],[88,66,78,64],[88,68,78,66],[88,70,78,68],[89,10,79,8],[90,10,80,8],[90,14,80,12,"i"],[90,15,80,13],[90,18,80,16,"aindex"],[90,24,80,22],[90,25,80,23,"k"],[90,26,80,24],[90,27,80,25],[91,10,81,8],[92,10,82,8],[92,14,82,12,"v"],[92,15,82,13],[92,18,82,16,"inverse"],[92,25,82,23],[92,28,82,26,"cf"],[92,30,82,28],[92,31,82,29,"b"],[92,32,82,30],[92,34,82,32,"avalues"],[92,41,82,39],[92,42,82,40,"k"],[92,43,82,41],[92,44,82,42],[92,45,82,43],[92,48,82,46,"cf"],[92,50,82,48],[92,51,82,49,"avalues"],[92,58,82,56],[92,59,82,57,"k"],[92,60,82,58],[92,61,82,59],[92,63,82,61,"b"],[92,64,82,62],[92,65,82,63],[93,10,83,8],[94,10,84,8],[94,14,84,12],[94,15,84,13,"eq"],[94,17,84,15],[94,18,84,16,"v"],[94,19,84,17],[94,21,84,19,"zero"],[94,25,84,23],[94,26,84,24],[94,28,84,26],[95,12,85,10],[96,12,86,10,"cindex"],[96,18,86,16],[96,19,86,17,"push"],[96,23,86,21],[96,24,86,22,"i"],[96,25,86,23],[96,26,86,24],[97,12,87,10,"cvalues"],[97,19,87,17],[97,20,87,18,"push"],[97,24,87,22],[97,25,87,23,"v"],[97,26,87,24],[97,27,87,25],[98,10,88,8],[99,8,89,6],[100,6,90,4],[101,6,91,4],[102,6,92,4,"cptr"],[102,10,92,8],[102,11,92,9,"columns"],[102,18,92,16],[102,19,92,17],[102,22,92,20,"cindex"],[102,28,92,26],[102,29,92,27,"length"],[102,35,92,33],[104,6,94,4],[105,6,95,4],[105,13,95,11,"s"],[105,14,95,12],[105,15,95,13,"createSparseMatrix"],[105,33,95,31],[105,34,95,32],[106,8,96,6,"values"],[106,14,96,12],[106,16,96,14,"cvalues"],[106,23,96,21],[107,8,97,6,"index"],[107,13,97,11],[107,15,97,13,"cindex"],[107,21,97,19],[108,8,98,6,"ptr"],[108,11,98,9],[108,13,98,11,"cptr"],[108,17,98,15],[109,8,99,6,"size"],[109,12,99,10],[109,14,99,12],[109,15,99,13,"rows"],[109,19,99,17],[109,21,99,19,"columns"],[109,28,99,26],[109,29,99,27],[110,8,100,6,"datatype"],[110,16,100,14],[110,18,100,16,"dt"],[111,6,101,4],[111,7,101,5],[111,8,101,6],[112,4,102,2],[112,5,102,3],[113,2,103,0],[113,3,103,1],[113,4,103,2],[114,0,103,3],[114,3]],"functionMap":{"names":["<global>","factory$argument_2","matAlgo11xS0s"],"mappings":"AAA;4ECG;SCwB;GD0E;CDC"},"hasCjsExports":false},"type":"js/module"}]}