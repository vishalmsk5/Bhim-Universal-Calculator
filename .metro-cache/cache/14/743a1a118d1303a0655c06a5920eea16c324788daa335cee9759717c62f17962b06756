{"dependencies":[{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":49,"index":99}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":100},"end":{"line":3,"column":45,"index":145}}],"key":"DL0lZsaza5vr7zl/bAzDYPBSOyA=","exportNames":["*"],"imports":1}},{"name":"../../error/IndexError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":146},"end":{"line":4,"column":55,"index":201}}],"key":"FX5/WJJufVod8Z81KKBXXxofErs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMapSlices\", {\n    enumerable: true,\n    get: function () {\n      return createMapSlices;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../utils/factory.js\");\n  var _utilsArrayJs = require(_dependencyMap[1], \"../../utils/array.js\");\n  var _utilsIsJs = require(_dependencyMap[2], \"../../utils/is.js\");\n  var _errorIndexErrorJs = require(_dependencyMap[3], \"../../error/IndexError.js\");\n  var name = 'mapSlices';\n  var dependencies = ['typed', 'isInteger'];\n  var createMapSlices = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      isInteger = _ref.isInteger;\n    /**\n     * Apply a function that maps an array to a scalar\n     * along a given axis of a matrix or array.\n     * Returns a new matrix or array with one less dimension than the input.\n     *\n     * Syntax:\n     *\n     *     math.mapSlices(A, dim, callback)\n     *\n     * Where:\n     *\n     * - `dim: number` is a zero-based dimension over which to concatenate the matrices.\n     *\n     * Examples:\n     *\n     *    const A = [[1, 2], [3, 4]]\n     *    const sum = math.sum\n     *\n     *    math.mapSlices(A, 0, sum)             // returns [4, 6]\n     *    math.mapSlices(A, 1, sum)             // returns [3, 7]\n     *\n     * See also:\n     *\n     *    map, filter, forEach\n     *\n     * Note:\n     *\n     *    `mapSlices()` is also currently available via its deprecated\n     *    synonym `apply()`.\n     *\n     * @param {Array | Matrix} array   The input Matrix\n     * @param {number} dim             The dimension along which the callback is applied\n     * @param {Function} callback      The callback function that is applied. This Function\n     *                                 should take an array or 1-d matrix as an input and\n     *                                 return a number.\n     * @return {Array | Matrix} res    The residual matrix with the function mapped on the slices over some dimension.\n     */\n    return typed(name, {\n      'Array | Matrix, number | BigNumber, function': function Array__Matrix_number__BigNumber_function(mat, dim, callback) {\n        if (!isInteger(dim)) {\n          throw new TypeError('Integer number expected for dimension');\n        }\n        var size = Array.isArray(mat) ? (0, _utilsArrayJs.arraySize)(mat) : mat.size();\n        if (dim < 0 || dim >= size.length) {\n          throw new _errorIndexErrorJs.IndexError(dim, size.length);\n        }\n        if ((0, _utilsIsJs.isMatrix)(mat)) {\n          return mat.create(_mapSlices(mat.valueOf(), dim, callback), mat.datatype());\n        } else {\n          return _mapSlices(mat, dim, callback);\n        }\n      }\n    });\n  }, {\n    formerly: 'apply'\n  });\n\n  /**\n   * Recursively reduce a matrix\n   * @param {Array} mat\n   * @param {number} dim\n   * @param {Function} callback\n   * @returns {Array} ret\n   * @private\n   */\n  function _mapSlices(mat, dim, callback) {\n    var i, ret, tran;\n    if (dim <= 0) {\n      if (!Array.isArray(mat[0])) {\n        return callback(mat);\n      } else {\n        tran = _switch(mat);\n        ret = [];\n        for (i = 0; i < tran.length; i++) {\n          ret[i] = _mapSlices(tran[i], dim - 1, callback);\n        }\n        return ret;\n      }\n    } else {\n      ret = [];\n      for (i = 0; i < mat.length; i++) {\n        ret[i] = _mapSlices(mat[i], dim - 1, callback);\n      }\n      return ret;\n    }\n  }\n\n  /**\n   * Transpose a matrix\n   * @param {Array} mat\n   * @returns {Array} ret\n   * @private\n   */\n  function _switch(mat) {\n    var I = mat.length;\n    var J = mat[0].length;\n    var i, j;\n    var ret = [];\n    for (j = 0; j < J; j++) {\n      var tmp = [];\n      for (i = 0; i < I; i++) {\n        tmp.push(mat[i][j]);\n      }\n      ret.push(tmp);\n    }\n    return ret;\n  }\n});","lineCount":129,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"createMapSlices"],[10,28,7,0],[11,4,7,0],[12,2,7,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,0,"_utilsArrayJs"],[14,19,2,0],[14,22,2,0,"require"],[14,29,2,0],[14,30,2,0,"_dependencyMap"],[14,44,2,0],[15,2,3,0],[15,6,3,0,"_utilsIsJs"],[15,16,3,0],[15,19,3,0,"require"],[15,26,3,0],[15,27,3,0,"_dependencyMap"],[15,41,3,0],[16,2,4,0],[16,6,4,0,"_errorIndexErrorJs"],[16,24,4,0],[16,27,4,0,"require"],[16,34,4,0],[16,35,4,0,"_dependencyMap"],[16,49,4,0],[17,2,5,0],[17,6,5,4,"name"],[17,10,5,8],[17,13,5,11],[17,24,5,22],[18,2,6,0],[18,6,6,4,"dependencies"],[18,18,6,16],[18,21,6,19],[18,22,6,20],[18,29,6,27],[18,31,6,29],[18,42,6,40],[18,43,6,41],[19,2,7,7],[19,6,7,11,"createMapSlices"],[19,21,7,26],[19,24,7,29],[19,39,7,44],[19,43,7,44,"factory"],[19,58,7,51],[19,59,7,51,"factory"],[19,66,7,51],[19,68,7,52,"name"],[19,72,7,56],[19,74,7,58,"dependencies"],[19,86,7,70],[19,88,7,72,"_ref"],[19,92,7,76],[19,96,7,80],[20,4,8,2],[20,8,9,4,"typed"],[20,13,9,9],[20,16,11,6,"_ref"],[20,20,11,10],[20,21,9,4,"typed"],[20,26,9,9],[21,6,10,4,"isInteger"],[21,15,10,13],[21,18,11,6,"_ref"],[21,22,11,10],[21,23,10,4,"isInteger"],[21,32,10,13],[22,4,12,2],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,0,35,0],[46,0,36,0],[47,0,37,0],[48,0,38,0],[49,0,39,0],[50,0,40,0],[51,0,41,0],[52,0,42,0],[53,0,43,0],[54,0,44,0],[55,0,45,0],[56,0,46,0],[57,0,47,0],[58,0,48,0],[59,4,49,2],[59,11,49,9,"typed"],[59,16,49,14],[59,17,49,15,"name"],[59,21,49,19],[59,23,49,21],[60,6,50,4],[60,52,50,50],[60,54,50,52],[60,63,50,61,"Array__Matrix_number__BigNumber_function"],[60,103,50,101,"Array__Matrix_number__BigNumber_function"],[60,104,50,102,"mat"],[60,107,50,105],[60,109,50,107,"dim"],[60,112,50,110],[60,114,50,112,"callback"],[60,122,50,120],[60,124,50,122],[61,8,51,6],[61,12,51,10],[61,13,51,11,"isInteger"],[61,22,51,20],[61,23,51,21,"dim"],[61,26,51,24],[61,27,51,25],[61,29,51,27],[62,10,52,8],[62,16,52,14],[62,20,52,18,"TypeError"],[62,29,52,27],[62,30,52,28],[62,69,52,67],[62,70,52,68],[63,8,53,6],[64,8,54,6],[64,12,54,10,"size"],[64,16,54,14],[64,19,54,17,"Array"],[64,24,54,22],[64,25,54,23,"isArray"],[64,32,54,30],[64,33,54,31,"mat"],[64,36,54,34],[64,37,54,35],[64,40,54,38],[64,44,54,38,"arraySize"],[64,57,54,47],[64,58,54,47,"arraySize"],[64,67,54,47],[64,69,54,48,"mat"],[64,72,54,51],[64,73,54,52],[64,76,54,55,"mat"],[64,79,54,58],[64,80,54,59,"size"],[64,84,54,63],[64,85,54,64],[64,86,54,65],[65,8,55,6],[65,12,55,10,"dim"],[65,15,55,13],[65,18,55,16],[65,19,55,17],[65,23,55,21,"dim"],[65,26,55,24],[65,30,55,28,"size"],[65,34,55,32],[65,35,55,33,"length"],[65,41,55,39],[65,43,55,41],[66,10,56,8],[66,16,56,14],[66,20,56,18,"IndexError"],[66,38,56,28],[66,39,56,28,"IndexError"],[66,49,56,28],[66,50,56,29,"dim"],[66,53,56,32],[66,55,56,34,"size"],[66,59,56,38],[66,60,56,39,"length"],[66,66,56,45],[66,67,56,46],[67,8,57,6],[68,8,58,6],[68,12,58,10],[68,16,58,10,"isMatrix"],[68,26,58,18],[68,27,58,18,"isMatrix"],[68,35,58,18],[68,37,58,19,"mat"],[68,40,58,22],[68,41,58,23],[68,43,58,25],[69,10,59,8],[69,17,59,15,"mat"],[69,20,59,18],[69,21,59,19,"create"],[69,27,59,25],[69,28,59,26,"_mapSlices"],[69,38,59,36],[69,39,59,37,"mat"],[69,42,59,40],[69,43,59,41,"valueOf"],[69,50,59,48],[69,51,59,49],[69,52,59,50],[69,54,59,52,"dim"],[69,57,59,55],[69,59,59,57,"callback"],[69,67,59,65],[69,68,59,66],[69,70,59,68,"mat"],[69,73,59,71],[69,74,59,72,"datatype"],[69,82,59,80],[69,83,59,81],[69,84,59,82],[69,85,59,83],[70,8,60,6],[70,9,60,7],[70,15,60,13],[71,10,61,8],[71,17,61,15,"_mapSlices"],[71,27,61,25],[71,28,61,26,"mat"],[71,31,61,29],[71,33,61,31,"dim"],[71,36,61,34],[71,38,61,36,"callback"],[71,46,61,44],[71,47,61,45],[72,8,62,6],[73,6,63,4],[74,4,64,2],[74,5,64,3],[74,6,64,4],[75,2,65,0],[75,3,65,1],[75,5,65,3],[76,4,66,2,"formerly"],[76,12,66,10],[76,14,66,12],[77,2,67,0],[77,3,67,1],[77,4,67,2],[79,2,69,0],[80,0,70,0],[81,0,71,0],[82,0,72,0],[83,0,73,0],[84,0,74,0],[85,0,75,0],[86,0,76,0],[87,2,77,0],[87,11,77,9,"_mapSlices"],[87,21,77,19,"_mapSlices"],[87,22,77,20,"mat"],[87,25,77,23],[87,27,77,25,"dim"],[87,30,77,28],[87,32,77,30,"callback"],[87,40,77,38],[87,42,77,40],[88,4,78,2],[88,8,78,6,"i"],[88,9,78,7],[88,11,78,9,"ret"],[88,14,78,12],[88,16,78,14,"tran"],[88,20,78,18],[89,4,79,2],[89,8,79,6,"dim"],[89,11,79,9],[89,15,79,13],[89,16,79,14],[89,18,79,16],[90,6,80,4],[90,10,80,8],[90,11,80,9,"Array"],[90,16,80,14],[90,17,80,15,"isArray"],[90,24,80,22],[90,25,80,23,"mat"],[90,28,80,26],[90,29,80,27],[90,30,80,28],[90,31,80,29],[90,32,80,30],[90,34,80,32],[91,8,81,6],[91,15,81,13,"callback"],[91,23,81,21],[91,24,81,22,"mat"],[91,27,81,25],[91,28,81,26],[92,6,82,4],[92,7,82,5],[92,13,82,11],[93,8,83,6,"tran"],[93,12,83,10],[93,15,83,13,"_switch"],[93,22,83,20],[93,23,83,21,"mat"],[93,26,83,24],[93,27,83,25],[94,8,84,6,"ret"],[94,11,84,9],[94,14,84,12],[94,16,84,14],[95,8,85,6],[95,13,85,11,"i"],[95,14,85,12],[95,17,85,15],[95,18,85,16],[95,20,85,18,"i"],[95,21,85,19],[95,24,85,22,"tran"],[95,28,85,26],[95,29,85,27,"length"],[95,35,85,33],[95,37,85,35,"i"],[95,38,85,36],[95,40,85,38],[95,42,85,40],[96,10,86,8,"ret"],[96,13,86,11],[96,14,86,12,"i"],[96,15,86,13],[96,16,86,14],[96,19,86,17,"_mapSlices"],[96,29,86,27],[96,30,86,28,"tran"],[96,34,86,32],[96,35,86,33,"i"],[96,36,86,34],[96,37,86,35],[96,39,86,37,"dim"],[96,42,86,40],[96,45,86,43],[96,46,86,44],[96,48,86,46,"callback"],[96,56,86,54],[96,57,86,55],[97,8,87,6],[98,8,88,6],[98,15,88,13,"ret"],[98,18,88,16],[99,6,89,4],[100,4,90,2],[100,5,90,3],[100,11,90,9],[101,6,91,4,"ret"],[101,9,91,7],[101,12,91,10],[101,14,91,12],[102,6,92,4],[102,11,92,9,"i"],[102,12,92,10],[102,15,92,13],[102,16,92,14],[102,18,92,16,"i"],[102,19,92,17],[102,22,92,20,"mat"],[102,25,92,23],[102,26,92,24,"length"],[102,32,92,30],[102,34,92,32,"i"],[102,35,92,33],[102,37,92,35],[102,39,92,37],[103,8,93,6,"ret"],[103,11,93,9],[103,12,93,10,"i"],[103,13,93,11],[103,14,93,12],[103,17,93,15,"_mapSlices"],[103,27,93,25],[103,28,93,26,"mat"],[103,31,93,29],[103,32,93,30,"i"],[103,33,93,31],[103,34,93,32],[103,36,93,34,"dim"],[103,39,93,37],[103,42,93,40],[103,43,93,41],[103,45,93,43,"callback"],[103,53,93,51],[103,54,93,52],[104,6,94,4],[105,6,95,4],[105,13,95,11,"ret"],[105,16,95,14],[106,4,96,2],[107,2,97,0],[109,2,99,0],[110,0,100,0],[111,0,101,0],[112,0,102,0],[113,0,103,0],[114,0,104,0],[115,2,105,0],[115,11,105,9,"_switch"],[115,18,105,16,"_switch"],[115,19,105,17,"mat"],[115,22,105,20],[115,24,105,22],[116,4,106,2],[116,8,106,6,"I"],[116,9,106,7],[116,12,106,10,"mat"],[116,15,106,13],[116,16,106,14,"length"],[116,22,106,20],[117,4,107,2],[117,8,107,6,"J"],[117,9,107,7],[117,12,107,10,"mat"],[117,15,107,13],[117,16,107,14],[117,17,107,15],[117,18,107,16],[117,19,107,17,"length"],[117,25,107,23],[118,4,108,2],[118,8,108,6,"i"],[118,9,108,7],[118,11,108,9,"j"],[118,12,108,10],[119,4,109,2],[119,8,109,6,"ret"],[119,11,109,9],[119,14,109,12],[119,16,109,14],[120,4,110,2],[120,9,110,7,"j"],[120,10,110,8],[120,13,110,11],[120,14,110,12],[120,16,110,14,"j"],[120,17,110,15],[120,20,110,18,"J"],[120,21,110,19],[120,23,110,21,"j"],[120,24,110,22],[120,26,110,24],[120,28,110,26],[121,6,111,4],[121,10,111,8,"tmp"],[121,13,111,11],[121,16,111,14],[121,18,111,16],[122,6,112,4],[122,11,112,9,"i"],[122,12,112,10],[122,15,112,13],[122,16,112,14],[122,18,112,16,"i"],[122,19,112,17],[122,22,112,20,"I"],[122,23,112,21],[122,25,112,23,"i"],[122,26,112,24],[122,28,112,26],[122,30,112,28],[123,8,113,6,"tmp"],[123,11,113,9],[123,12,113,10,"push"],[123,16,113,14],[123,17,113,15,"mat"],[123,20,113,18],[123,21,113,19,"i"],[123,22,113,20],[123,23,113,21],[123,24,113,22,"j"],[123,25,113,23],[123,26,113,24],[123,27,113,25],[124,6,114,4],[125,6,115,4,"ret"],[125,9,115,7],[125,10,115,8,"push"],[125,14,115,12],[125,15,115,13,"tmp"],[125,18,115,16],[125,19,115,17],[126,4,116,2],[127,4,117,2],[127,11,117,9,"ret"],[127,14,117,12],[128,2,118,0],[129,0,118,1],[129,3]],"functionMap":{"names":["<global>","factory$argument_2","Array__Matrix_number__BigNumber_function","_mapSlices","_switch"],"mappings":"AAA;wECM;oDC2C;KDa;CDE;AGY;CHoB;AIQ"},"hasCjsExports":false},"type":"js/module"}]}