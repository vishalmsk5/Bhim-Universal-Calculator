{"dependencies":[{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"../../utils/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":75,"index":125}}],"key":"DL0lZsaza5vr7zl/bAzDYPBSOyA=","exportNames":["*"],"imports":1}},{"name":"../../function/matrix/map.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":57,"index":183}}],"key":"Q2qP5vA0nmXVjWCdfP77GEDXBVU=","exportNames":["*"],"imports":1}},{"name":"./utils/compileInlineExpression.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":184},"end":{"line":4,"column":77,"index":261}}],"key":"g4zBshoMI373B/TrFZb6d1T0zfQ=","exportNames":["*"],"imports":1}},{"name":"./utils/transformCallback.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":262},"end":{"line":5,"column":71,"index":333}}],"key":"pkb9WQ9nmCVSyWTHKbZ6aRwJJE0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMapTransform\", {\n    enumerable: true,\n    get: function () {\n      return createMapTransform;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../utils/factory.js\");\n  var _utilsIsJs = require(_dependencyMap[1], \"../../utils/is.js\");\n  var _functionMatrixMapJs = require(_dependencyMap[2], \"../../function/matrix/map.js\");\n  var _utilsCompileInlineExpressionJs = require(_dependencyMap[3], \"./utils/compileInlineExpression.js\");\n  var _utilsTransformCallbackJs = require(_dependencyMap[4], \"./utils/transformCallback.js\");\n  var name = 'map';\n  var dependencies = ['typed'];\n  var createMapTransform = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed;\n    /**\n     * Attach a transform function to math.map\n     * Adds a property transform containing the transform function.\n     *\n     * This transform creates a one-based index instead of a zero-based index\n     */\n    var map = (0, _functionMatrixMapJs.createMap)({\n      typed\n    });\n    var transformCallback = (0, _utilsTransformCallbackJs.createTransformCallback)({\n      typed\n    });\n    function mapTransform(args, math, scope) {\n      if (args.length === 0) {\n        return map();\n      }\n      if (args.length === 1) {\n        return map(args[0]);\n      }\n      var N = args.length - 1;\n      var X = args.slice(0, N);\n      var callback = args[N];\n      X = X.map(arg => _compileAndEvaluate(arg, scope));\n      if (callback) {\n        if ((0, _utilsIsJs.isSymbolNode)(callback) || (0, _utilsIsJs.isFunctionAssignmentNode)(callback)) {\n          // a function pointer, like filter([3, -2, 5], myTestFunction)\n          callback = _compileAndEvaluate(callback, scope);\n        } else {\n          // an expression like filter([3, -2, 5], x > 0)\n          callback = (0, _utilsCompileInlineExpressionJs.compileInlineExpression)(callback, math, scope);\n        }\n      }\n      return map(...X, transformCallback(callback, N));\n      function _compileAndEvaluate(arg, scope) {\n        return arg.compile().evaluate(scope);\n      }\n    }\n    mapTransform.rawArgs = true;\n    return mapTransform;\n  }, {\n    isTransformFunction: true\n  });\n});","lineCount":64,"map":[[7,2,8,0,"Object"],[7,8,8,0],[7,9,8,0,"defineProperty"],[7,23,8,0],[7,24,8,0,"exports"],[7,31,8,0],[8,4,8,0,"enumerable"],[8,14,8,0],[9,4,8,0,"get"],[9,7,8,0],[9,18,8,0,"get"],[9,19,8,0],[10,6,8,0],[10,13,8,0,"createMapTransform"],[10,31,8,0],[11,4,8,0],[12,2,8,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,0,"_utilsIsJs"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,3,0],[15,6,3,0,"_functionMatrixMapJs"],[15,26,3,0],[15,29,3,0,"require"],[15,36,3,0],[15,37,3,0,"_dependencyMap"],[15,51,3,0],[16,2,4,0],[16,6,4,0,"_utilsCompileInlineExpressionJs"],[16,37,4,0],[16,40,4,0,"require"],[16,47,4,0],[16,48,4,0,"_dependencyMap"],[16,62,4,0],[17,2,5,0],[17,6,5,0,"_utilsTransformCallbackJs"],[17,31,5,0],[17,34,5,0,"require"],[17,41,5,0],[17,42,5,0,"_dependencyMap"],[17,56,5,0],[18,2,6,0],[18,6,6,4,"name"],[18,10,6,8],[18,13,6,11],[18,18,6,16],[19,2,7,0],[19,6,7,4,"dependencies"],[19,18,7,16],[19,21,7,19],[19,22,7,20],[19,29,7,27],[19,30,7,28],[20,2,8,7],[20,6,8,11,"createMapTransform"],[20,24,8,29],[20,27,8,32],[20,42,8,47],[20,46,8,47,"factory"],[20,61,8,54],[20,62,8,54,"factory"],[20,69,8,54],[20,71,8,55,"name"],[20,75,8,59],[20,77,8,61,"dependencies"],[20,89,8,73],[20,91,8,75,"_ref"],[20,95,8,79],[20,99,8,83],[21,4,9,2],[21,8,10,4,"typed"],[21,13,10,9],[21,16,11,6,"_ref"],[21,20,11,10],[21,21,10,4,"typed"],[21,26,10,9],[22,4,12,2],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,4,18,2],[28,8,18,6,"map"],[28,11,18,9],[28,14,18,12],[28,18,18,12,"createMap"],[28,38,18,21],[28,39,18,21,"createMap"],[28,48,18,21],[28,50,18,22],[29,6,19,4,"typed"],[30,4,20,2],[30,5,20,3],[30,6,20,4],[31,4,21,2],[31,8,21,6,"transformCallback"],[31,25,21,23],[31,28,21,26],[31,32,21,26,"createTransformCallback"],[31,57,21,49],[31,58,21,49,"createTransformCallback"],[31,81,21,49],[31,83,21,50],[32,6,22,4,"typed"],[33,4,23,2],[33,5,23,3],[33,6,23,4],[34,4,24,2],[34,13,24,11,"mapTransform"],[34,25,24,23,"mapTransform"],[34,26,24,24,"args"],[34,30,24,28],[34,32,24,30,"math"],[34,36,24,34],[34,38,24,36,"scope"],[34,43,24,41],[34,45,24,43],[35,6,25,4],[35,10,25,8,"args"],[35,14,25,12],[35,15,25,13,"length"],[35,21,25,19],[35,26,25,24],[35,27,25,25],[35,29,25,27],[36,8,26,6],[36,15,26,13,"map"],[36,18,26,16],[36,19,26,17],[36,20,26,18],[37,6,27,4],[38,6,28,4],[38,10,28,8,"args"],[38,14,28,12],[38,15,28,13,"length"],[38,21,28,19],[38,26,28,24],[38,27,28,25],[38,29,28,27],[39,8,29,6],[39,15,29,13,"map"],[39,18,29,16],[39,19,29,17,"args"],[39,23,29,21],[39,24,29,22],[39,25,29,23],[39,26,29,24],[39,27,29,25],[40,6,30,4],[41,6,31,4],[41,10,31,8,"N"],[41,11,31,9],[41,14,31,12,"args"],[41,18,31,16],[41,19,31,17,"length"],[41,25,31,23],[41,28,31,26],[41,29,31,27],[42,6,32,4],[42,10,32,8,"X"],[42,11,32,9],[42,14,32,12,"args"],[42,18,32,16],[42,19,32,17,"slice"],[42,24,32,22],[42,25,32,23],[42,26,32,24],[42,28,32,26,"N"],[42,29,32,27],[42,30,32,28],[43,6,33,4],[43,10,33,8,"callback"],[43,18,33,16],[43,21,33,19,"args"],[43,25,33,23],[43,26,33,24,"N"],[43,27,33,25],[43,28,33,26],[44,6,34,4,"X"],[44,7,34,5],[44,10,34,8,"X"],[44,11,34,9],[44,12,34,10,"map"],[44,15,34,13],[44,16,34,14,"arg"],[44,19,34,17],[44,23,34,21,"_compileAndEvaluate"],[44,42,34,40],[44,43,34,41,"arg"],[44,46,34,44],[44,48,34,46,"scope"],[44,53,34,51],[44,54,34,52],[44,55,34,53],[45,6,35,4],[45,10,35,8,"callback"],[45,18,35,16],[45,20,35,18],[46,8,36,6],[46,12,36,10],[46,16,36,10,"isSymbolNode"],[46,26,36,22],[46,27,36,22,"isSymbolNode"],[46,39,36,22],[46,41,36,23,"callback"],[46,49,36,31],[46,50,36,32],[46,54,36,36],[46,58,36,36,"isFunctionAssignmentNode"],[46,68,36,60],[46,69,36,60,"isFunctionAssignmentNode"],[46,93,36,60],[46,95,36,61,"callback"],[46,103,36,69],[46,104,36,70],[46,106,36,72],[47,10,37,8],[48,10,38,8,"callback"],[48,18,38,16],[48,21,38,19,"_compileAndEvaluate"],[48,40,38,38],[48,41,38,39,"callback"],[48,49,38,47],[48,51,38,49,"scope"],[48,56,38,54],[48,57,38,55],[49,8,39,6],[49,9,39,7],[49,15,39,13],[50,10,40,8],[51,10,41,8,"callback"],[51,18,41,16],[51,21,41,19],[51,25,41,19,"compileInlineExpression"],[51,56,41,42],[51,57,41,42,"compileInlineExpression"],[51,80,41,42],[51,82,41,43,"callback"],[51,90,41,51],[51,92,41,53,"math"],[51,96,41,57],[51,98,41,59,"scope"],[51,103,41,64],[51,104,41,65],[52,8,42,6],[53,6,43,4],[54,6,44,4],[54,13,44,11,"map"],[54,16,44,14],[54,17,44,15],[54,20,44,18,"X"],[54,21,44,19],[54,23,44,21,"transformCallback"],[54,40,44,38],[54,41,44,39,"callback"],[54,49,44,47],[54,51,44,49,"N"],[54,52,44,50],[54,53,44,51],[54,54,44,52],[55,6,45,4],[55,15,45,13,"_compileAndEvaluate"],[55,34,45,32,"_compileAndEvaluate"],[55,35,45,33,"arg"],[55,38,45,36],[55,40,45,38,"scope"],[55,45,45,43],[55,47,45,45],[56,8,46,6],[56,15,46,13,"arg"],[56,18,46,16],[56,19,46,17,"compile"],[56,26,46,24],[56,27,46,25],[56,28,46,26],[56,29,46,27,"evaluate"],[56,37,46,35],[56,38,46,36,"scope"],[56,43,46,41],[56,44,46,42],[57,6,47,4],[58,4,48,2],[59,4,49,2,"mapTransform"],[59,16,49,14],[59,17,49,15,"rawArgs"],[59,24,49,22],[59,27,49,25],[59,31,49,29],[60,4,50,2],[60,11,50,9,"mapTransform"],[60,23,50,21],[61,2,51,0],[61,3,51,1],[61,5,51,3],[62,4,52,2,"isTransformFunction"],[62,23,52,21],[62,25,52,23],[63,2,53,0],[63,3,53,1],[63,4,53,2],[64,0,53,3],[64,3]],"functionMap":{"names":["<global>","factory$argument_2","mapTransform","X.map$argument_0","_compileAndEvaluate"],"mappings":"AAA;2ECO;ECgB;cCU,sCD;IEW;KFE;GDC;CDG"},"hasCjsExports":false},"type":"js/module"}]}