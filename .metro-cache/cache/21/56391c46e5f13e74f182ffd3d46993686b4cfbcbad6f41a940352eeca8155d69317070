{"dependencies":[{"name":"../../utils/collection.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"fi1hvvRFVO+J7CgKvCdHAHsYQlM=","exportNames":["*"],"imports":1}},{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":65},"end":{"line":2,"column":47,"index":112}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":113},"end":{"line":3,"column":49,"index":162}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"./utils/improveErrorMessage.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":163},"end":{"line":4,"column":69,"index":232}}],"key":"OctJ2iR6C74+6ORuXPT3M8Q90Dc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMedian\", {\n    enumerable: true,\n    get: function () {\n      return createMedian;\n    }\n  });\n  var _utilsCollectionJs = require(_dependencyMap[0], \"../../utils/collection.js\");\n  var _utilsArrayJs = require(_dependencyMap[1], \"../../utils/array.js\");\n  var _utilsFactoryJs = require(_dependencyMap[2], \"../../utils/factory.js\");\n  var _utilsImproveErrorMessageJs = require(_dependencyMap[3], \"./utils/improveErrorMessage.js\");\n  var name = 'median';\n  var dependencies = ['typed', 'add', 'divide', 'compare', 'partitionSelect'];\n  var createMedian = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      add = _ref.add,\n      divide = _ref.divide,\n      compare = _ref.compare,\n      partitionSelect = _ref.partitionSelect;\n    /**\n     * Recursively calculate the median of an n-dimensional array\n     * @param {Array} array\n     * @return {Number} median\n     * @private\n     */\n    function _median(array) {\n      try {\n        array = (0, _utilsArrayJs.flatten)(array.valueOf());\n        var num = array.length;\n        if (num === 0) {\n          throw new Error('Cannot calculate median of an empty array');\n        }\n        if (num % 2 === 0) {\n          // even: return the average of the two middle values\n          var mid = num / 2 - 1;\n          var right = partitionSelect(array, mid + 1);\n\n          // array now partitioned at mid + 1, take max of left part\n          var left = array[mid];\n          for (var i = 0; i < mid; ++i) {\n            if (compare(array[i], left) > 0) {\n              left = array[i];\n            }\n          }\n          return middle2(left, right);\n        } else {\n          // odd: return the middle value\n          var m = partitionSelect(array, (num - 1) / 2);\n          return middle(m);\n        }\n      } catch (err) {\n        throw (0, _utilsImproveErrorMessageJs.improveErrorMessage)(err, 'median');\n      }\n    }\n\n    // helper function to type check the middle value of the array\n    var middle = typed({\n      'number | BigNumber | Complex | Unit': function number__BigNumber__Complex__Unit(value) {\n        return value;\n      }\n    });\n\n    // helper function to type check the two middle value of the array\n    var middle2 = typed({\n      'number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit': function number__BigNumber__Complex__Unit_number__BigNumber__Complex__Unit(left, right) {\n        return divide(add(left, right), 2);\n      }\n    });\n\n    /**\n     * Compute the median of a matrix or a list with values. The values are\n     * sorted and the middle value is returned. In case of an even number of\n     * values, the average of the two middle values is returned.\n     * Supported types of values are: Number, BigNumber, Unit\n     *\n     * In case of a (multi dimensional) array or matrix, the median of all\n     * elements will be calculated.\n     *\n     * Syntax:\n     *\n     *     math.median(a, b, c, ...)\n     *     math.median(A)\n     *\n     * Examples:\n     *\n     *     math.median(5, 2, 7)        // returns 5\n     *     math.median([3, -1, 5, 7])  // returns 4\n     *\n     * See also:\n     *\n     *     mean, min, max, sum, prod, std, variance, quantileSeq\n     *\n     * @param {... *} args  A single matrix or or multiple scalar values\n     * @return {*} The median\n     */\n    return typed(name, {\n      // median([a, b, c, d, ...])\n      'Array | Matrix': _median,\n      // median([a, b, c, d, ...], dim)\n      'Array | Matrix, number | BigNumber': function Array__Matrix_number__BigNumber(array, dim) {\n        // TODO: implement median(A, dim)\n        throw new Error('median(A, dim) is not yet supported');\n        // return reduce(arguments[0], arguments[1], ...)\n      },\n      // median(a, b, c, d, ...)\n      '...': function _(args) {\n        if ((0, _utilsCollectionJs.containsCollections)(args)) {\n          throw new TypeError('Scalar values expected in function median');\n        }\n        return _median(args);\n      }\n    });\n  });\n});","lineCount":119,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"createMedian"],[10,25,7,0],[11,4,7,0],[12,2,7,0],[13,2,1,0],[13,6,1,0,"_utilsCollectionJs"],[13,24,1,0],[13,27,1,0,"require"],[13,34,1,0],[13,35,1,0,"_dependencyMap"],[13,49,1,0],[14,2,2,0],[14,6,2,0,"_utilsArrayJs"],[14,19,2,0],[14,22,2,0,"require"],[14,29,2,0],[14,30,2,0,"_dependencyMap"],[14,44,2,0],[15,2,3,0],[15,6,3,0,"_utilsFactoryJs"],[15,21,3,0],[15,24,3,0,"require"],[15,31,3,0],[15,32,3,0,"_dependencyMap"],[15,46,3,0],[16,2,4,0],[16,6,4,0,"_utilsImproveErrorMessageJs"],[16,33,4,0],[16,36,4,0,"require"],[16,43,4,0],[16,44,4,0,"_dependencyMap"],[16,58,4,0],[17,2,5,0],[17,6,5,4,"name"],[17,10,5,8],[17,13,5,11],[17,21,5,19],[18,2,6,0],[18,6,6,4,"dependencies"],[18,18,6,16],[18,21,6,19],[18,22,6,20],[18,29,6,27],[18,31,6,29],[18,36,6,34],[18,38,6,36],[18,46,6,44],[18,48,6,46],[18,57,6,55],[18,59,6,57],[18,76,6,74],[18,77,6,75],[19,2,7,7],[19,6,7,11,"createMedian"],[19,18,7,23],[19,21,7,26],[19,36,7,41],[19,40,7,41,"factory"],[19,55,7,48],[19,56,7,48,"factory"],[19,63,7,48],[19,65,7,49,"name"],[19,69,7,53],[19,71,7,55,"dependencies"],[19,83,7,67],[19,85,7,69,"_ref"],[19,89,7,73],[19,93,7,77],[20,4,8,2],[20,8,9,4,"typed"],[20,13,9,9],[20,16,14,6,"_ref"],[20,20,14,10],[20,21,9,4,"typed"],[20,26,9,9],[21,6,10,4,"add"],[21,9,10,7],[21,12,14,6,"_ref"],[21,16,14,10],[21,17,10,4,"add"],[21,20,10,7],[22,6,11,4,"divide"],[22,12,11,10],[22,15,14,6,"_ref"],[22,19,14,10],[22,20,11,4,"divide"],[22,26,11,10],[23,6,12,4,"compare"],[23,13,12,11],[23,16,14,6,"_ref"],[23,20,14,10],[23,21,12,4,"compare"],[23,28,12,11],[24,6,13,4,"partitionSelect"],[24,21,13,19],[24,24,14,6,"_ref"],[24,28,14,10],[24,29,13,4,"partitionSelect"],[24,44,13,19],[25,4,15,2],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,4,21,2],[31,13,21,11,"_median"],[31,20,21,18,"_median"],[31,21,21,19,"array"],[31,26,21,24],[31,28,21,26],[32,6,22,4],[32,10,22,8],[33,8,23,6,"array"],[33,13,23,11],[33,16,23,14],[33,20,23,14,"flatten"],[33,33,23,21],[33,34,23,21,"flatten"],[33,41,23,21],[33,43,23,22,"array"],[33,48,23,27],[33,49,23,28,"valueOf"],[33,56,23,35],[33,57,23,36],[33,58,23,37],[33,59,23,38],[34,8,24,6],[34,12,24,10,"num"],[34,15,24,13],[34,18,24,16,"array"],[34,23,24,21],[34,24,24,22,"length"],[34,30,24,28],[35,8,25,6],[35,12,25,10,"num"],[35,15,25,13],[35,20,25,18],[35,21,25,19],[35,23,25,21],[36,10,26,8],[36,16,26,14],[36,20,26,18,"Error"],[36,25,26,23],[36,26,26,24],[36,69,26,67],[36,70,26,68],[37,8,27,6],[38,8,28,6],[38,12,28,10,"num"],[38,15,28,13],[38,18,28,16],[38,19,28,17],[38,24,28,22],[38,25,28,23],[38,27,28,25],[39,10,29,8],[40,10,30,8],[40,14,30,12,"mid"],[40,17,30,15],[40,20,30,18,"num"],[40,23,30,21],[40,26,30,24],[40,27,30,25],[40,30,30,28],[40,31,30,29],[41,10,31,8],[41,14,31,12,"right"],[41,19,31,17],[41,22,31,20,"partitionSelect"],[41,37,31,35],[41,38,31,36,"array"],[41,43,31,41],[41,45,31,43,"mid"],[41,48,31,46],[41,51,31,49],[41,52,31,50],[41,53,31,51],[43,10,33,8],[44,10,34,8],[44,14,34,12,"left"],[44,18,34,16],[44,21,34,19,"array"],[44,26,34,24],[44,27,34,25,"mid"],[44,30,34,28],[44,31,34,29],[45,10,35,8],[45,15,35,13],[45,19,35,17,"i"],[45,20,35,18],[45,23,35,21],[45,24,35,22],[45,26,35,24,"i"],[45,27,35,25],[45,30,35,28,"mid"],[45,33,35,31],[45,35,35,33],[45,37,35,35,"i"],[45,38,35,36],[45,40,35,38],[46,12,36,10],[46,16,36,14,"compare"],[46,23,36,21],[46,24,36,22,"array"],[46,29,36,27],[46,30,36,28,"i"],[46,31,36,29],[46,32,36,30],[46,34,36,32,"left"],[46,38,36,36],[46,39,36,37],[46,42,36,40],[46,43,36,41],[46,45,36,43],[47,14,37,12,"left"],[47,18,37,16],[47,21,37,19,"array"],[47,26,37,24],[47,27,37,25,"i"],[47,28,37,26],[47,29,37,27],[48,12,38,10],[49,10,39,8],[50,10,40,8],[50,17,40,15,"middle2"],[50,24,40,22],[50,25,40,23,"left"],[50,29,40,27],[50,31,40,29,"right"],[50,36,40,34],[50,37,40,35],[51,8,41,6],[51,9,41,7],[51,15,41,13],[52,10,42,8],[53,10,43,8],[53,14,43,12,"m"],[53,15,43,13],[53,18,43,16,"partitionSelect"],[53,33,43,31],[53,34,43,32,"array"],[53,39,43,37],[53,41,43,39],[53,42,43,40,"num"],[53,45,43,43],[53,48,43,46],[53,49,43,47],[53,53,43,51],[53,54,43,52],[53,55,43,53],[54,10,44,8],[54,17,44,15,"middle"],[54,23,44,21],[54,24,44,22,"m"],[54,25,44,23],[54,26,44,24],[55,8,45,6],[56,6,46,4],[56,7,46,5],[56,8,46,6],[56,15,46,13,"err"],[56,18,46,16],[56,20,46,18],[57,8,47,6],[57,14,47,12],[57,18,47,12,"improveErrorMessage"],[57,45,47,31],[57,46,47,31,"improveErrorMessage"],[57,65,47,31],[57,67,47,32,"err"],[57,70,47,35],[57,72,47,37],[57,80,47,45],[57,81,47,46],[58,6,48,4],[59,4,49,2],[61,4,51,2],[62,4,52,2],[62,8,52,6,"middle"],[62,14,52,12],[62,17,52,15,"typed"],[62,22,52,20],[62,23,52,21],[63,6,53,4],[63,43,53,41],[63,45,53,43],[63,54,53,52,"number__BigNumber__Complex__Unit"],[63,86,53,84,"number__BigNumber__Complex__Unit"],[63,87,53,85,"value"],[63,92,53,90],[63,94,53,92],[64,8,54,6],[64,15,54,13,"value"],[64,20,54,18],[65,6,55,4],[66,4,56,2],[66,5,56,3],[66,6,56,4],[68,4,58,2],[69,4,59,2],[69,8,59,6,"middle2"],[69,15,59,13],[69,18,59,16,"typed"],[69,23,59,21],[69,24,59,22],[70,6,60,4],[70,80,60,78],[70,82,60,80],[70,91,60,89,"number__BigNumber__Complex__Unit_number__BigNumber__Complex__Unit"],[70,156,60,154,"number__BigNumber__Complex__Unit_number__BigNumber__Complex__Unit"],[70,157,60,155,"left"],[70,161,60,159],[70,163,60,161,"right"],[70,168,60,166],[70,170,60,168],[71,8,61,6],[71,15,61,13,"divide"],[71,21,61,19],[71,22,61,20,"add"],[71,25,61,23],[71,26,61,24,"left"],[71,30,61,28],[71,32,61,30,"right"],[71,37,61,35],[71,38,61,36],[71,40,61,38],[71,41,61,39],[71,42,61,40],[72,6,62,4],[73,4,63,2],[73,5,63,3],[73,6,63,4],[75,4,65,2],[76,0,66,0],[77,0,67,0],[78,0,68,0],[79,0,69,0],[80,0,70,0],[81,0,71,0],[82,0,72,0],[83,0,73,0],[84,0,74,0],[85,0,75,0],[86,0,76,0],[87,0,77,0],[88,0,78,0],[89,0,79,0],[90,0,80,0],[91,0,81,0],[92,0,82,0],[93,0,83,0],[94,0,84,0],[95,0,85,0],[96,0,86,0],[97,0,87,0],[98,0,88,0],[99,0,89,0],[100,0,90,0],[101,4,91,2],[101,11,91,9,"typed"],[101,16,91,14],[101,17,91,15,"name"],[101,21,91,19],[101,23,91,21],[102,6,92,4],[103,6,93,4],[103,22,93,20],[103,24,93,22,"_median"],[103,31,93,29],[104,6,94,4],[105,6,95,4],[105,42,95,40],[105,44,95,42],[105,53,95,51,"Array__Matrix_number__BigNumber"],[105,84,95,82,"Array__Matrix_number__BigNumber"],[105,85,95,83,"array"],[105,90,95,88],[105,92,95,90,"dim"],[105,95,95,93],[105,97,95,95],[106,8,96,6],[107,8,97,6],[107,14,97,12],[107,18,97,16,"Error"],[107,23,97,21],[107,24,97,22],[107,61,97,59],[107,62,97,60],[108,8,98,6],[109,6,99,4],[109,7,99,5],[110,6,100,4],[111,6,101,4],[111,11,101,9],[111,13,101,11],[111,22,101,20,"_"],[111,23,101,21,"_"],[111,24,101,22,"args"],[111,28,101,26],[111,30,101,28],[112,8,102,6],[112,12,102,10],[112,16,102,10,"containsCollections"],[112,34,102,29],[112,35,102,29,"containsCollections"],[112,54,102,29],[112,56,102,30,"args"],[112,60,102,34],[112,61,102,35],[112,63,102,37],[113,10,103,8],[113,16,103,14],[113,20,103,18,"TypeError"],[113,29,103,27],[113,30,103,28],[113,73,103,71],[113,74,103,72],[114,8,104,6],[115,8,105,6],[115,15,105,13,"_median"],[115,22,105,20],[115,23,105,21,"args"],[115,27,105,25],[115,28,105,26],[116,6,106,4],[117,4,107,2],[117,5,107,3],[117,6,107,4],[118,2,108,0],[118,3,108,1],[118,4,108,2],[119,0,108,3],[119,3]],"functionMap":{"names":["<global>","factory$argument_2","_median","number__BigNumber__Complex__Unit","number__BigNumber__Complex__Unit_number__BigNumber__Complex__Unit","Array__Matrix_number__BigNumber","_"],"mappings":"AAA;qECM;ECc;GD4B;2CEI;KFE;gFGK;KHE;0CIiC;KJI;WKE;KLK;CDE"},"hasCjsExports":false},"type":"js/module"}]}