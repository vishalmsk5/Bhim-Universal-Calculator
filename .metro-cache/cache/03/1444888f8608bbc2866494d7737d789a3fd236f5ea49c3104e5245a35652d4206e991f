{"dependencies":[{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":49,"index":119}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createSetIntersect\", {\n    enumerable: true,\n    get: function () {\n      return createSetIntersect;\n    }\n  });\n  var _utilsArrayJs = require(_dependencyMap[0], \"../../utils/array.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../utils/factory.js\");\n  var name = 'setIntersect';\n  var dependencies = ['typed', 'size', 'subset', 'compareNatural', 'Index', 'DenseMatrix'];\n  var createSetIntersect = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      size,\n      subset,\n      compareNatural,\n      Index,\n      DenseMatrix\n    } = _ref;\n    /**\n     * Create the intersection of two (multi)sets.\n     * Multi-dimension arrays will be converted to single-dimension arrays before the operation.\n     *\n     * Syntax:\n     *\n     *    math.setIntersect(set1, set2)\n     *\n     * Examples:\n     *\n     *    math.setIntersect([1, 2, 3, 4], [3, 4, 5, 6])            // returns [3, 4]\n     *    math.setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])    // returns [3, 4]\n     *\n     * See also:\n     *\n     *    setUnion, setDifference\n     *\n     * @param {Array | Matrix}    a1  A (multi)set\n     * @param {Array | Matrix}    a2  A (multi)set\n     * @return {Array | Matrix}    The intersection of two (multi)sets\n     */\n    return typed(name, {\n      'Array | Matrix, Array | Matrix': function Array__Matrix_Array__Matrix(a1, a2) {\n        var result;\n        if (subset(size(a1), new Index(0)) === 0 || subset(size(a2), new Index(0)) === 0) {\n          // of any of them is empty, return empty\n          result = [];\n        } else {\n          var b1 = (0, _utilsArrayJs.identify)((0, _utilsArrayJs.flatten)(Array.isArray(a1) ? a1 : a1.toArray()).sort(compareNatural));\n          var b2 = (0, _utilsArrayJs.identify)((0, _utilsArrayJs.flatten)(Array.isArray(a2) ? a2 : a2.toArray()).sort(compareNatural));\n          result = [];\n          for (var i = 0; i < b1.length; i++) {\n            for (var j = 0; j < b2.length; j++) {\n              if (compareNatural(b1[i].value, b2[j].value) === 0 && b1[i].identifier === b2[j].identifier) {\n                // the identifier is always a decimal int\n                result.push(b1[i]);\n                break;\n              }\n            }\n          }\n        }\n        // return an array, if both inputs were arrays\n        if (Array.isArray(a1) && Array.isArray(a2)) {\n          return (0, _utilsArrayJs.generalize)(result);\n        }\n        // return a matrix otherwise\n        return new DenseMatrix((0, _utilsArrayJs.generalize)(result));\n      }\n    });\n  });\n});","lineCount":76,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"createSetIntersect"],[10,31,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_utilsArrayJs"],[13,19,1,0],[13,22,1,0,"require"],[13,29,1,0],[13,30,1,0,"_dependencyMap"],[13,44,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,4,"name"],[15,10,3,8],[15,13,3,11],[15,27,3,25],[16,2,4,0],[16,6,4,4,"dependencies"],[16,18,4,16],[16,21,4,19],[16,22,4,20],[16,29,4,27],[16,31,4,29],[16,37,4,35],[16,39,4,37],[16,47,4,45],[16,49,4,47],[16,65,4,63],[16,67,4,65],[16,74,4,72],[16,76,4,74],[16,89,4,87],[16,90,4,88],[17,2,5,7],[17,6,5,11,"createSetIntersect"],[17,24,5,29],[17,27,5,32],[17,42,5,47],[17,46,5,47,"factory"],[17,61,5,54],[17,62,5,54,"factory"],[17,69,5,54],[17,71,5,55,"name"],[17,75,5,59],[17,77,5,61,"dependencies"],[17,89,5,73],[17,91,5,75,"_ref"],[17,95,5,79],[17,99,5,83],[18,4,6,2],[18,8,6,6],[19,6,7,4,"typed"],[19,11,7,9],[20,6,8,4,"size"],[20,10,8,8],[21,6,9,4,"subset"],[21,12,9,10],[22,6,10,4,"compareNatural"],[22,20,10,18],[23,6,11,4,"Index"],[23,11,11,9],[24,6,12,4,"DenseMatrix"],[25,4,13,2],[25,5,13,3],[25,8,13,6,"_ref"],[25,12,13,10],[26,4,14,2],[27,0,15,0],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,0,33,0],[46,0,34,0],[47,4,35,2],[47,11,35,9,"typed"],[47,16,35,14],[47,17,35,15,"name"],[47,21,35,19],[47,23,35,21],[48,6,36,4],[48,38,36,36],[48,40,36,38],[48,49,36,47,"Array__Matrix_Array__Matrix"],[48,76,36,74,"Array__Matrix_Array__Matrix"],[48,77,36,75,"a1"],[48,79,36,77],[48,81,36,79,"a2"],[48,83,36,81],[48,85,36,83],[49,8,37,6],[49,12,37,10,"result"],[49,18,37,16],[50,8,38,6],[50,12,38,10,"subset"],[50,18,38,16],[50,19,38,17,"size"],[50,23,38,21],[50,24,38,22,"a1"],[50,26,38,24],[50,27,38,25],[50,29,38,27],[50,33,38,31,"Index"],[50,38,38,36],[50,39,38,37],[50,40,38,38],[50,41,38,39],[50,42,38,40],[50,47,38,45],[50,48,38,46],[50,52,38,50,"subset"],[50,58,38,56],[50,59,38,57,"size"],[50,63,38,61],[50,64,38,62,"a2"],[50,66,38,64],[50,67,38,65],[50,69,38,67],[50,73,38,71,"Index"],[50,78,38,76],[50,79,38,77],[50,80,38,78],[50,81,38,79],[50,82,38,80],[50,87,38,85],[50,88,38,86],[50,90,38,88],[51,10,39,8],[52,10,40,8,"result"],[52,16,40,14],[52,19,40,17],[52,21,40,19],[53,8,41,6],[53,9,41,7],[53,15,41,13],[54,10,42,8],[54,14,42,12,"b1"],[54,16,42,14],[54,19,42,17],[54,23,42,17,"identify"],[54,36,42,25],[54,37,42,25,"identify"],[54,45,42,25],[54,47,42,26],[54,51,42,26,"flatten"],[54,64,42,33],[54,65,42,33,"flatten"],[54,72,42,33],[54,74,42,34,"Array"],[54,79,42,39],[54,80,42,40,"isArray"],[54,87,42,47],[54,88,42,48,"a1"],[54,90,42,50],[54,91,42,51],[54,94,42,54,"a1"],[54,96,42,56],[54,99,42,59,"a1"],[54,101,42,61],[54,102,42,62,"toArray"],[54,109,42,69],[54,110,42,70],[54,111,42,71],[54,112,42,72],[54,113,42,73,"sort"],[54,117,42,77],[54,118,42,78,"compareNatural"],[54,132,42,92],[54,133,42,93],[54,134,42,94],[55,10,43,8],[55,14,43,12,"b2"],[55,16,43,14],[55,19,43,17],[55,23,43,17,"identify"],[55,36,43,25],[55,37,43,25,"identify"],[55,45,43,25],[55,47,43,26],[55,51,43,26,"flatten"],[55,64,43,33],[55,65,43,33,"flatten"],[55,72,43,33],[55,74,43,34,"Array"],[55,79,43,39],[55,80,43,40,"isArray"],[55,87,43,47],[55,88,43,48,"a2"],[55,90,43,50],[55,91,43,51],[55,94,43,54,"a2"],[55,96,43,56],[55,99,43,59,"a2"],[55,101,43,61],[55,102,43,62,"toArray"],[55,109,43,69],[55,110,43,70],[55,111,43,71],[55,112,43,72],[55,113,43,73,"sort"],[55,117,43,77],[55,118,43,78,"compareNatural"],[55,132,43,92],[55,133,43,93],[55,134,43,94],[56,10,44,8,"result"],[56,16,44,14],[56,19,44,17],[56,21,44,19],[57,10,45,8],[57,15,45,13],[57,19,45,17,"i"],[57,20,45,18],[57,23,45,21],[57,24,45,22],[57,26,45,24,"i"],[57,27,45,25],[57,30,45,28,"b1"],[57,32,45,30],[57,33,45,31,"length"],[57,39,45,37],[57,41,45,39,"i"],[57,42,45,40],[57,44,45,42],[57,46,45,44],[58,12,46,10],[58,17,46,15],[58,21,46,19,"j"],[58,22,46,20],[58,25,46,23],[58,26,46,24],[58,28,46,26,"j"],[58,29,46,27],[58,32,46,30,"b2"],[58,34,46,32],[58,35,46,33,"length"],[58,41,46,39],[58,43,46,41,"j"],[58,44,46,42],[58,46,46,44],[58,48,46,46],[59,14,47,12],[59,18,47,16,"compareNatural"],[59,32,47,30],[59,33,47,31,"b1"],[59,35,47,33],[59,36,47,34,"i"],[59,37,47,35],[59,38,47,36],[59,39,47,37,"value"],[59,44,47,42],[59,46,47,44,"b2"],[59,48,47,46],[59,49,47,47,"j"],[59,50,47,48],[59,51,47,49],[59,52,47,50,"value"],[59,57,47,55],[59,58,47,56],[59,63,47,61],[59,64,47,62],[59,68,47,66,"b1"],[59,70,47,68],[59,71,47,69,"i"],[59,72,47,70],[59,73,47,71],[59,74,47,72,"identifier"],[59,84,47,82],[59,89,47,87,"b2"],[59,91,47,89],[59,92,47,90,"j"],[59,93,47,91],[59,94,47,92],[59,95,47,93,"identifier"],[59,105,47,103],[59,107,47,105],[60,16,48,14],[61,16,49,14,"result"],[61,22,49,20],[61,23,49,21,"push"],[61,27,49,25],[61,28,49,26,"b1"],[61,30,49,28],[61,31,49,29,"i"],[61,32,49,30],[61,33,49,31],[61,34,49,32],[62,16,50,14],[63,14,51,12],[64,12,52,10],[65,10,53,8],[66,8,54,6],[67,8,55,6],[68,8,56,6],[68,12,56,10,"Array"],[68,17,56,15],[68,18,56,16,"isArray"],[68,25,56,23],[68,26,56,24,"a1"],[68,28,56,26],[68,29,56,27],[68,33,56,31,"Array"],[68,38,56,36],[68,39,56,37,"isArray"],[68,46,56,44],[68,47,56,45,"a2"],[68,49,56,47],[68,50,56,48],[68,52,56,50],[69,10,57,8],[69,17,57,15],[69,21,57,15,"generalize"],[69,34,57,25],[69,35,57,25,"generalize"],[69,45,57,25],[69,47,57,26,"result"],[69,53,57,32],[69,54,57,33],[70,8,58,6],[71,8,59,6],[72,8,60,6],[72,15,60,13],[72,19,60,17,"DenseMatrix"],[72,30,60,28],[72,31,60,29],[72,35,60,29,"generalize"],[72,48,60,39],[72,49,60,39,"generalize"],[72,59,60,39],[72,61,60,40,"result"],[72,67,60,46],[72,68,60,47],[72,69,60,48],[73,6,61,4],[74,4,62,2],[74,5,62,3],[74,6,62,4],[75,2,63,0],[75,3,63,1],[75,4,63,2],[76,0,63,3],[76,3]],"functionMap":{"names":["<global>","factory$argument_2","Array__Matrix_Array__Matrix"],"mappings":"AAA;2ECI;sCC+B;KDyB;CDE"},"hasCjsExports":false},"type":"js/module"}]}