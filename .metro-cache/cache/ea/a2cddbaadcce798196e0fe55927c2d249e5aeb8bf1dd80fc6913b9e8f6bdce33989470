{"dependencies":[{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createCorr\", {\n    enumerable: true,\n    get: function () {\n      return createCorr;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../utils/factory.js\");\n  var name = 'corr';\n  var dependencies = ['typed', 'matrix', 'mean', 'sqrt', 'sum', 'add', 'subtract', 'multiply', 'pow', 'divide'];\n  var createCorr = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      matrix = _ref.matrix,\n      sqrt = _ref.sqrt,\n      sum = _ref.sum,\n      add = _ref.add,\n      subtract = _ref.subtract,\n      multiply = _ref.multiply,\n      pow = _ref.pow,\n      divide = _ref.divide;\n    /**\n     * Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.\n     *\n     * Syntax:\n     *\n     *     math.corr(A, B)\n     *\n     * Examples:\n     *\n     *     math.corr([1, 2, 3, 4, 5], [4, 5, 6, 7, 8])     // returns 1\n     *     math.corr([1, 2.2, 3, 4.8, 5], [4, 5.3, 6.6, 7, 8])     //returns 0.9569941688503644\n     *     math.corr([[1, 2.2, 3, 4.8, 5], [4, 5.3, 6.6, 7, 8]],[[1, 2.2, 3, 4.8, 5], [4, 5.3, 6.6, 7, 8]])   // returns [1,1]\n     *\n     * See also:\n     *\n     *     median, mean, min, max, sum, prod, std, variance\n     *\n     * @param {Array | Matrix} A The first array or matrix to compute correlation coefficient\n     * @param {Array | Matrix} B The second array or matrix to compute correlation coefficient\n     * @return {*} The correlation coefficient\n     */\n    return typed(name, {\n      'Array, Array': function Array_Array(A, B) {\n        return _corr(A, B);\n      },\n      'Matrix, Matrix': function Matrix_Matrix(A, B) {\n        var res = _corr(A.toArray(), B.toArray());\n        return Array.isArray(res) ? matrix(res) : res;\n      }\n    });\n    /**\n     * Calculate the correlation coefficient between two arrays or matrices.\n     * @param {Array | Matrix} A\n     * @param {Array | Matrix} B\n     * @return {*} correlation coefficient\n     * @private\n     */\n    function _corr(A, B) {\n      var correlations = [];\n      if (Array.isArray(A[0]) && Array.isArray(B[0])) {\n        if (A.length !== B.length) {\n          throw new SyntaxError('Dimension mismatch. Array A and B must have the same length.');\n        }\n        for (var i = 0; i < A.length; i++) {\n          if (A[i].length !== B[i].length) {\n            throw new SyntaxError('Dimension mismatch. Array A and B must have the same number of elements.');\n          }\n          correlations.push(correlation(A[i], B[i]));\n        }\n        return correlations;\n      } else {\n        if (A.length !== B.length) {\n          throw new SyntaxError('Dimension mismatch. Array A and B must have the same number of elements.');\n        }\n        return correlation(A, B);\n      }\n    }\n    function correlation(A, B) {\n      var n = A.length;\n      var sumX = sum(A);\n      var sumY = sum(B);\n      var sumXY = A.reduce((acc, x, index) => add(acc, multiply(x, B[index])), 0);\n      var sumXSquare = sum(A.map(x => pow(x, 2)));\n      var sumYSquare = sum(B.map(y => pow(y, 2)));\n      var numerator = subtract(multiply(n, sumXY), multiply(sumX, sumY));\n      var denominator = sqrt(multiply(subtract(multiply(n, sumXSquare), pow(sumX, 2)), subtract(multiply(n, sumYSquare), pow(sumY, 2))));\n      return divide(numerator, denominator);\n    }\n  });\n});","lineCount":95,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"createCorr"],[10,23,4,0],[11,4,4,0],[12,2,4,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,4,"name"],[14,10,2,8],[14,13,2,11],[14,19,2,17],[15,2,3,0],[15,6,3,4,"dependencies"],[15,18,3,16],[15,21,3,19],[15,22,3,20],[15,29,3,27],[15,31,3,29],[15,39,3,37],[15,41,3,39],[15,47,3,45],[15,49,3,47],[15,55,3,53],[15,57,3,55],[15,62,3,60],[15,64,3,62],[15,69,3,67],[15,71,3,69],[15,81,3,79],[15,83,3,81],[15,93,3,91],[15,95,3,93],[15,100,3,98],[15,102,3,100],[15,110,3,108],[15,111,3,109],[16,2,4,7],[16,6,4,11,"createCorr"],[16,16,4,21],[16,19,4,24],[16,34,4,39],[16,38,4,39,"factory"],[16,53,4,46],[16,54,4,46,"factory"],[16,61,4,46],[16,63,4,47,"name"],[16,67,4,51],[16,69,4,53,"dependencies"],[16,81,4,65],[16,83,4,67,"_ref"],[16,87,4,71],[16,91,4,75],[17,4,5,2],[17,8,6,4,"typed"],[17,13,6,9],[17,16,15,6,"_ref"],[17,20,15,10],[17,21,6,4,"typed"],[17,26,6,9],[18,6,7,4,"matrix"],[18,12,7,10],[18,15,15,6,"_ref"],[18,19,15,10],[18,20,7,4,"matrix"],[18,26,7,10],[19,6,8,4,"sqrt"],[19,10,8,8],[19,13,15,6,"_ref"],[19,17,15,10],[19,18,8,4,"sqrt"],[19,22,8,8],[20,6,9,4,"sum"],[20,9,9,7],[20,12,15,6,"_ref"],[20,16,15,10],[20,17,9,4,"sum"],[20,20,9,7],[21,6,10,4,"add"],[21,9,10,7],[21,12,15,6,"_ref"],[21,16,15,10],[21,17,10,4,"add"],[21,20,10,7],[22,6,11,4,"subtract"],[22,14,11,12],[22,17,15,6,"_ref"],[22,21,15,10],[22,22,11,4,"subtract"],[22,30,11,12],[23,6,12,4,"multiply"],[23,14,12,12],[23,17,15,6,"_ref"],[23,21,15,10],[23,22,12,4,"multiply"],[23,30,12,12],[24,6,13,4,"pow"],[24,9,13,7],[24,12,15,6,"_ref"],[24,16,15,10],[24,17,13,4,"pow"],[24,20,13,7],[25,6,14,4,"divide"],[25,12,14,10],[25,15,15,6,"_ref"],[25,19,15,10],[25,20,14,4,"divide"],[25,26,14,10],[26,4,16,2],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,0,35,0],[46,0,36,0],[47,4,37,2],[47,11,37,9,"typed"],[47,16,37,14],[47,17,37,15,"name"],[47,21,37,19],[47,23,37,21],[48,6,38,4],[48,20,38,18],[48,22,38,20],[48,31,38,29,"Array_Array"],[48,42,38,40,"Array_Array"],[48,43,38,41,"A"],[48,44,38,42],[48,46,38,44,"B"],[48,47,38,45],[48,49,38,47],[49,8,39,6],[49,15,39,13,"_corr"],[49,20,39,18],[49,21,39,19,"A"],[49,22,39,20],[49,24,39,22,"B"],[49,25,39,23],[49,26,39,24],[50,6,40,4],[50,7,40,5],[51,6,41,4],[51,22,41,20],[51,24,41,22],[51,33,41,31,"Matrix_Matrix"],[51,46,41,44,"Matrix_Matrix"],[51,47,41,45,"A"],[51,48,41,46],[51,50,41,48,"B"],[51,51,41,49],[51,53,41,51],[52,8,42,6],[52,12,42,10,"res"],[52,15,42,13],[52,18,42,16,"_corr"],[52,23,42,21],[52,24,42,22,"A"],[52,25,42,23],[52,26,42,24,"toArray"],[52,33,42,31],[52,34,42,32],[52,35,42,33],[52,37,42,35,"B"],[52,38,42,36],[52,39,42,37,"toArray"],[52,46,42,44],[52,47,42,45],[52,48,42,46],[52,49,42,47],[53,8,43,6],[53,15,43,13,"Array"],[53,20,43,18],[53,21,43,19,"isArray"],[53,28,43,26],[53,29,43,27,"res"],[53,32,43,30],[53,33,43,31],[53,36,43,34,"matrix"],[53,42,43,40],[53,43,43,41,"res"],[53,46,43,44],[53,47,43,45],[53,50,43,48,"res"],[53,53,43,51],[54,6,44,4],[55,4,45,2],[55,5,45,3],[55,6,45,4],[56,4,46,2],[57,0,47,0],[58,0,48,0],[59,0,49,0],[60,0,50,0],[61,0,51,0],[62,0,52,0],[63,4,53,2],[63,13,53,11,"_corr"],[63,18,53,16,"_corr"],[63,19,53,17,"A"],[63,20,53,18],[63,22,53,20,"B"],[63,23,53,21],[63,25,53,23],[64,6,54,4],[64,10,54,8,"correlations"],[64,22,54,20],[64,25,54,23],[64,27,54,25],[65,6,55,4],[65,10,55,8,"Array"],[65,15,55,13],[65,16,55,14,"isArray"],[65,23,55,21],[65,24,55,22,"A"],[65,25,55,23],[65,26,55,24],[65,27,55,25],[65,28,55,26],[65,29,55,27],[65,33,55,31,"Array"],[65,38,55,36],[65,39,55,37,"isArray"],[65,46,55,44],[65,47,55,45,"B"],[65,48,55,46],[65,49,55,47],[65,50,55,48],[65,51,55,49],[65,52,55,50],[65,54,55,52],[66,8,56,6],[66,12,56,10,"A"],[66,13,56,11],[66,14,56,12,"length"],[66,20,56,18],[66,25,56,23,"B"],[66,26,56,24],[66,27,56,25,"length"],[66,33,56,31],[66,35,56,33],[67,10,57,8],[67,16,57,14],[67,20,57,18,"SyntaxError"],[67,31,57,29],[67,32,57,30],[67,94,57,92],[67,95,57,93],[68,8,58,6],[69,8,59,6],[69,13,59,11],[69,17,59,15,"i"],[69,18,59,16],[69,21,59,19],[69,22,59,20],[69,24,59,22,"i"],[69,25,59,23],[69,28,59,26,"A"],[69,29,59,27],[69,30,59,28,"length"],[69,36,59,34],[69,38,59,36,"i"],[69,39,59,37],[69,41,59,39],[69,43,59,41],[70,10,60,8],[70,14,60,12,"A"],[70,15,60,13],[70,16,60,14,"i"],[70,17,60,15],[70,18,60,16],[70,19,60,17,"length"],[70,25,60,23],[70,30,60,28,"B"],[70,31,60,29],[70,32,60,30,"i"],[70,33,60,31],[70,34,60,32],[70,35,60,33,"length"],[70,41,60,39],[70,43,60,41],[71,12,61,10],[71,18,61,16],[71,22,61,20,"SyntaxError"],[71,33,61,31],[71,34,61,32],[71,108,61,106],[71,109,61,107],[72,10,62,8],[73,10,63,8,"correlations"],[73,22,63,20],[73,23,63,21,"push"],[73,27,63,25],[73,28,63,26,"correlation"],[73,39,63,37],[73,40,63,38,"A"],[73,41,63,39],[73,42,63,40,"i"],[73,43,63,41],[73,44,63,42],[73,46,63,44,"B"],[73,47,63,45],[73,48,63,46,"i"],[73,49,63,47],[73,50,63,48],[73,51,63,49],[73,52,63,50],[74,8,64,6],[75,8,65,6],[75,15,65,13,"correlations"],[75,27,65,25],[76,6,66,4],[76,7,66,5],[76,13,66,11],[77,8,67,6],[77,12,67,10,"A"],[77,13,67,11],[77,14,67,12,"length"],[77,20,67,18],[77,25,67,23,"B"],[77,26,67,24],[77,27,67,25,"length"],[77,33,67,31],[77,35,67,33],[78,10,68,8],[78,16,68,14],[78,20,68,18,"SyntaxError"],[78,31,68,29],[78,32,68,30],[78,106,68,104],[78,107,68,105],[79,8,69,6],[80,8,70,6],[80,15,70,13,"correlation"],[80,26,70,24],[80,27,70,25,"A"],[80,28,70,26],[80,30,70,28,"B"],[80,31,70,29],[80,32,70,30],[81,6,71,4],[82,4,72,2],[83,4,73,2],[83,13,73,11,"correlation"],[83,24,73,22,"correlation"],[83,25,73,23,"A"],[83,26,73,24],[83,28,73,26,"B"],[83,29,73,27],[83,31,73,29],[84,6,74,4],[84,10,74,8,"n"],[84,11,74,9],[84,14,74,12,"A"],[84,15,74,13],[84,16,74,14,"length"],[84,22,74,20],[85,6,75,4],[85,10,75,8,"sumX"],[85,14,75,12],[85,17,75,15,"sum"],[85,20,75,18],[85,21,75,19,"A"],[85,22,75,20],[85,23,75,21],[86,6,76,4],[86,10,76,8,"sumY"],[86,14,76,12],[86,17,76,15,"sum"],[86,20,76,18],[86,21,76,19,"B"],[86,22,76,20],[86,23,76,21],[87,6,77,4],[87,10,77,8,"sumXY"],[87,15,77,13],[87,18,77,16,"A"],[87,19,77,17],[87,20,77,18,"reduce"],[87,26,77,24],[87,27,77,25],[87,28,77,26,"acc"],[87,31,77,29],[87,33,77,31,"x"],[87,34,77,32],[87,36,77,34,"index"],[87,41,77,39],[87,46,77,44,"add"],[87,49,77,47],[87,50,77,48,"acc"],[87,53,77,51],[87,55,77,53,"multiply"],[87,63,77,61],[87,64,77,62,"x"],[87,65,77,63],[87,67,77,65,"B"],[87,68,77,66],[87,69,77,67,"index"],[87,74,77,72],[87,75,77,73],[87,76,77,74],[87,77,77,75],[87,79,77,77],[87,80,77,78],[87,81,77,79],[88,6,78,4],[88,10,78,8,"sumXSquare"],[88,20,78,18],[88,23,78,21,"sum"],[88,26,78,24],[88,27,78,25,"A"],[88,28,78,26],[88,29,78,27,"map"],[88,32,78,30],[88,33,78,31,"x"],[88,34,78,32],[88,38,78,36,"pow"],[88,41,78,39],[88,42,78,40,"x"],[88,43,78,41],[88,45,78,43],[88,46,78,44],[88,47,78,45],[88,48,78,46],[88,49,78,47],[89,6,79,4],[89,10,79,8,"sumYSquare"],[89,20,79,18],[89,23,79,21,"sum"],[89,26,79,24],[89,27,79,25,"B"],[89,28,79,26],[89,29,79,27,"map"],[89,32,79,30],[89,33,79,31,"y"],[89,34,79,32],[89,38,79,36,"pow"],[89,41,79,39],[89,42,79,40,"y"],[89,43,79,41],[89,45,79,43],[89,46,79,44],[89,47,79,45],[89,48,79,46],[89,49,79,47],[90,6,80,4],[90,10,80,8,"numerator"],[90,19,80,17],[90,22,80,20,"subtract"],[90,30,80,28],[90,31,80,29,"multiply"],[90,39,80,37],[90,40,80,38,"n"],[90,41,80,39],[90,43,80,41,"sumXY"],[90,48,80,46],[90,49,80,47],[90,51,80,49,"multiply"],[90,59,80,57],[90,60,80,58,"sumX"],[90,64,80,62],[90,66,80,64,"sumY"],[90,70,80,68],[90,71,80,69],[90,72,80,70],[91,6,81,4],[91,10,81,8,"denominator"],[91,21,81,19],[91,24,81,22,"sqrt"],[91,28,81,26],[91,29,81,27,"multiply"],[91,37,81,35],[91,38,81,36,"subtract"],[91,46,81,44],[91,47,81,45,"multiply"],[91,55,81,53],[91,56,81,54,"n"],[91,57,81,55],[91,59,81,57,"sumXSquare"],[91,69,81,67],[91,70,81,68],[91,72,81,70,"pow"],[91,75,81,73],[91,76,81,74,"sumX"],[91,80,81,78],[91,82,81,80],[91,83,81,81],[91,84,81,82],[91,85,81,83],[91,87,81,85,"subtract"],[91,95,81,93],[91,96,81,94,"multiply"],[91,104,81,102],[91,105,81,103,"n"],[91,106,81,104],[91,108,81,106,"sumYSquare"],[91,118,81,116],[91,119,81,117],[91,121,81,119,"pow"],[91,124,81,122],[91,125,81,123,"sumY"],[91,129,81,127],[91,131,81,129],[91,132,81,130],[91,133,81,131],[91,134,81,132],[91,135,81,133],[91,136,81,134],[92,6,82,4],[92,13,82,11,"divide"],[92,19,82,17],[92,20,82,18,"numerator"],[92,29,82,27],[92,31,82,29,"denominator"],[92,42,82,40],[92,43,82,41],[93,4,83,2],[94,2,84,0],[94,3,84,1],[94,4,84,2],[95,0,84,3],[95,3]],"functionMap":{"names":["<global>","factory$argument_2","Array_Array","Matrix_Matrix","_corr","correlation","A.reduce$argument_0","A.map$argument_0","B.map$argument_0"],"mappings":"AAA;mECG;oBCkC;KDE;sBEC;KFG;EGS;GHmB;EIC;yBCI,kDD;+BEC,cF;+BGC,cH;GJI;CDC"},"hasCjsExports":false},"type":"js/module"}]}