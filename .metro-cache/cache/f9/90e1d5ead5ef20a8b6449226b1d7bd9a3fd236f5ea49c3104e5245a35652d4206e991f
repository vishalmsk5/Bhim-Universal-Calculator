{"dependencies":[{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":49,"index":119}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createSetIntersect\", {\n    enumerable: true,\n    get: function () {\n      return createSetIntersect;\n    }\n  });\n  var _utilsArrayJs = require(_dependencyMap[0], \"../../utils/array.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../utils/factory.js\");\n  var name = 'setIntersect';\n  var dependencies = ['typed', 'size', 'subset', 'compareNatural', 'Index', 'DenseMatrix'];\n  var createSetIntersect = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      size = _ref.size,\n      subset = _ref.subset,\n      compareNatural = _ref.compareNatural,\n      Index = _ref.Index,\n      DenseMatrix = _ref.DenseMatrix;\n    /**\n     * Create the intersection of two (multi)sets.\n     * Multi-dimension arrays will be converted to single-dimension arrays before the operation.\n     *\n     * Syntax:\n     *\n     *    math.setIntersect(set1, set2)\n     *\n     * Examples:\n     *\n     *    math.setIntersect([1, 2, 3, 4], [3, 4, 5, 6])            // returns [3, 4]\n     *    math.setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])    // returns [3, 4]\n     *\n     * See also:\n     *\n     *    setUnion, setDifference\n     *\n     * @param {Array | Matrix}    a1  A (multi)set\n     * @param {Array | Matrix}    a2  A (multi)set\n     * @return {Array | Matrix}    The intersection of two (multi)sets\n     */\n    return typed(name, {\n      'Array | Matrix, Array | Matrix': function Array__Matrix_Array__Matrix(a1, a2) {\n        var result;\n        if (subset(size(a1), new Index(0)) === 0 || subset(size(a2), new Index(0)) === 0) {\n          // of any of them is empty, return empty\n          result = [];\n        } else {\n          var b1 = (0, _utilsArrayJs.identify)((0, _utilsArrayJs.flatten)(Array.isArray(a1) ? a1 : a1.toArray()).sort(compareNatural));\n          var b2 = (0, _utilsArrayJs.identify)((0, _utilsArrayJs.flatten)(Array.isArray(a2) ? a2 : a2.toArray()).sort(compareNatural));\n          result = [];\n          for (var i = 0; i < b1.length; i++) {\n            for (var j = 0; j < b2.length; j++) {\n              if (compareNatural(b1[i].value, b2[j].value) === 0 && b1[i].identifier === b2[j].identifier) {\n                // the identifier is always a decimal int\n                result.push(b1[i]);\n                break;\n              }\n            }\n          }\n        }\n        // return an array, if both inputs were arrays\n        if (Array.isArray(a1) && Array.isArray(a2)) {\n          return (0, _utilsArrayJs.generalize)(result);\n        }\n        // return a matrix otherwise\n        return new DenseMatrix((0, _utilsArrayJs.generalize)(result));\n      }\n    });\n  });\n});","lineCount":74,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"createSetIntersect"],[10,31,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_utilsArrayJs"],[13,19,1,0],[13,22,1,0,"require"],[13,29,1,0],[13,30,1,0,"_dependencyMap"],[13,44,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,4,"name"],[15,10,3,8],[15,13,3,11],[15,27,3,25],[16,2,4,0],[16,6,4,4,"dependencies"],[16,18,4,16],[16,21,4,19],[16,22,4,20],[16,29,4,27],[16,31,4,29],[16,37,4,35],[16,39,4,37],[16,47,4,45],[16,49,4,47],[16,65,4,63],[16,67,4,65],[16,74,4,72],[16,76,4,74],[16,89,4,87],[16,90,4,88],[17,2,5,7],[17,6,5,11,"createSetIntersect"],[17,24,5,29],[17,27,5,32],[17,42,5,47],[17,46,5,47,"factory"],[17,61,5,54],[17,62,5,54,"factory"],[17,69,5,54],[17,71,5,55,"name"],[17,75,5,59],[17,77,5,61,"dependencies"],[17,89,5,73],[17,91,5,75,"_ref"],[17,95,5,79],[17,99,5,83],[18,4,6,2],[18,8,7,4,"typed"],[18,13,7,9],[18,16,13,6,"_ref"],[18,20,13,10],[18,21,7,4,"typed"],[18,26,7,9],[19,6,8,4,"size"],[19,10,8,8],[19,13,13,6,"_ref"],[19,17,13,10],[19,18,8,4,"size"],[19,22,8,8],[20,6,9,4,"subset"],[20,12,9,10],[20,15,13,6,"_ref"],[20,19,13,10],[20,20,9,4,"subset"],[20,26,9,10],[21,6,10,4,"compareNatural"],[21,20,10,18],[21,23,13,6,"_ref"],[21,27,13,10],[21,28,10,4,"compareNatural"],[21,42,10,18],[22,6,11,4,"Index"],[22,11,11,9],[22,14,13,6,"_ref"],[22,18,13,10],[22,19,11,4,"Index"],[22,24,11,9],[23,6,12,4,"DenseMatrix"],[23,17,12,15],[23,20,13,6,"_ref"],[23,24,13,10],[23,25,12,4,"DenseMatrix"],[23,36,12,15],[24,4,14,2],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,4,35,2],[45,11,35,9,"typed"],[45,16,35,14],[45,17,35,15,"name"],[45,21,35,19],[45,23,35,21],[46,6,36,4],[46,38,36,36],[46,40,36,38],[46,49,36,47,"Array__Matrix_Array__Matrix"],[46,76,36,74,"Array__Matrix_Array__Matrix"],[46,77,36,75,"a1"],[46,79,36,77],[46,81,36,79,"a2"],[46,83,36,81],[46,85,36,83],[47,8,37,6],[47,12,37,10,"result"],[47,18,37,16],[48,8,38,6],[48,12,38,10,"subset"],[48,18,38,16],[48,19,38,17,"size"],[48,23,38,21],[48,24,38,22,"a1"],[48,26,38,24],[48,27,38,25],[48,29,38,27],[48,33,38,31,"Index"],[48,38,38,36],[48,39,38,37],[48,40,38,38],[48,41,38,39],[48,42,38,40],[48,47,38,45],[48,48,38,46],[48,52,38,50,"subset"],[48,58,38,56],[48,59,38,57,"size"],[48,63,38,61],[48,64,38,62,"a2"],[48,66,38,64],[48,67,38,65],[48,69,38,67],[48,73,38,71,"Index"],[48,78,38,76],[48,79,38,77],[48,80,38,78],[48,81,38,79],[48,82,38,80],[48,87,38,85],[48,88,38,86],[48,90,38,88],[49,10,39,8],[50,10,40,8,"result"],[50,16,40,14],[50,19,40,17],[50,21,40,19],[51,8,41,6],[51,9,41,7],[51,15,41,13],[52,10,42,8],[52,14,42,12,"b1"],[52,16,42,14],[52,19,42,17],[52,23,42,17,"identify"],[52,36,42,25],[52,37,42,25,"identify"],[52,45,42,25],[52,47,42,26],[52,51,42,26,"flatten"],[52,64,42,33],[52,65,42,33,"flatten"],[52,72,42,33],[52,74,42,34,"Array"],[52,79,42,39],[52,80,42,40,"isArray"],[52,87,42,47],[52,88,42,48,"a1"],[52,90,42,50],[52,91,42,51],[52,94,42,54,"a1"],[52,96,42,56],[52,99,42,59,"a1"],[52,101,42,61],[52,102,42,62,"toArray"],[52,109,42,69],[52,110,42,70],[52,111,42,71],[52,112,42,72],[52,113,42,73,"sort"],[52,117,42,77],[52,118,42,78,"compareNatural"],[52,132,42,92],[52,133,42,93],[52,134,42,94],[53,10,43,8],[53,14,43,12,"b2"],[53,16,43,14],[53,19,43,17],[53,23,43,17,"identify"],[53,36,43,25],[53,37,43,25,"identify"],[53,45,43,25],[53,47,43,26],[53,51,43,26,"flatten"],[53,64,43,33],[53,65,43,33,"flatten"],[53,72,43,33],[53,74,43,34,"Array"],[53,79,43,39],[53,80,43,40,"isArray"],[53,87,43,47],[53,88,43,48,"a2"],[53,90,43,50],[53,91,43,51],[53,94,43,54,"a2"],[53,96,43,56],[53,99,43,59,"a2"],[53,101,43,61],[53,102,43,62,"toArray"],[53,109,43,69],[53,110,43,70],[53,111,43,71],[53,112,43,72],[53,113,43,73,"sort"],[53,117,43,77],[53,118,43,78,"compareNatural"],[53,132,43,92],[53,133,43,93],[53,134,43,94],[54,10,44,8,"result"],[54,16,44,14],[54,19,44,17],[54,21,44,19],[55,10,45,8],[55,15,45,13],[55,19,45,17,"i"],[55,20,45,18],[55,23,45,21],[55,24,45,22],[55,26,45,24,"i"],[55,27,45,25],[55,30,45,28,"b1"],[55,32,45,30],[55,33,45,31,"length"],[55,39,45,37],[55,41,45,39,"i"],[55,42,45,40],[55,44,45,42],[55,46,45,44],[56,12,46,10],[56,17,46,15],[56,21,46,19,"j"],[56,22,46,20],[56,25,46,23],[56,26,46,24],[56,28,46,26,"j"],[56,29,46,27],[56,32,46,30,"b2"],[56,34,46,32],[56,35,46,33,"length"],[56,41,46,39],[56,43,46,41,"j"],[56,44,46,42],[56,46,46,44],[56,48,46,46],[57,14,47,12],[57,18,47,16,"compareNatural"],[57,32,47,30],[57,33,47,31,"b1"],[57,35,47,33],[57,36,47,34,"i"],[57,37,47,35],[57,38,47,36],[57,39,47,37,"value"],[57,44,47,42],[57,46,47,44,"b2"],[57,48,47,46],[57,49,47,47,"j"],[57,50,47,48],[57,51,47,49],[57,52,47,50,"value"],[57,57,47,55],[57,58,47,56],[57,63,47,61],[57,64,47,62],[57,68,47,66,"b1"],[57,70,47,68],[57,71,47,69,"i"],[57,72,47,70],[57,73,47,71],[57,74,47,72,"identifier"],[57,84,47,82],[57,89,47,87,"b2"],[57,91,47,89],[57,92,47,90,"j"],[57,93,47,91],[57,94,47,92],[57,95,47,93,"identifier"],[57,105,47,103],[57,107,47,105],[58,16,48,14],[59,16,49,14,"result"],[59,22,49,20],[59,23,49,21,"push"],[59,27,49,25],[59,28,49,26,"b1"],[59,30,49,28],[59,31,49,29,"i"],[59,32,49,30],[59,33,49,31],[59,34,49,32],[60,16,50,14],[61,14,51,12],[62,12,52,10],[63,10,53,8],[64,8,54,6],[65,8,55,6],[66,8,56,6],[66,12,56,10,"Array"],[66,17,56,15],[66,18,56,16,"isArray"],[66,25,56,23],[66,26,56,24,"a1"],[66,28,56,26],[66,29,56,27],[66,33,56,31,"Array"],[66,38,56,36],[66,39,56,37,"isArray"],[66,46,56,44],[66,47,56,45,"a2"],[66,49,56,47],[66,50,56,48],[66,52,56,50],[67,10,57,8],[67,17,57,15],[67,21,57,15,"generalize"],[67,34,57,25],[67,35,57,25,"generalize"],[67,45,57,25],[67,47,57,26,"result"],[67,53,57,32],[67,54,57,33],[68,8,58,6],[69,8,59,6],[70,8,60,6],[70,15,60,13],[70,19,60,17,"DenseMatrix"],[70,30,60,28],[70,31,60,29],[70,35,60,29,"generalize"],[70,48,60,39],[70,49,60,39,"generalize"],[70,59,60,39],[70,61,60,40,"result"],[70,67,60,46],[70,68,60,47],[70,69,60,48],[71,6,61,4],[72,4,62,2],[72,5,62,3],[72,6,62,4],[73,2,63,0],[73,3,63,1],[73,4,63,2],[74,0,63,3],[74,3]],"functionMap":{"names":["<global>","factory$argument_2","Array__Matrix_Array__Matrix"],"mappings":"AAA;2ECI;sCC+B;KDyB;CDE"},"hasCjsExports":false},"type":"js/module"}]}