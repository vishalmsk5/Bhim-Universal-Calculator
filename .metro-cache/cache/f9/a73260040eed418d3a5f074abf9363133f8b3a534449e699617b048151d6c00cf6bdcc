{"dependencies":[{"name":"../../utils/collection.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":56,"index":56}}],"key":"fi1hvvRFVO+J7CgKvCdHAHsYQlM=","exportNames":["*"],"imports":1}},{"name":"../../utils/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":57},"end":{"line":2,"column":48,"index":105}}],"key":"DL0lZsaza5vr7zl/bAzDYPBSOyA=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":106},"end":{"line":3,"column":49,"index":155}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"./utils/improveErrorMessage.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":156},"end":{"line":4,"column":69,"index":225}}],"key":"OctJ2iR6C74+6ORuXPT3M8Q90Dc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createVariance\", {\n    enumerable: true,\n    get: function () {\n      return createVariance;\n    }\n  });\n  var _utilsCollectionJs = require(_dependencyMap[0], \"../../utils/collection.js\");\n  var _utilsIsJs = require(_dependencyMap[1], \"../../utils/is.js\");\n  var _utilsFactoryJs = require(_dependencyMap[2], \"../../utils/factory.js\");\n  var _utilsImproveErrorMessageJs = require(_dependencyMap[3], \"./utils/improveErrorMessage.js\");\n  var DEFAULT_NORMALIZATION = 'unbiased';\n  var name = 'variance';\n  var dependencies = ['typed', 'add', 'subtract', 'multiply', 'divide', 'mapSlices', 'isNaN'];\n  var createVariance = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      add = _ref.add,\n      subtract = _ref.subtract,\n      multiply = _ref.multiply,\n      divide = _ref.divide,\n      mapSlices = _ref.mapSlices,\n      mathIsNaN = _ref.isNaN;\n    /**\n     * Compute the variance of a matrix or a  list with values.\n     * In case of a multidimensional array or matrix, the variance over all\n     * elements will be calculated.\n     *\n     * Additionally, it is possible to compute the variance along the rows\n     * or columns of a matrix by specifying the dimension as the second argument.\n     *\n     * Optionally, the type of normalization can be specified as the final\n     * parameter. The parameter `normalization` can be one of the following values:\n     *\n     * - 'unbiased' (default) The sum of squared errors is divided by (n - 1)\n     * - 'uncorrected'        The sum of squared errors is divided by n\n     * - 'biased'             The sum of squared errors is divided by (n + 1)\n     *\n     *\n     * Note that older browser may not like the variable name `var`. In that\n     * case, the function can be called as `math['var'](...)` instead of\n     * `math.var(...)`.\n     *\n     * Syntax:\n     *\n     *     math.variance(a, b, c, ...)\n     *     math.variance(A)\n     *     math.variance(A, normalization)\n     *     math.variance(A, dimension)\n     *     math.variance(A, dimension, normalization)\n     *\n     * Examples:\n     *\n     *     math.variance(2, 4, 6)                     // returns 4\n     *     math.variance([2, 4, 6, 8])                // returns 6.666666666666667\n     *     math.variance([2, 4, 6, 8], 'uncorrected') // returns 5\n     *     math.variance([2, 4, 6, 8], 'biased')      // returns 4\n     *\n     *     math.variance([[1, 2, 3], [4, 5, 6]])      // returns 3.5\n     *     math.variance([[1, 2, 3], [4, 6, 8]], 0)   // returns [4.5, 8, 12.5]\n     *     math.variance([[1, 2, 3], [4, 6, 8]], 1)   // returns [1, 4]\n     *     math.variance([[1, 2, 3], [4, 6, 8]], 1, 'biased') // returns [0.5, 2]\n     *\n     * See also:\n     *\n     *    mean, median, max, min, prod, std, sum\n     *\n     * @param {Array | Matrix} array\n     *                        A single matrix or or multiple scalar values\n     * @param {string} [normalization='unbiased']\n     *                        Determines how to normalize the variance.\n     *                        Choose 'unbiased' (default), 'uncorrected', or 'biased'.\n     * @param dimension {number | BigNumber}\n     *                        Determines the axis to compute the variance for a matrix\n     * @return {*} The variance\n     */\n    return typed(name, {\n      // variance([a, b, c, d, ...])\n      'Array | Matrix': function Array__Matrix(array) {\n        return _var(array, DEFAULT_NORMALIZATION);\n      },\n      // variance([a, b, c, d, ...], normalization)\n      'Array | Matrix, string': _var,\n      // variance([a, b, c, c, ...], dim)\n      'Array | Matrix, number | BigNumber': function Array__Matrix_number__BigNumber(array, dim) {\n        return _varDim(array, dim, DEFAULT_NORMALIZATION);\n      },\n      // variance([a, b, c, c, ...], dim, normalization)\n      'Array | Matrix, number | BigNumber, string': _varDim,\n      // variance(a, b, c, d, ...)\n      '...': function _(args) {\n        return _var(args, DEFAULT_NORMALIZATION);\n      }\n    });\n\n    /**\n     * Recursively calculate the variance of an n-dimensional array\n     * @param {Array} array\n     * @param {string} normalization\n     *                        Determines how to normalize the variance:\n     *                        - 'unbiased'    The sum of squared errors is divided by (n - 1)\n     *                        - 'uncorrected' The sum of squared errors is divided by n\n     *                        - 'biased'      The sum of squared errors is divided by (n + 1)\n     * @return {number | BigNumber} variance\n     * @private\n     */\n    function _var(array, normalization) {\n      var sum;\n      var num = 0;\n      if (array.length === 0) {\n        throw new SyntaxError('Function variance requires one or more parameters (0 provided)');\n      }\n\n      // calculate the mean and number of elements\n      (0, _utilsCollectionJs.deepForEach)(array, function (value) {\n        try {\n          sum = sum === undefined ? value : add(sum, value);\n          num++;\n        } catch (err) {\n          throw (0, _utilsImproveErrorMessageJs.improveErrorMessage)(err, 'variance', value);\n        }\n      });\n      if (num === 0) throw new Error('Cannot calculate variance of an empty array');\n      var mean = divide(sum, num);\n\n      // calculate the variance\n      sum = undefined;\n      (0, _utilsCollectionJs.deepForEach)(array, function (value) {\n        var diff = subtract(value, mean);\n        sum = sum === undefined ? multiply(diff, diff) : add(sum, multiply(diff, diff));\n      });\n      if (mathIsNaN(sum)) {\n        return sum;\n      }\n      switch (normalization) {\n        case 'uncorrected':\n          return divide(sum, num);\n        case 'biased':\n          return divide(sum, num + 1);\n        case 'unbiased':\n          {\n            var zero = (0, _utilsIsJs.isBigNumber)(sum) ? sum.mul(0) : 0;\n            return num === 1 ? zero : divide(sum, num - 1);\n          }\n        default:\n          throw new Error('Unknown normalization \"' + normalization + '\". ' + 'Choose \"unbiased\" (default), \"uncorrected\", or \"biased\".');\n      }\n    }\n    function _varDim(array, dim, normalization) {\n      try {\n        if (array.length === 0) {\n          throw new SyntaxError('Function variance requires one or more parameters (0 provided)');\n        }\n        return mapSlices(array, dim, x => _var(x, normalization));\n      } catch (err) {\n        throw (0, _utilsImproveErrorMessageJs.improveErrorMessage)(err, 'variance');\n      }\n    }\n  });\n});","lineCount":164,"map":[[7,2,8,0,"Object"],[7,8,8,0],[7,9,8,0,"defineProperty"],[7,23,8,0],[7,24,8,0,"exports"],[7,31,8,0],[8,4,8,0,"enumerable"],[8,14,8,0],[9,4,8,0,"get"],[9,7,8,0],[9,18,8,0,"get"],[9,19,8,0],[10,6,8,0],[10,13,8,0,"createVariance"],[10,27,8,0],[11,4,8,0],[12,2,8,0],[13,2,1,0],[13,6,1,0,"_utilsCollectionJs"],[13,24,1,0],[13,27,1,0,"require"],[13,34,1,0],[13,35,1,0,"_dependencyMap"],[13,49,1,0],[14,2,2,0],[14,6,2,0,"_utilsIsJs"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,3,0],[15,6,3,0,"_utilsFactoryJs"],[15,21,3,0],[15,24,3,0,"require"],[15,31,3,0],[15,32,3,0,"_dependencyMap"],[15,46,3,0],[16,2,4,0],[16,6,4,0,"_utilsImproveErrorMessageJs"],[16,33,4,0],[16,36,4,0,"require"],[16,43,4,0],[16,44,4,0,"_dependencyMap"],[16,58,4,0],[17,2,5,0],[17,6,5,4,"DEFAULT_NORMALIZATION"],[17,27,5,25],[17,30,5,28],[17,40,5,38],[18,2,6,0],[18,6,6,4,"name"],[18,10,6,8],[18,13,6,11],[18,23,6,21],[19,2,7,0],[19,6,7,4,"dependencies"],[19,18,7,16],[19,21,7,19],[19,22,7,20],[19,29,7,27],[19,31,7,29],[19,36,7,34],[19,38,7,36],[19,48,7,46],[19,50,7,48],[19,60,7,58],[19,62,7,60],[19,70,7,68],[19,72,7,70],[19,83,7,81],[19,85,7,83],[19,92,7,90],[19,93,7,91],[20,2,8,7],[20,6,8,11,"createVariance"],[20,20,8,25],[20,23,8,28],[20,38,8,43],[20,42,8,43,"factory"],[20,57,8,50],[20,58,8,50,"factory"],[20,65,8,50],[20,67,8,51,"name"],[20,71,8,55],[20,73,8,57,"dependencies"],[20,85,8,69],[20,87,8,71,"_ref"],[20,91,8,75],[20,95,8,79],[21,4,9,2],[21,8,10,4,"typed"],[21,13,10,9],[21,16,17,6,"_ref"],[21,20,17,10],[21,21,10,4,"typed"],[21,26,10,9],[22,6,11,4,"add"],[22,9,11,7],[22,12,17,6,"_ref"],[22,16,17,10],[22,17,11,4,"add"],[22,20,11,7],[23,6,12,4,"subtract"],[23,14,12,12],[23,17,17,6,"_ref"],[23,21,17,10],[23,22,12,4,"subtract"],[23,30,12,12],[24,6,13,4,"multiply"],[24,14,13,12],[24,17,17,6,"_ref"],[24,21,17,10],[24,22,13,4,"multiply"],[24,30,13,12],[25,6,14,4,"divide"],[25,12,14,10],[25,15,17,6,"_ref"],[25,19,17,10],[25,20,14,4,"divide"],[25,26,14,10],[26,6,15,4,"mapSlices"],[26,15,15,13],[26,18,17,6,"_ref"],[26,22,17,10],[26,23,15,4,"mapSlices"],[26,32,15,13],[27,6,16,11,"mathIsNaN"],[27,15,16,20],[27,18,17,6,"_ref"],[27,22,17,10],[27,23,16,4,"isNaN"],[27,28,16,9],[28,4,18,2],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,0,35,0],[46,0,36,0],[47,0,37,0],[48,0,38,0],[49,0,39,0],[50,0,40,0],[51,0,41,0],[52,0,42,0],[53,0,43,0],[54,0,44,0],[55,0,45,0],[56,0,46,0],[57,0,47,0],[58,0,48,0],[59,0,49,0],[60,0,50,0],[61,0,51,0],[62,0,52,0],[63,0,53,0],[64,0,54,0],[65,0,55,0],[66,0,56,0],[67,0,57,0],[68,0,58,0],[69,0,59,0],[70,0,60,0],[71,0,61,0],[72,0,62,0],[73,0,63,0],[74,0,64,0],[75,0,65,0],[76,0,66,0],[77,0,67,0],[78,0,68,0],[79,0,69,0],[80,0,70,0],[81,4,71,2],[81,11,71,9,"typed"],[81,16,71,14],[81,17,71,15,"name"],[81,21,71,19],[81,23,71,21],[82,6,72,4],[83,6,73,4],[83,22,73,20],[83,24,73,22],[83,33,73,31,"Array__Matrix"],[83,46,73,44,"Array__Matrix"],[83,47,73,45,"array"],[83,52,73,50],[83,54,73,52],[84,8,74,6],[84,15,74,13,"_var"],[84,19,74,17],[84,20,74,18,"array"],[84,25,74,23],[84,27,74,25,"DEFAULT_NORMALIZATION"],[84,48,74,46],[84,49,74,47],[85,6,75,4],[85,7,75,5],[86,6,76,4],[87,6,77,4],[87,30,77,28],[87,32,77,30,"_var"],[87,36,77,34],[88,6,78,4],[89,6,79,4],[89,42,79,40],[89,44,79,42],[89,53,79,51,"Array__Matrix_number__BigNumber"],[89,84,79,82,"Array__Matrix_number__BigNumber"],[89,85,79,83,"array"],[89,90,79,88],[89,92,79,90,"dim"],[89,95,79,93],[89,97,79,95],[90,8,80,6],[90,15,80,13,"_varDim"],[90,22,80,20],[90,23,80,21,"array"],[90,28,80,26],[90,30,80,28,"dim"],[90,33,80,31],[90,35,80,33,"DEFAULT_NORMALIZATION"],[90,56,80,54],[90,57,80,55],[91,6,81,4],[91,7,81,5],[92,6,82,4],[93,6,83,4],[93,50,83,48],[93,52,83,50,"_varDim"],[93,59,83,57],[94,6,84,4],[95,6,85,4],[95,11,85,9],[95,13,85,11],[95,22,85,20,"_"],[95,23,85,21,"_"],[95,24,85,22,"args"],[95,28,85,26],[95,30,85,28],[96,8,86,6],[96,15,86,13,"_var"],[96,19,86,17],[96,20,86,18,"args"],[96,24,86,22],[96,26,86,24,"DEFAULT_NORMALIZATION"],[96,47,86,45],[96,48,86,46],[97,6,87,4],[98,4,88,2],[98,5,88,3],[98,6,88,4],[100,4,90,2],[101,0,91,0],[102,0,92,0],[103,0,93,0],[104,0,94,0],[105,0,95,0],[106,0,96,0],[107,0,97,0],[108,0,98,0],[109,0,99,0],[110,0,100,0],[111,4,101,2],[111,13,101,11,"_var"],[111,17,101,15,"_var"],[111,18,101,16,"array"],[111,23,101,21],[111,25,101,23,"normalization"],[111,38,101,36],[111,40,101,38],[112,6,102,4],[112,10,102,8,"sum"],[112,13,102,11],[113,6,103,4],[113,10,103,8,"num"],[113,13,103,11],[113,16,103,14],[113,17,103,15],[114,6,104,4],[114,10,104,8,"array"],[114,15,104,13],[114,16,104,14,"length"],[114,22,104,20],[114,27,104,25],[114,28,104,26],[114,30,104,28],[115,8,105,6],[115,14,105,12],[115,18,105,16,"SyntaxError"],[115,29,105,27],[115,30,105,28],[115,94,105,92],[115,95,105,93],[116,6,106,4],[118,6,108,4],[119,6,109,4],[119,10,109,4,"deepForEach"],[119,28,109,15],[119,29,109,15,"deepForEach"],[119,40,109,15],[119,42,109,16,"array"],[119,47,109,21],[119,49,109,23],[119,59,109,33,"value"],[119,64,109,38],[119,66,109,40],[120,8,110,6],[120,12,110,10],[121,10,111,8,"sum"],[121,13,111,11],[121,16,111,14,"sum"],[121,19,111,17],[121,24,111,22,"undefined"],[121,33,111,31],[121,36,111,34,"value"],[121,41,111,39],[121,44,111,42,"add"],[121,47,111,45],[121,48,111,46,"sum"],[121,51,111,49],[121,53,111,51,"value"],[121,58,111,56],[121,59,111,57],[122,10,112,8,"num"],[122,13,112,11],[122,15,112,13],[123,8,113,6],[123,9,113,7],[123,10,113,8],[123,17,113,15,"err"],[123,20,113,18],[123,22,113,20],[124,10,114,8],[124,16,114,14],[124,20,114,14,"improveErrorMessage"],[124,47,114,33],[124,48,114,33,"improveErrorMessage"],[124,67,114,33],[124,69,114,34,"err"],[124,72,114,37],[124,74,114,39],[124,84,114,49],[124,86,114,51,"value"],[124,91,114,56],[124,92,114,57],[125,8,115,6],[126,6,116,4],[126,7,116,5],[126,8,116,6],[127,6,117,4],[127,10,117,8,"num"],[127,13,117,11],[127,18,117,16],[127,19,117,17],[127,21,117,19],[127,27,117,25],[127,31,117,29,"Error"],[127,36,117,34],[127,37,117,35],[127,82,117,80],[127,83,117,81],[128,6,118,4],[128,10,118,8,"mean"],[128,14,118,12],[128,17,118,15,"divide"],[128,23,118,21],[128,24,118,22,"sum"],[128,27,118,25],[128,29,118,27,"num"],[128,32,118,30],[128,33,118,31],[130,6,120,4],[131,6,121,4,"sum"],[131,9,121,7],[131,12,121,10,"undefined"],[131,21,121,19],[132,6,122,4],[132,10,122,4,"deepForEach"],[132,28,122,15],[132,29,122,15,"deepForEach"],[132,40,122,15],[132,42,122,16,"array"],[132,47,122,21],[132,49,122,23],[132,59,122,33,"value"],[132,64,122,38],[132,66,122,40],[133,8,123,6],[133,12,123,10,"diff"],[133,16,123,14],[133,19,123,17,"subtract"],[133,27,123,25],[133,28,123,26,"value"],[133,33,123,31],[133,35,123,33,"mean"],[133,39,123,37],[133,40,123,38],[134,8,124,6,"sum"],[134,11,124,9],[134,14,124,12,"sum"],[134,17,124,15],[134,22,124,20,"undefined"],[134,31,124,29],[134,34,124,32,"multiply"],[134,42,124,40],[134,43,124,41,"diff"],[134,47,124,45],[134,49,124,47,"diff"],[134,53,124,51],[134,54,124,52],[134,57,124,55,"add"],[134,60,124,58],[134,61,124,59,"sum"],[134,64,124,62],[134,66,124,64,"multiply"],[134,74,124,72],[134,75,124,73,"diff"],[134,79,124,77],[134,81,124,79,"diff"],[134,85,124,83],[134,86,124,84],[134,87,124,85],[135,6,125,4],[135,7,125,5],[135,8,125,6],[136,6,126,4],[136,10,126,8,"mathIsNaN"],[136,19,126,17],[136,20,126,18,"sum"],[136,23,126,21],[136,24,126,22],[136,26,126,24],[137,8,127,6],[137,15,127,13,"sum"],[137,18,127,16],[138,6,128,4],[139,6,129,4],[139,14,129,12,"normalization"],[139,27,129,25],[140,8,130,6],[140,13,130,11],[140,26,130,24],[141,10,131,8],[141,17,131,15,"divide"],[141,23,131,21],[141,24,131,22,"sum"],[141,27,131,25],[141,29,131,27,"num"],[141,32,131,30],[141,33,131,31],[142,8,132,6],[142,13,132,11],[142,21,132,19],[143,10,133,8],[143,17,133,15,"divide"],[143,23,133,21],[143,24,133,22,"sum"],[143,27,133,25],[143,29,133,27,"num"],[143,32,133,30],[143,35,133,33],[143,36,133,34],[143,37,133,35],[144,8,134,6],[144,13,134,11],[144,23,134,21],[145,10,135,8],[146,12,136,10],[146,16,136,14,"zero"],[146,20,136,18],[146,23,136,21],[146,27,136,21,"isBigNumber"],[146,37,136,32],[146,38,136,32,"isBigNumber"],[146,49,136,32],[146,51,136,33,"sum"],[146,54,136,36],[146,55,136,37],[146,58,136,40,"sum"],[146,61,136,43],[146,62,136,44,"mul"],[146,65,136,47],[146,66,136,48],[146,67,136,49],[146,68,136,50],[146,71,136,53],[146,72,136,54],[147,12,137,10],[147,19,137,17,"num"],[147,22,137,20],[147,27,137,25],[147,28,137,26],[147,31,137,29,"zero"],[147,35,137,33],[147,38,137,36,"divide"],[147,44,137,42],[147,45,137,43,"sum"],[147,48,137,46],[147,50,137,48,"num"],[147,53,137,51],[147,56,137,54],[147,57,137,55],[147,58,137,56],[148,10,138,8],[149,8,139,6],[150,10,140,8],[150,16,140,14],[150,20,140,18,"Error"],[150,25,140,23],[150,26,140,24],[150,51,140,49],[150,54,140,52,"normalization"],[150,67,140,65],[150,70,140,68],[150,75,140,73],[150,78,140,76],[150,136,140,134],[150,137,140,135],[151,6,141,4],[152,4,142,2],[153,4,143,2],[153,13,143,11,"_varDim"],[153,20,143,18,"_varDim"],[153,21,143,19,"array"],[153,26,143,24],[153,28,143,26,"dim"],[153,31,143,29],[153,33,143,31,"normalization"],[153,46,143,44],[153,48,143,46],[154,6,144,4],[154,10,144,8],[155,8,145,6],[155,12,145,10,"array"],[155,17,145,15],[155,18,145,16,"length"],[155,24,145,22],[155,29,145,27],[155,30,145,28],[155,32,145,30],[156,10,146,8],[156,16,146,14],[156,20,146,18,"SyntaxError"],[156,31,146,29],[156,32,146,30],[156,96,146,94],[156,97,146,95],[157,8,147,6],[158,8,148,6],[158,15,148,13,"mapSlices"],[158,24,148,22],[158,25,148,23,"array"],[158,30,148,28],[158,32,148,30,"dim"],[158,35,148,33],[158,37,148,35,"x"],[158,38,148,36],[158,42,148,40,"_var"],[158,46,148,44],[158,47,148,45,"x"],[158,48,148,46],[158,50,148,48,"normalization"],[158,63,148,61],[158,64,148,62],[158,65,148,63],[159,6,149,4],[159,7,149,5],[159,8,149,6],[159,15,149,13,"err"],[159,18,149,16],[159,20,149,18],[160,8,150,6],[160,14,150,12],[160,18,150,12,"improveErrorMessage"],[160,45,150,31],[160,46,150,31,"improveErrorMessage"],[160,65,150,31],[160,67,150,32,"err"],[160,70,150,35],[160,72,150,37],[160,82,150,47],[160,83,150,48],[161,6,151,4],[162,4,152,2],[163,2,153,0],[163,3,153,1],[163,4,153,2],[164,0,153,3],[164,3]],"functionMap":{"names":["<global>","factory$argument_2","Array__Matrix","Array__Matrix_number__BigNumber","_","_var","deepForEach$argument_1","_varDim","mapSlices$argument_2"],"mappings":"AAA;uECO;sBCiE;KDE;0CEI;KFE;WGI;KHE;EIc;uBCQ;KDO;uBCM;KDG;GJiB;EMC;mCCK,2BD;GNI;CDC"},"hasCjsExports":false},"type":"js/module"}]}