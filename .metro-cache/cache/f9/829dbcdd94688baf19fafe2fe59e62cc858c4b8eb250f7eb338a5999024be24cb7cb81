{"dependencies":[{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMatAlgo11xS0s\", {\n    enumerable: true,\n    get: function () {\n      return createMatAlgo11xS0s;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../../utils/factory.js\");\n  var name = 'matAlgo11xS0s';\n  var dependencies = ['typed', 'equalScalar'];\n  var createMatAlgo11xS0s = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      equalScalar\n    } = _ref;\n    /**\n     * Iterates over SparseMatrix S nonzero items and invokes the callback function f(Sij, b).\n     * Callback function invoked NZ times (number of nonzero items in S).\n     *\n     *\n     *          ┌  f(Sij, b)  ; S(i,j) !== 0\n     * C(i,j) = ┤\n     *          └  0          ; otherwise\n     *\n     *\n     * @param {Matrix}   s                 The SparseMatrix instance (S)\n     * @param {Scalar}   b                 The Scalar value\n     * @param {Function} callback          The f(Aij,b) operation to invoke\n     * @param {boolean}  inverse           A true value indicates callback should be invoked f(b,Sij)\n     *\n     * @return {Matrix}                    SparseMatrix (C)\n     *\n     * https://github.com/josdejong/mathjs/pull/346#issuecomment-97626813\n     */\n    return function matAlgo11xS0s(s, b, callback, inverse) {\n      // sparse matrix arrays\n      var avalues = s._values;\n      var aindex = s._index;\n      var aptr = s._ptr;\n      var asize = s._size;\n      var adt = s._datatype;\n\n      // sparse matrix cannot be a Pattern matrix\n      if (!avalues) {\n        throw new Error('Cannot perform operation on Pattern Sparse Matrix and Scalar value');\n      }\n\n      // rows & columns\n      var rows = asize[0];\n      var columns = asize[1];\n\n      // datatype\n      var dt;\n      // equal signature to use\n      var eq = equalScalar;\n      // zero value\n      var zero = 0;\n      // callback signature to use\n      var cf = callback;\n\n      // process data types\n      if (typeof adt === 'string') {\n        // datatype\n        dt = adt;\n        // find signature that matches (dt, dt)\n        eq = typed.find(equalScalar, [dt, dt]);\n        // convert 0 to the same datatype\n        zero = typed.convert(0, dt);\n        // convert b to the same datatype\n        b = typed.convert(b, dt);\n        // callback\n        cf = typed.find(callback, [dt, dt]);\n      }\n\n      // result arrays\n      var cvalues = [];\n      var cindex = [];\n      var cptr = [];\n\n      // loop columns\n      for (var j = 0; j < columns; j++) {\n        // initialize ptr\n        cptr[j] = cindex.length;\n        // values in j\n        for (var k0 = aptr[j], k1 = aptr[j + 1], k = k0; k < k1; k++) {\n          // row\n          var i = aindex[k];\n          // invoke callback\n          var v = inverse ? cf(b, avalues[k]) : cf(avalues[k], b);\n          // check value is zero\n          if (!eq(v, zero)) {\n            // push index & value\n            cindex.push(i);\n            cvalues.push(v);\n          }\n        }\n      }\n      // update ptr\n      cptr[columns] = cindex.length;\n\n      // return sparse matrix\n      return s.createSparseMatrix({\n        values: cvalues,\n        index: cindex,\n        ptr: cptr,\n        size: [rows, columns],\n        datatype: dt\n      });\n    };\n  });\n});","lineCount":116,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"createMatAlgo11xS0s"],[10,32,4,0],[11,4,4,0],[12,2,4,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,4,"name"],[14,10,2,8],[14,13,2,11],[14,28,2,26],[15,2,3,0],[15,6,3,4,"dependencies"],[15,18,3,16],[15,21,3,19],[15,22,3,20],[15,29,3,27],[15,31,3,29],[15,44,3,42],[15,45,3,43],[16,2,4,7],[16,6,4,11,"createMatAlgo11xS0s"],[16,25,4,30],[16,28,4,33],[16,43,4,48],[16,47,4,48,"factory"],[16,62,4,55],[16,63,4,55,"factory"],[16,70,4,55],[16,72,4,56,"name"],[16,76,4,60],[16,78,4,62,"dependencies"],[16,90,4,74],[16,92,4,76,"_ref"],[16,96,4,80],[16,100,4,84],[17,4,5,2],[17,8,5,6],[18,6,6,4,"typed"],[18,11,6,9],[19,6,7,4,"equalScalar"],[20,4,8,2],[20,5,8,3],[20,8,8,6,"_ref"],[20,12,8,10],[21,4,9,2],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,4,28,2],[40,11,28,9],[40,20,28,18,"matAlgo11xS0s"],[40,33,28,31,"matAlgo11xS0s"],[40,34,28,32,"s"],[40,35,28,33],[40,37,28,35,"b"],[40,38,28,36],[40,40,28,38,"callback"],[40,48,28,46],[40,50,28,48,"inverse"],[40,57,28,55],[40,59,28,57],[41,6,29,4],[42,6,30,4],[42,10,30,8,"avalues"],[42,17,30,15],[42,20,30,18,"s"],[42,21,30,19],[42,22,30,20,"_values"],[42,29,30,27],[43,6,31,4],[43,10,31,8,"aindex"],[43,16,31,14],[43,19,31,17,"s"],[43,20,31,18],[43,21,31,19,"_index"],[43,27,31,25],[44,6,32,4],[44,10,32,8,"aptr"],[44,14,32,12],[44,17,32,15,"s"],[44,18,32,16],[44,19,32,17,"_ptr"],[44,23,32,21],[45,6,33,4],[45,10,33,8,"asize"],[45,15,33,13],[45,18,33,16,"s"],[45,19,33,17],[45,20,33,18,"_size"],[45,25,33,23],[46,6,34,4],[46,10,34,8,"adt"],[46,13,34,11],[46,16,34,14,"s"],[46,17,34,15],[46,18,34,16,"_datatype"],[46,27,34,25],[48,6,36,4],[49,6,37,4],[49,10,37,8],[49,11,37,9,"avalues"],[49,18,37,16],[49,20,37,18],[50,8,38,6],[50,14,38,12],[50,18,38,16,"Error"],[50,23,38,21],[50,24,38,22],[50,92,38,90],[50,93,38,91],[51,6,39,4],[53,6,41,4],[54,6,42,4],[54,10,42,8,"rows"],[54,14,42,12],[54,17,42,15,"asize"],[54,22,42,20],[54,23,42,21],[54,24,42,22],[54,25,42,23],[55,6,43,4],[55,10,43,8,"columns"],[55,17,43,15],[55,20,43,18,"asize"],[55,25,43,23],[55,26,43,24],[55,27,43,25],[55,28,43,26],[57,6,45,4],[58,6,46,4],[58,10,46,8,"dt"],[58,12,46,10],[59,6,47,4],[60,6,48,4],[60,10,48,8,"eq"],[60,12,48,10],[60,15,48,13,"equalScalar"],[60,26,48,24],[61,6,49,4],[62,6,50,4],[62,10,50,8,"zero"],[62,14,50,12],[62,17,50,15],[62,18,50,16],[63,6,51,4],[64,6,52,4],[64,10,52,8,"cf"],[64,12,52,10],[64,15,52,13,"callback"],[64,23,52,21],[66,6,54,4],[67,6,55,4],[67,10,55,8],[67,17,55,15,"adt"],[67,20,55,18],[67,25,55,23],[67,33,55,31],[67,35,55,33],[68,8,56,6],[69,8,57,6,"dt"],[69,10,57,8],[69,13,57,11,"adt"],[69,16,57,14],[70,8,58,6],[71,8,59,6,"eq"],[71,10,59,8],[71,13,59,11,"typed"],[71,18,59,16],[71,19,59,17,"find"],[71,23,59,21],[71,24,59,22,"equalScalar"],[71,35,59,33],[71,37,59,35],[71,38,59,36,"dt"],[71,40,59,38],[71,42,59,40,"dt"],[71,44,59,42],[71,45,59,43],[71,46,59,44],[72,8,60,6],[73,8,61,6,"zero"],[73,12,61,10],[73,15,61,13,"typed"],[73,20,61,18],[73,21,61,19,"convert"],[73,28,61,26],[73,29,61,27],[73,30,61,28],[73,32,61,30,"dt"],[73,34,61,32],[73,35,61,33],[74,8,62,6],[75,8,63,6,"b"],[75,9,63,7],[75,12,63,10,"typed"],[75,17,63,15],[75,18,63,16,"convert"],[75,25,63,23],[75,26,63,24,"b"],[75,27,63,25],[75,29,63,27,"dt"],[75,31,63,29],[75,32,63,30],[76,8,64,6],[77,8,65,6,"cf"],[77,10,65,8],[77,13,65,11,"typed"],[77,18,65,16],[77,19,65,17,"find"],[77,23,65,21],[77,24,65,22,"callback"],[77,32,65,30],[77,34,65,32],[77,35,65,33,"dt"],[77,37,65,35],[77,39,65,37,"dt"],[77,41,65,39],[77,42,65,40],[77,43,65,41],[78,6,66,4],[80,6,68,4],[81,6,69,4],[81,10,69,8,"cvalues"],[81,17,69,15],[81,20,69,18],[81,22,69,20],[82,6,70,4],[82,10,70,8,"cindex"],[82,16,70,14],[82,19,70,17],[82,21,70,19],[83,6,71,4],[83,10,71,8,"cptr"],[83,14,71,12],[83,17,71,15],[83,19,71,17],[85,6,73,4],[86,6,74,4],[86,11,74,9],[86,15,74,13,"j"],[86,16,74,14],[86,19,74,17],[86,20,74,18],[86,22,74,20,"j"],[86,23,74,21],[86,26,74,24,"columns"],[86,33,74,31],[86,35,74,33,"j"],[86,36,74,34],[86,38,74,36],[86,40,74,38],[87,8,75,6],[88,8,76,6,"cptr"],[88,12,76,10],[88,13,76,11,"j"],[88,14,76,12],[88,15,76,13],[88,18,76,16,"cindex"],[88,24,76,22],[88,25,76,23,"length"],[88,31,76,29],[89,8,77,6],[90,8,78,6],[90,13,78,11],[90,17,78,15,"k0"],[90,19,78,17],[90,22,78,20,"aptr"],[90,26,78,24],[90,27,78,25,"j"],[90,28,78,26],[90,29,78,27],[90,31,78,29,"k1"],[90,33,78,31],[90,36,78,34,"aptr"],[90,40,78,38],[90,41,78,39,"j"],[90,42,78,40],[90,45,78,43],[90,46,78,44],[90,47,78,45],[90,49,78,47,"k"],[90,50,78,48],[90,53,78,51,"k0"],[90,55,78,53],[90,57,78,55,"k"],[90,58,78,56],[90,61,78,59,"k1"],[90,63,78,61],[90,65,78,63,"k"],[90,66,78,64],[90,68,78,66],[90,70,78,68],[91,10,79,8],[92,10,80,8],[92,14,80,12,"i"],[92,15,80,13],[92,18,80,16,"aindex"],[92,24,80,22],[92,25,80,23,"k"],[92,26,80,24],[92,27,80,25],[93,10,81,8],[94,10,82,8],[94,14,82,12,"v"],[94,15,82,13],[94,18,82,16,"inverse"],[94,25,82,23],[94,28,82,26,"cf"],[94,30,82,28],[94,31,82,29,"b"],[94,32,82,30],[94,34,82,32,"avalues"],[94,41,82,39],[94,42,82,40,"k"],[94,43,82,41],[94,44,82,42],[94,45,82,43],[94,48,82,46,"cf"],[94,50,82,48],[94,51,82,49,"avalues"],[94,58,82,56],[94,59,82,57,"k"],[94,60,82,58],[94,61,82,59],[94,63,82,61,"b"],[94,64,82,62],[94,65,82,63],[95,10,83,8],[96,10,84,8],[96,14,84,12],[96,15,84,13,"eq"],[96,17,84,15],[96,18,84,16,"v"],[96,19,84,17],[96,21,84,19,"zero"],[96,25,84,23],[96,26,84,24],[96,28,84,26],[97,12,85,10],[98,12,86,10,"cindex"],[98,18,86,16],[98,19,86,17,"push"],[98,23,86,21],[98,24,86,22,"i"],[98,25,86,23],[98,26,86,24],[99,12,87,10,"cvalues"],[99,19,87,17],[99,20,87,18,"push"],[99,24,87,22],[99,25,87,23,"v"],[99,26,87,24],[99,27,87,25],[100,10,88,8],[101,8,89,6],[102,6,90,4],[103,6,91,4],[104,6,92,4,"cptr"],[104,10,92,8],[104,11,92,9,"columns"],[104,18,92,16],[104,19,92,17],[104,22,92,20,"cindex"],[104,28,92,26],[104,29,92,27,"length"],[104,35,92,33],[106,6,94,4],[107,6,95,4],[107,13,95,11,"s"],[107,14,95,12],[107,15,95,13,"createSparseMatrix"],[107,33,95,31],[107,34,95,32],[108,8,96,6,"values"],[108,14,96,12],[108,16,96,14,"cvalues"],[108,23,96,21],[109,8,97,6,"index"],[109,13,97,11],[109,15,97,13,"cindex"],[109,21,97,19],[110,8,98,6,"ptr"],[110,11,98,9],[110,13,98,11,"cptr"],[110,17,98,15],[111,8,99,6,"size"],[111,12,99,10],[111,14,99,12],[111,15,99,13,"rows"],[111,19,99,17],[111,21,99,19,"columns"],[111,28,99,26],[111,29,99,27],[112,8,100,6,"datatype"],[112,16,100,14],[112,18,100,16,"dt"],[113,6,101,4],[113,7,101,5],[113,8,101,6],[114,4,102,2],[114,5,102,3],[115,2,103,0],[115,3,103,1],[115,4,103,2],[116,0,103,3],[116,3]],"functionMap":{"names":["<global>","factory$argument_2","matAlgo11xS0s"],"mappings":"AAA;4ECG;SCwB;GD0E;CDC"},"hasCjsExports":false},"type":"js/module"}]}