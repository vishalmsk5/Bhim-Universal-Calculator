{"dependencies":[{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createTransformCallback\", {\n    enumerable: true,\n    get: function () {\n      return createTransformCallback;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../../utils/factory.js\");\n  var name = 'transformCallback';\n  var dependencies = ['typed'];\n  var createTransformCallback = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed\n    } = _ref;\n    /**\n           * Transforms the given callback function based on its type and number of arrays.\n           *\n           * @param {Function} callback - The callback function to transform.\n           * @param {number} numberOfArrays - The number of arrays to pass to the callback function.\n           * @returns {*} - The transformed callback function.\n           */\n    return function (callback, numberOfArrays) {\n      if (typed.isTypedFunction(callback)) {\n        return _transformTypedCallbackFunction(callback, numberOfArrays);\n      } else {\n        return _transformCallbackFunction(callback, callback.length, numberOfArrays);\n      }\n    };\n\n    /**\n         * Transforms the given typed callback function based on the number of arrays.\n         *\n         * @param {Function} typedFunction - The typed callback function to transform.\n         * @param {number} numberOfArrays - The number of arrays to pass to the callback function.\n         * @returns {*} - The transformed callback function.\n         */\n    function _transformTypedCallbackFunction(typedFunction, numberOfArrays) {\n      var signatures = Object.fromEntries(Object.entries(typedFunction.signatures).map(_ref2 => {\n        var [signature, callbackFunction] = _ref2;\n        var numberOfCallbackInputs = signature.split(',').length;\n        if (typed.isTypedFunction(callbackFunction)) {\n          return [signature, _transformTypedCallbackFunction(callbackFunction, numberOfArrays)];\n        } else {\n          return [signature, _transformCallbackFunction(callbackFunction, numberOfCallbackInputs, numberOfArrays)];\n        }\n      }));\n      if (typeof typedFunction.name === 'string') {\n        return typed(typedFunction.name, signatures);\n      } else {\n        return typed(signatures);\n      }\n    }\n  });\n\n  /**\n       * Transforms the callback function based on the number of callback inputs and arrays.\n       * There are three cases:\n       * 1. The callback function has N arguments.\n       * 2. The callback function has N+1 arguments.\n       * 3. The callback function has 2N+1 arguments.\n       *\n       * @param {Function} callbackFunction - The callback function to transform.\n       * @param {number} numberOfCallbackInputs - The number of callback inputs.\n       * @param {number} numberOfArrays - The number of arrays.\n       * @returns {Function} The transformed callback function.\n       */\n  function _transformCallbackFunction(callbackFunction, numberOfCallbackInputs, numberOfArrays) {\n    if (numberOfCallbackInputs === numberOfArrays) {\n      return callbackFunction;\n    } else if (numberOfCallbackInputs === numberOfArrays + 1) {\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        var vals = args.slice(0, numberOfArrays);\n        var idx = _transformDims(args[numberOfArrays]);\n        return callbackFunction(...vals, idx);\n      };\n    } else if (numberOfCallbackInputs > numberOfArrays + 1) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        var vals = args.slice(0, numberOfArrays);\n        var idx = _transformDims(args[numberOfArrays]);\n        var rest = args.slice(numberOfArrays + 1);\n        return callbackFunction(...vals, idx, ...rest);\n      };\n    } else {\n      return callbackFunction;\n    }\n  }\n\n  /**\n     * Transforms the dimensions by adding 1 to each dimension.\n     *\n     * @param {Array} dims - The dimensions to transform.\n     * @returns {Array} The transformed dimensions.\n     */\n  function _transformDims(dims) {\n    return dims.map(dim => dim + 1);\n  }\n});","lineCount":108,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"createTransformCallback"],[10,36,4,0],[11,4,4,0],[12,2,4,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,4,"name"],[14,10,2,8],[14,13,2,11],[14,32,2,30],[15,2,3,0],[15,6,3,4,"dependencies"],[15,18,3,16],[15,21,3,19],[15,22,3,20],[15,29,3,27],[15,30,3,28],[16,2,4,7],[16,6,4,11,"createTransformCallback"],[16,29,4,34],[16,32,4,37],[16,47,4,52],[16,51,4,52,"factory"],[16,66,4,59],[16,67,4,59,"factory"],[16,74,4,59],[16,76,4,60,"name"],[16,80,4,64],[16,82,4,66,"dependencies"],[16,94,4,78],[16,96,4,80,"_ref"],[16,100,4,84],[16,104,4,88],[17,4,5,2],[17,8,5,6],[18,6,6,4,"typed"],[19,4,7,2],[19,5,7,3],[19,8,7,6,"_ref"],[19,12,7,10],[20,4,8,2],[21,0,9,0],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,4,15,2],[27,11,15,9],[27,21,15,19,"callback"],[27,29,15,27],[27,31,15,29,"numberOfArrays"],[27,45,15,43],[27,47,15,45],[28,6,16,4],[28,10,16,8,"typed"],[28,15,16,13],[28,16,16,14,"isTypedFunction"],[28,31,16,29],[28,32,16,30,"callback"],[28,40,16,38],[28,41,16,39],[28,43,16,41],[29,8,17,6],[29,15,17,13,"_transformTypedCallbackFunction"],[29,46,17,44],[29,47,17,45,"callback"],[29,55,17,53],[29,57,17,55,"numberOfArrays"],[29,71,17,69],[29,72,17,70],[30,6,18,4],[30,7,18,5],[30,13,18,11],[31,8,19,6],[31,15,19,13,"_transformCallbackFunction"],[31,41,19,39],[31,42,19,40,"callback"],[31,50,19,48],[31,52,19,50,"callback"],[31,60,19,58],[31,61,19,59,"length"],[31,67,19,65],[31,69,19,67,"numberOfArrays"],[31,83,19,81],[31,84,19,82],[32,6,20,4],[33,4,21,2],[33,5,21,3],[35,4,23,2],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,4,30,2],[42,13,30,11,"_transformTypedCallbackFunction"],[42,44,30,42,"_transformTypedCallbackFunction"],[42,45,30,43,"typedFunction"],[42,58,30,56],[42,60,30,58,"numberOfArrays"],[42,74,30,72],[42,76,30,74],[43,6,31,4],[43,10,31,8,"signatures"],[43,20,31,18],[43,23,31,21,"Object"],[43,29,31,27],[43,30,31,28,"fromEntries"],[43,41,31,39],[43,42,31,40,"Object"],[43,48,31,46],[43,49,31,47,"entries"],[43,56,31,54],[43,57,31,55,"typedFunction"],[43,70,31,68],[43,71,31,69,"signatures"],[43,81,31,79],[43,82,31,80],[43,83,31,81,"map"],[43,86,31,84],[43,87,31,85,"_ref2"],[43,92,31,90],[43,96,31,94],[44,8,32,6],[44,12,32,10],[44,13,32,11,"signature"],[44,22,32,20],[44,24,32,22,"callbackFunction"],[44,40,32,38],[44,41,32,39],[44,44,32,42,"_ref2"],[44,49,32,47],[45,8,33,6],[45,12,33,10,"numberOfCallbackInputs"],[45,34,33,32],[45,37,33,35,"signature"],[45,46,33,44],[45,47,33,45,"split"],[45,52,33,50],[45,53,33,51],[45,56,33,54],[45,57,33,55],[45,58,33,56,"length"],[45,64,33,62],[46,8,34,6],[46,12,34,10,"typed"],[46,17,34,15],[46,18,34,16,"isTypedFunction"],[46,33,34,31],[46,34,34,32,"callbackFunction"],[46,50,34,48],[46,51,34,49],[46,53,34,51],[47,10,35,8],[47,17,35,15],[47,18,35,16,"signature"],[47,27,35,25],[47,29,35,27,"_transformTypedCallbackFunction"],[47,60,35,58],[47,61,35,59,"callbackFunction"],[47,77,35,75],[47,79,35,77,"numberOfArrays"],[47,93,35,91],[47,94,35,92],[47,95,35,93],[48,8,36,6],[48,9,36,7],[48,15,36,13],[49,10,37,8],[49,17,37,15],[49,18,37,16,"signature"],[49,27,37,25],[49,29,37,27,"_transformCallbackFunction"],[49,55,37,53],[49,56,37,54,"callbackFunction"],[49,72,37,70],[49,74,37,72,"numberOfCallbackInputs"],[49,96,37,94],[49,98,37,96,"numberOfArrays"],[49,112,37,110],[49,113,37,111],[49,114,37,112],[50,8,38,6],[51,6,39,4],[51,7,39,5],[51,8,39,6],[51,9,39,7],[52,6,40,4],[52,10,40,8],[52,17,40,15,"typedFunction"],[52,30,40,28],[52,31,40,29,"name"],[52,35,40,33],[52,40,40,38],[52,48,40,46],[52,50,40,48],[53,8,41,6],[53,15,41,13,"typed"],[53,20,41,18],[53,21,41,19,"typedFunction"],[53,34,41,32],[53,35,41,33,"name"],[53,39,41,37],[53,41,41,39,"signatures"],[53,51,41,49],[53,52,41,50],[54,6,42,4],[54,7,42,5],[54,13,42,11],[55,8,43,6],[55,15,43,13,"typed"],[55,20,43,18],[55,21,43,19,"signatures"],[55,31,43,29],[55,32,43,30],[56,6,44,4],[57,4,45,2],[58,2,46,0],[58,3,46,1],[58,4,46,2],[60,2,48,0],[61,0,49,0],[62,0,50,0],[63,0,51,0],[64,0,52,0],[65,0,53,0],[66,0,54,0],[67,0,55,0],[68,0,56,0],[69,0,57,0],[70,0,58,0],[71,0,59,0],[72,2,60,0],[72,11,60,9,"_transformCallbackFunction"],[72,37,60,35,"_transformCallbackFunction"],[72,38,60,36,"callbackFunction"],[72,54,60,52],[72,56,60,54,"numberOfCallbackInputs"],[72,78,60,76],[72,80,60,78,"numberOfArrays"],[72,94,60,92],[72,96,60,94],[73,4,61,2],[73,8,61,6,"numberOfCallbackInputs"],[73,30,61,28],[73,35,61,33,"numberOfArrays"],[73,49,61,47],[73,51,61,49],[74,6,62,4],[74,13,62,11,"callbackFunction"],[74,29,62,27],[75,4,63,2],[75,5,63,3],[75,11,63,9],[75,15,63,13,"numberOfCallbackInputs"],[75,37,63,35],[75,42,63,40,"numberOfArrays"],[75,56,63,54],[75,59,63,57],[75,60,63,58],[75,62,63,60],[76,6,64,4],[76,13,64,11],[76,25,64,23],[77,8,65,6],[77,13,65,11],[77,17,65,15,"_len"],[77,21,65,19],[77,24,65,22,"arguments"],[77,33,65,31],[77,34,65,32,"length"],[77,40,65,38],[77,42,65,40,"args"],[77,46,65,44],[77,49,65,47],[77,53,65,51,"Array"],[77,58,65,56],[77,59,65,57,"_len"],[77,63,65,61],[77,64,65,62],[77,66,65,64,"_key"],[77,70,65,68],[77,73,65,71],[77,74,65,72],[77,76,65,74,"_key"],[77,80,65,78],[77,83,65,81,"_len"],[77,87,65,85],[77,89,65,87,"_key"],[77,93,65,91],[77,95,65,93],[77,97,65,95],[78,10,66,8,"args"],[78,14,66,12],[78,15,66,13,"_key"],[78,19,66,17],[78,20,66,18],[78,23,66,21,"arguments"],[78,32,66,30],[78,33,66,31,"_key"],[78,37,66,35],[78,38,66,36],[79,8,67,6],[80,8,68,6],[80,12,68,10,"vals"],[80,16,68,14],[80,19,68,17,"args"],[80,23,68,21],[80,24,68,22,"slice"],[80,29,68,27],[80,30,68,28],[80,31,68,29],[80,33,68,31,"numberOfArrays"],[80,47,68,45],[80,48,68,46],[81,8,69,6],[81,12,69,10,"idx"],[81,15,69,13],[81,18,69,16,"_transformDims"],[81,32,69,30],[81,33,69,31,"args"],[81,37,69,35],[81,38,69,36,"numberOfArrays"],[81,52,69,50],[81,53,69,51],[81,54,69,52],[82,8,70,6],[82,15,70,13,"callbackFunction"],[82,31,70,29],[82,32,70,30],[82,35,70,33,"vals"],[82,39,70,37],[82,41,70,39,"idx"],[82,44,70,42],[82,45,70,43],[83,6,71,4],[83,7,71,5],[84,4,72,2],[84,5,72,3],[84,11,72,9],[84,15,72,13,"numberOfCallbackInputs"],[84,37,72,35],[84,40,72,38,"numberOfArrays"],[84,54,72,52],[84,57,72,55],[84,58,72,56],[84,60,72,58],[85,6,73,4],[85,13,73,11],[85,25,73,23],[86,8,74,6],[86,13,74,11],[86,17,74,15,"_len2"],[86,22,74,20],[86,25,74,23,"arguments"],[86,34,74,32],[86,35,74,33,"length"],[86,41,74,39],[86,43,74,41,"args"],[86,47,74,45],[86,50,74,48],[86,54,74,52,"Array"],[86,59,74,57],[86,60,74,58,"_len2"],[86,65,74,63],[86,66,74,64],[86,68,74,66,"_key2"],[86,73,74,71],[86,76,74,74],[86,77,74,75],[86,79,74,77,"_key2"],[86,84,74,82],[86,87,74,85,"_len2"],[86,92,74,90],[86,94,74,92,"_key2"],[86,99,74,97],[86,101,74,99],[86,103,74,101],[87,10,75,8,"args"],[87,14,75,12],[87,15,75,13,"_key2"],[87,20,75,18],[87,21,75,19],[87,24,75,22,"arguments"],[87,33,75,31],[87,34,75,32,"_key2"],[87,39,75,37],[87,40,75,38],[88,8,76,6],[89,8,77,6],[89,12,77,10,"vals"],[89,16,77,14],[89,19,77,17,"args"],[89,23,77,21],[89,24,77,22,"slice"],[89,29,77,27],[89,30,77,28],[89,31,77,29],[89,33,77,31,"numberOfArrays"],[89,47,77,45],[89,48,77,46],[90,8,78,6],[90,12,78,10,"idx"],[90,15,78,13],[90,18,78,16,"_transformDims"],[90,32,78,30],[90,33,78,31,"args"],[90,37,78,35],[90,38,78,36,"numberOfArrays"],[90,52,78,50],[90,53,78,51],[90,54,78,52],[91,8,79,6],[91,12,79,10,"rest"],[91,16,79,14],[91,19,79,17,"args"],[91,23,79,21],[91,24,79,22,"slice"],[91,29,79,27],[91,30,79,28,"numberOfArrays"],[91,44,79,42],[91,47,79,45],[91,48,79,46],[91,49,79,47],[92,8,80,6],[92,15,80,13,"callbackFunction"],[92,31,80,29],[92,32,80,30],[92,35,80,33,"vals"],[92,39,80,37],[92,41,80,39,"idx"],[92,44,80,42],[92,46,80,44],[92,49,80,47,"rest"],[92,53,80,51],[92,54,80,52],[93,6,81,4],[93,7,81,5],[94,4,82,2],[94,5,82,3],[94,11,82,9],[95,6,83,4],[95,13,83,11,"callbackFunction"],[95,29,83,27],[96,4,84,2],[97,2,85,0],[99,2,87,0],[100,0,88,0],[101,0,89,0],[102,0,90,0],[103,0,91,0],[104,0,92,0],[105,2,93,0],[105,11,93,9,"_transformDims"],[105,25,93,23,"_transformDims"],[105,26,93,24,"dims"],[105,30,93,28],[105,32,93,30],[106,4,94,2],[106,11,94,9,"dims"],[106,15,94,13],[106,16,94,14,"map"],[106,19,94,17],[106,20,94,18,"dim"],[106,23,94,21],[106,27,94,25,"dim"],[106,30,94,28],[106,33,94,31],[106,34,94,32],[106,35,94,33],[107,2,95,0],[108,0,95,1],[108,3]],"functionMap":{"names":["<global>","factory$argument_2","<anonymous>","_transformTypedCallbackFunction","Object.entries.map$argument_0","_transformCallbackFunction","_transformDims","dims.map$argument_0"],"mappings":"AAA;gFCG;SCW;GDM;EES;qFCC;KDQ;GFM;CDC;AKc;WHI;KGO;WHE;KGQ;CLI;AMQ;kBCC,cD"},"hasCjsExports":false},"type":"js/module"}]}