{"dependencies":[{"name":"../../../utils/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"IWFnddAqEi1P6QBS4T+IMjXUKog=","exportNames":["*"],"imports":1}},{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":52,"index":110}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}},{"name":"./utils/solveValidation.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":67,"index":178}}],"key":"VsBNAO9EUeO8uCXDyPi56CbhaFk=","exportNames":["*"],"imports":1}},{"name":"../sparse/csIpvec.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":179},"end":{"line":4,"column":47,"index":226}}],"key":"vecEE6CCMaI63x0UpBxxF0pnCLE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createLusolve\", {\n    enumerable: true,\n    get: function () {\n      return createLusolve;\n    }\n  });\n  var _utilsIsJs = require(_dependencyMap[0], \"../../../utils/is.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../../utils/factory.js\");\n  var _utilsSolveValidationJs = require(_dependencyMap[2], \"./utils/solveValidation.js\");\n  var _sparseCsIpvecJs = require(_dependencyMap[3], \"../sparse/csIpvec.js\");\n  var name = 'lusolve';\n  var dependencies = ['typed', 'matrix', 'lup', 'slu', 'usolve', 'lsolve', 'DenseMatrix'];\n  var createLusolve = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      matrix = _ref.matrix,\n      lup = _ref.lup,\n      slu = _ref.slu,\n      usolve = _ref.usolve,\n      lsolve = _ref.lsolve,\n      DenseMatrix = _ref.DenseMatrix;\n    var solveValidation = (0, _utilsSolveValidationJs.createSolveValidation)({\n      DenseMatrix\n    });\n\n    /**\n     * Solves the linear system `A * x = b` where `A` is an [n x n] matrix and `b` is a [n] column vector.\n     *\n     * Syntax:\n     *\n     *    math.lusolve(A, b)     // returns column vector with the solution to the linear system A * x = b\n     *    math.lusolve(lup, b)   // returns column vector with the solution to the linear system A * x = b, lup = math.lup(A)\n     *\n     * Examples:\n     *\n     *    const m = [[1, 0, 0, 0], [0, 2, 0, 0], [0, 0, 3, 0], [0, 0, 0, 4]]\n     *\n     *    const x = math.lusolve(m, [-1, -1, -1, -1])        // x = [[-1], [-0.5], [-1/3], [-0.25]]\n     *\n     *    const f = math.lup(m)\n     *    const x1 = math.lusolve(f, [-1, -1, -1, -1])       // x1 = [[-1], [-0.5], [-1/3], [-0.25]]\n     *    const x2 = math.lusolve(f, [1, 2, 1, -1])          // x2 = [[1], [1], [1/3], [-0.25]]\n     *\n     *    const a = [[-2, 3], [2, 1]]\n     *    const b = [11, 9]\n     *    const x = math.lusolve(a, b)  // [[2], [5]]\n     *\n     * See also:\n     *\n     *    lup, slu, lsolve, usolve\n     *\n     * @param {Matrix | Array | Object} A      Invertible Matrix or the Matrix LU decomposition\n     * @param {Matrix | Array} b               Column Vector\n     * @param {number} [order]                 The Symbolic Ordering and Analysis order, see slu for details. Matrix must be a SparseMatrix\n     * @param {Number} [threshold]             Partial pivoting threshold (1 for partial pivoting), see slu for details. Matrix must be a SparseMatrix.\n     *\n     * @return {DenseMatrix | Array}           Column vector with the solution to the linear system A * x = b\n     */\n    return typed(name, {\n      'Array, Array | Matrix': function Array_Array__Matrix(a, b) {\n        a = matrix(a);\n        var d = lup(a);\n        var x = _lusolve(d.L, d.U, d.p, null, b);\n        return x.valueOf();\n      },\n      'DenseMatrix, Array | Matrix': function DenseMatrix_Array__Matrix(a, b) {\n        var d = lup(a);\n        return _lusolve(d.L, d.U, d.p, null, b);\n      },\n      'SparseMatrix, Array | Matrix': function SparseMatrix_Array__Matrix(a, b) {\n        var d = lup(a);\n        return _lusolve(d.L, d.U, d.p, null, b);\n      },\n      'SparseMatrix, Array | Matrix, number, number': function SparseMatrix_Array__Matrix_number_number(a, b, order, threshold) {\n        var d = slu(a, order, threshold);\n        return _lusolve(d.L, d.U, d.p, d.q, b);\n      },\n      'Object, Array | Matrix': function Object_Array__Matrix(d, b) {\n        return _lusolve(d.L, d.U, d.p, d.q, b);\n      }\n    });\n    function _toMatrix(a) {\n      if ((0, _utilsIsJs.isMatrix)(a)) {\n        return a;\n      }\n      if ((0, _utilsIsJs.isArray)(a)) {\n        return matrix(a);\n      }\n      throw new TypeError('Invalid Matrix LU decomposition');\n    }\n    function _lusolve(l, u, p, q, b) {\n      // verify decomposition\n      l = _toMatrix(l);\n      u = _toMatrix(u);\n\n      // apply row permutations if needed (b is a DenseMatrix)\n      if (p) {\n        b = solveValidation(l, b, true);\n        b._data = (0, _sparseCsIpvecJs.csIpvec)(p, b._data);\n      }\n\n      // use forward substitution to resolve L * y = b\n      var y = lsolve(l, b);\n      // use backward substitution to resolve U * x = y\n      var x = usolve(u, y);\n\n      // apply column permutations if needed (x is a DenseMatrix)\n      if (q) {\n        x._data = (0, _sparseCsIpvecJs.csIpvec)(q, x._data);\n      }\n      return x;\n    }\n  });\n});","lineCount":119,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"createLusolve"],[10,26,7,0],[11,4,7,0],[12,2,7,0],[13,2,1,0],[13,6,1,0,"_utilsIsJs"],[13,16,1,0],[13,19,1,0,"require"],[13,26,1,0],[13,27,1,0,"_dependencyMap"],[13,41,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,0,"_utilsSolveValidationJs"],[15,29,3,0],[15,32,3,0,"require"],[15,39,3,0],[15,40,3,0,"_dependencyMap"],[15,54,3,0],[16,2,4,0],[16,6,4,0,"_sparseCsIpvecJs"],[16,22,4,0],[16,25,4,0,"require"],[16,32,4,0],[16,33,4,0,"_dependencyMap"],[16,47,4,0],[17,2,5,0],[17,6,5,4,"name"],[17,10,5,8],[17,13,5,11],[17,22,5,20],[18,2,6,0],[18,6,6,4,"dependencies"],[18,18,6,16],[18,21,6,19],[18,22,6,20],[18,29,6,27],[18,31,6,29],[18,39,6,37],[18,41,6,39],[18,46,6,44],[18,48,6,46],[18,53,6,51],[18,55,6,53],[18,63,6,61],[18,65,6,63],[18,73,6,71],[18,75,6,73],[18,88,6,86],[18,89,6,87],[19,2,7,7],[19,6,7,11,"createLusolve"],[19,19,7,24],[19,22,7,27],[19,37,7,42],[19,41,7,42,"factory"],[19,56,7,49],[19,57,7,49,"factory"],[19,64,7,49],[19,66,7,50,"name"],[19,70,7,54],[19,72,7,56,"dependencies"],[19,84,7,68],[19,86,7,70,"_ref"],[19,90,7,74],[19,94,7,78],[20,4,8,2],[20,8,9,4,"typed"],[20,13,9,9],[20,16,16,6,"_ref"],[20,20,16,10],[20,21,9,4,"typed"],[20,26,9,9],[21,6,10,4,"matrix"],[21,12,10,10],[21,15,16,6,"_ref"],[21,19,16,10],[21,20,10,4,"matrix"],[21,26,10,10],[22,6,11,4,"lup"],[22,9,11,7],[22,12,16,6,"_ref"],[22,16,16,10],[22,17,11,4,"lup"],[22,20,11,7],[23,6,12,4,"slu"],[23,9,12,7],[23,12,16,6,"_ref"],[23,16,16,10],[23,17,12,4,"slu"],[23,20,12,7],[24,6,13,4,"usolve"],[24,12,13,10],[24,15,16,6,"_ref"],[24,19,16,10],[24,20,13,4,"usolve"],[24,26,13,10],[25,6,14,4,"lsolve"],[25,12,14,10],[25,15,16,6,"_ref"],[25,19,16,10],[25,20,14,4,"lsolve"],[25,26,14,10],[26,6,15,4,"DenseMatrix"],[26,17,15,15],[26,20,16,6,"_ref"],[26,24,16,10],[26,25,15,4,"DenseMatrix"],[26,36,15,15],[27,4,17,2],[27,8,17,6,"solveValidation"],[27,23,17,21],[27,26,17,24],[27,30,17,24,"createSolveValidation"],[27,53,17,45],[27,54,17,45,"createSolveValidation"],[27,75,17,45],[27,77,17,46],[28,6,18,4,"DenseMatrix"],[29,4,19,2],[29,5,19,3],[29,6,19,4],[31,4,21,2],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,0,35,0],[46,0,36,0],[47,0,37,0],[48,0,38,0],[49,0,39,0],[50,0,40,0],[51,0,41,0],[52,0,42,0],[53,0,43,0],[54,0,44,0],[55,0,45,0],[56,0,46,0],[57,0,47,0],[58,0,48,0],[59,0,49,0],[60,0,50,0],[61,0,51,0],[62,0,52,0],[63,0,53,0],[64,4,54,2],[64,11,54,9,"typed"],[64,16,54,14],[64,17,54,15,"name"],[64,21,54,19],[64,23,54,21],[65,6,55,4],[65,29,55,27],[65,31,55,29],[65,40,55,38,"Array_Array__Matrix"],[65,59,55,57,"Array_Array__Matrix"],[65,60,55,58,"a"],[65,61,55,59],[65,63,55,61,"b"],[65,64,55,62],[65,66,55,64],[66,8,56,6,"a"],[66,9,56,7],[66,12,56,10,"matrix"],[66,18,56,16],[66,19,56,17,"a"],[66,20,56,18],[66,21,56,19],[67,8,57,6],[67,12,57,10,"d"],[67,13,57,11],[67,16,57,14,"lup"],[67,19,57,17],[67,20,57,18,"a"],[67,21,57,19],[67,22,57,20],[68,8,58,6],[68,12,58,10,"x"],[68,13,58,11],[68,16,58,14,"_lusolve"],[68,24,58,22],[68,25,58,23,"d"],[68,26,58,24],[68,27,58,25,"L"],[68,28,58,26],[68,30,58,28,"d"],[68,31,58,29],[68,32,58,30,"U"],[68,33,58,31],[68,35,58,33,"d"],[68,36,58,34],[68,37,58,35,"p"],[68,38,58,36],[68,40,58,38],[68,44,58,42],[68,46,58,44,"b"],[68,47,58,45],[68,48,58,46],[69,8,59,6],[69,15,59,13,"x"],[69,16,59,14],[69,17,59,15,"valueOf"],[69,24,59,22],[69,25,59,23],[69,26,59,24],[70,6,60,4],[70,7,60,5],[71,6,61,4],[71,35,61,33],[71,37,61,35],[71,46,61,44,"DenseMatrix_Array__Matrix"],[71,71,61,69,"DenseMatrix_Array__Matrix"],[71,72,61,70,"a"],[71,73,61,71],[71,75,61,73,"b"],[71,76,61,74],[71,78,61,76],[72,8,62,6],[72,12,62,10,"d"],[72,13,62,11],[72,16,62,14,"lup"],[72,19,62,17],[72,20,62,18,"a"],[72,21,62,19],[72,22,62,20],[73,8,63,6],[73,15,63,13,"_lusolve"],[73,23,63,21],[73,24,63,22,"d"],[73,25,63,23],[73,26,63,24,"L"],[73,27,63,25],[73,29,63,27,"d"],[73,30,63,28],[73,31,63,29,"U"],[73,32,63,30],[73,34,63,32,"d"],[73,35,63,33],[73,36,63,34,"p"],[73,37,63,35],[73,39,63,37],[73,43,63,41],[73,45,63,43,"b"],[73,46,63,44],[73,47,63,45],[74,6,64,4],[74,7,64,5],[75,6,65,4],[75,36,65,34],[75,38,65,36],[75,47,65,45,"SparseMatrix_Array__Matrix"],[75,73,65,71,"SparseMatrix_Array__Matrix"],[75,74,65,72,"a"],[75,75,65,73],[75,77,65,75,"b"],[75,78,65,76],[75,80,65,78],[76,8,66,6],[76,12,66,10,"d"],[76,13,66,11],[76,16,66,14,"lup"],[76,19,66,17],[76,20,66,18,"a"],[76,21,66,19],[76,22,66,20],[77,8,67,6],[77,15,67,13,"_lusolve"],[77,23,67,21],[77,24,67,22,"d"],[77,25,67,23],[77,26,67,24,"L"],[77,27,67,25],[77,29,67,27,"d"],[77,30,67,28],[77,31,67,29,"U"],[77,32,67,30],[77,34,67,32,"d"],[77,35,67,33],[77,36,67,34,"p"],[77,37,67,35],[77,39,67,37],[77,43,67,41],[77,45,67,43,"b"],[77,46,67,44],[77,47,67,45],[78,6,68,4],[78,7,68,5],[79,6,69,4],[79,52,69,50],[79,54,69,52],[79,63,69,61,"SparseMatrix_Array__Matrix_number_number"],[79,103,69,101,"SparseMatrix_Array__Matrix_number_number"],[79,104,69,102,"a"],[79,105,69,103],[79,107,69,105,"b"],[79,108,69,106],[79,110,69,108,"order"],[79,115,69,113],[79,117,69,115,"threshold"],[79,126,69,124],[79,128,69,126],[80,8,70,6],[80,12,70,10,"d"],[80,13,70,11],[80,16,70,14,"slu"],[80,19,70,17],[80,20,70,18,"a"],[80,21,70,19],[80,23,70,21,"order"],[80,28,70,26],[80,30,70,28,"threshold"],[80,39,70,37],[80,40,70,38],[81,8,71,6],[81,15,71,13,"_lusolve"],[81,23,71,21],[81,24,71,22,"d"],[81,25,71,23],[81,26,71,24,"L"],[81,27,71,25],[81,29,71,27,"d"],[81,30,71,28],[81,31,71,29,"U"],[81,32,71,30],[81,34,71,32,"d"],[81,35,71,33],[81,36,71,34,"p"],[81,37,71,35],[81,39,71,37,"d"],[81,40,71,38],[81,41,71,39,"q"],[81,42,71,40],[81,44,71,42,"b"],[81,45,71,43],[81,46,71,44],[82,6,72,4],[82,7,72,5],[83,6,73,4],[83,30,73,28],[83,32,73,30],[83,41,73,39,"Object_Array__Matrix"],[83,61,73,59,"Object_Array__Matrix"],[83,62,73,60,"d"],[83,63,73,61],[83,65,73,63,"b"],[83,66,73,64],[83,68,73,66],[84,8,74,6],[84,15,74,13,"_lusolve"],[84,23,74,21],[84,24,74,22,"d"],[84,25,74,23],[84,26,74,24,"L"],[84,27,74,25],[84,29,74,27,"d"],[84,30,74,28],[84,31,74,29,"U"],[84,32,74,30],[84,34,74,32,"d"],[84,35,74,33],[84,36,74,34,"p"],[84,37,74,35],[84,39,74,37,"d"],[84,40,74,38],[84,41,74,39,"q"],[84,42,74,40],[84,44,74,42,"b"],[84,45,74,43],[84,46,74,44],[85,6,75,4],[86,4,76,2],[86,5,76,3],[86,6,76,4],[87,4,77,2],[87,13,77,11,"_toMatrix"],[87,22,77,20,"_toMatrix"],[87,23,77,21,"a"],[87,24,77,22],[87,26,77,24],[88,6,78,4],[88,10,78,8],[88,14,78,8,"isMatrix"],[88,24,78,16],[88,25,78,16,"isMatrix"],[88,33,78,16],[88,35,78,17,"a"],[88,36,78,18],[88,37,78,19],[88,39,78,21],[89,8,79,6],[89,15,79,13,"a"],[89,16,79,14],[90,6,80,4],[91,6,81,4],[91,10,81,8],[91,14,81,8,"isArray"],[91,24,81,15],[91,25,81,15,"isArray"],[91,32,81,15],[91,34,81,16,"a"],[91,35,81,17],[91,36,81,18],[91,38,81,20],[92,8,82,6],[92,15,82,13,"matrix"],[92,21,82,19],[92,22,82,20,"a"],[92,23,82,21],[92,24,82,22],[93,6,83,4],[94,6,84,4],[94,12,84,10],[94,16,84,14,"TypeError"],[94,25,84,23],[94,26,84,24],[94,59,84,57],[94,60,84,58],[95,4,85,2],[96,4,86,2],[96,13,86,11,"_lusolve"],[96,21,86,19,"_lusolve"],[96,22,86,20,"l"],[96,23,86,21],[96,25,86,23,"u"],[96,26,86,24],[96,28,86,26,"p"],[96,29,86,27],[96,31,86,29,"q"],[96,32,86,30],[96,34,86,32,"b"],[96,35,86,33],[96,37,86,35],[97,6,87,4],[98,6,88,4,"l"],[98,7,88,5],[98,10,88,8,"_toMatrix"],[98,19,88,17],[98,20,88,18,"l"],[98,21,88,19],[98,22,88,20],[99,6,89,4,"u"],[99,7,89,5],[99,10,89,8,"_toMatrix"],[99,19,89,17],[99,20,89,18,"u"],[99,21,89,19],[99,22,89,20],[101,6,91,4],[102,6,92,4],[102,10,92,8,"p"],[102,11,92,9],[102,13,92,11],[103,8,93,6,"b"],[103,9,93,7],[103,12,93,10,"solveValidation"],[103,27,93,25],[103,28,93,26,"l"],[103,29,93,27],[103,31,93,29,"b"],[103,32,93,30],[103,34,93,32],[103,38,93,36],[103,39,93,37],[104,8,94,6,"b"],[104,9,94,7],[104,10,94,8,"_data"],[104,15,94,13],[104,18,94,16],[104,22,94,16,"csIpvec"],[104,38,94,23],[104,39,94,23,"csIpvec"],[104,46,94,23],[104,48,94,24,"p"],[104,49,94,25],[104,51,94,27,"b"],[104,52,94,28],[104,53,94,29,"_data"],[104,58,94,34],[104,59,94,35],[105,6,95,4],[107,6,97,4],[108,6,98,4],[108,10,98,8,"y"],[108,11,98,9],[108,14,98,12,"lsolve"],[108,20,98,18],[108,21,98,19,"l"],[108,22,98,20],[108,24,98,22,"b"],[108,25,98,23],[108,26,98,24],[109,6,99,4],[110,6,100,4],[110,10,100,8,"x"],[110,11,100,9],[110,14,100,12,"usolve"],[110,20,100,18],[110,21,100,19,"u"],[110,22,100,20],[110,24,100,22,"y"],[110,25,100,23],[110,26,100,24],[112,6,102,4],[113,6,103,4],[113,10,103,8,"q"],[113,11,103,9],[113,13,103,11],[114,8,104,6,"x"],[114,9,104,7],[114,10,104,8,"_data"],[114,15,104,13],[114,18,104,16],[114,22,104,16,"csIpvec"],[114,38,104,23],[114,39,104,23,"csIpvec"],[114,46,104,23],[114,48,104,24,"q"],[114,49,104,25],[114,51,104,27,"x"],[114,52,104,28],[114,53,104,29,"_data"],[114,58,104,34],[114,59,104,35],[115,6,105,4],[116,6,106,4],[116,13,106,11,"x"],[116,14,106,12],[117,4,107,2],[118,2,108,0],[118,3,108,1],[118,4,108,2],[119,0,108,3],[119,3]],"functionMap":{"names":["<global>","factory$argument_2","Array_Array__Matrix","DenseMatrix_Array__Matrix","SparseMatrix_Array__Matrix","SparseMatrix_Array__Matrix_number_number","Object_Array__Matrix","_toMatrix","_lusolve"],"mappings":"AAA;sECM;6BCgD;KDK;mCEC;KFG;oCGC;KHG;oDIC;KJG;8BKC;KLE;EME;GNQ;EOC;GPqB;CDC"},"hasCjsExports":false},"type":"js/module"}]}