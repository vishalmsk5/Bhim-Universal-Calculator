{"dependencies":[{"name":"../../../utils/number.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":53,"index":53}}],"key":"bVzHnG+KOdGedtjhAOcCU1n2wYE=","exportNames":["*"],"imports":1}},{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":54},"end":{"line":2,"column":52,"index":106}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}},{"name":"../sparse/csSqr.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":107},"end":{"line":3,"column":49,"index":156}}],"key":"uU24GEV0ylgex9xsHq0wWDFabRs=","exportNames":["*"],"imports":1}},{"name":"../sparse/csLu.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":157},"end":{"line":4,"column":47,"index":204}}],"key":"GFK3i3yVXFlFVuF+2narc0K28TE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createSlu\", {\n    enumerable: true,\n    get: function () {\n      return createSlu;\n    }\n  });\n  var _utilsNumberJs = require(_dependencyMap[0], \"../../../utils/number.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../../utils/factory.js\");\n  var _sparseCsSqrJs = require(_dependencyMap[2], \"../sparse/csSqr.js\");\n  var _sparseCsLuJs = require(_dependencyMap[3], \"../sparse/csLu.js\");\n  var name = 'slu';\n  var dependencies = ['typed', 'abs', 'add', 'multiply', 'transpose', 'divideScalar', 'subtract', 'larger', 'largerEq', 'SparseMatrix'];\n  var createSlu = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      abs = _ref.abs,\n      add = _ref.add,\n      multiply = _ref.multiply,\n      transpose = _ref.transpose,\n      divideScalar = _ref.divideScalar,\n      subtract = _ref.subtract,\n      larger = _ref.larger,\n      largerEq = _ref.largerEq,\n      SparseMatrix = _ref.SparseMatrix;\n    var csSqr = (0, _sparseCsSqrJs.createCsSqr)({\n      add,\n      multiply,\n      transpose\n    });\n    var csLu = (0, _sparseCsLuJs.createCsLu)({\n      abs,\n      divideScalar,\n      multiply,\n      subtract,\n      larger,\n      largerEq,\n      SparseMatrix\n    });\n\n    /**\n     * Calculate the Sparse Matrix LU decomposition with full pivoting. Sparse Matrix `A` is decomposed in two matrices (`L`, `U`) and two permutation vectors (`pinv`, `q`) where\n     *\n     * `P * A * Q = L * U`\n     *\n     * Syntax:\n     *\n     *    math.slu(A, order, threshold)\n     *\n     * Examples:\n     *\n     *    const A = math.sparse([[4,3], [6, 3]])\n     *    math.slu(A, 1, 0.001)\n     *    // returns:\n     *    // {\n     *    //   L: [[1, 0], [1.5, 1]]\n     *    //   U: [[4, 3], [0, -1.5]]\n     *    //   p: [0, 1]\n     *    //   q: [0, 1]\n     *    // }\n     *\n     * See also:\n     *\n     *    lup, lsolve, usolve, lusolve\n     *\n     * @param {SparseMatrix} A              A two dimensional sparse matrix for which to get the LU decomposition.\n     * @param {Number}       order          The Symbolic Ordering and Analysis order:\n     *                                       0 - Natural ordering, no permutation vector q is returned\n     *                                       1 - Matrix must be square, symbolic ordering and analisis is performed on M = A + A'\n     *                                       2 - Symbolic ordering and analisis is performed on M = A' * A. Dense columns from A' are dropped, A recreated from A'.\n     *                                           This is appropriatefor LU factorization of unsymmetric matrices.\n     *                                       3 - Symbolic ordering and analisis is performed on M = A' * A. This is best used for LU factorization is matrix M has no dense rows.\n     *                                           A dense row is a row with more than 10*sqr(columns) entries.\n     * @param {Number}       threshold       Partial pivoting threshold (1 for partial pivoting)\n     *\n     * @return {Object} The lower triangular matrix, the upper triangular matrix and the permutation vectors.\n     */\n    return typed(name, {\n      'SparseMatrix, number, number': function SparseMatrix_number_number(a, order, threshold) {\n        // verify order\n        if (!(0, _utilsNumberJs.isInteger)(order) || order < 0 || order > 3) {\n          throw new Error('Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]');\n        }\n        // verify threshold\n        if (threshold < 0 || threshold > 1) {\n          throw new Error('Partial pivoting threshold must be a number from 0 to 1');\n        }\n\n        // perform symbolic ordering and analysis\n        var s = csSqr(order, a, false);\n\n        // perform lu decomposition\n        var f = csLu(a, s, threshold);\n\n        // return decomposition\n        return {\n          L: f.L,\n          U: f.U,\n          p: f.pinv,\n          q: s.q,\n          toString: function toString() {\n            return 'L: ' + this.L.toString() + '\\nU: ' + this.U.toString() + '\\np: ' + this.p.toString() + (this.q ? '\\nq: ' + this.q.toString() : '') + '\\n';\n          }\n        };\n      }\n    });\n  });\n});","lineCount":112,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"createSlu"],[10,22,7,0],[11,4,7,0],[12,2,7,0],[13,2,1,0],[13,6,1,0,"_utilsNumberJs"],[13,20,1,0],[13,23,1,0,"require"],[13,30,1,0],[13,31,1,0,"_dependencyMap"],[13,45,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,0,"_sparseCsSqrJs"],[15,20,3,0],[15,23,3,0,"require"],[15,30,3,0],[15,31,3,0,"_dependencyMap"],[15,45,3,0],[16,2,4,0],[16,6,4,0,"_sparseCsLuJs"],[16,19,4,0],[16,22,4,0,"require"],[16,29,4,0],[16,30,4,0,"_dependencyMap"],[16,44,4,0],[17,2,5,0],[17,6,5,4,"name"],[17,10,5,8],[17,13,5,11],[17,18,5,16],[18,2,6,0],[18,6,6,4,"dependencies"],[18,18,6,16],[18,21,6,19],[18,22,6,20],[18,29,6,27],[18,31,6,29],[18,36,6,34],[18,38,6,36],[18,43,6,41],[18,45,6,43],[18,55,6,53],[18,57,6,55],[18,68,6,66],[18,70,6,68],[18,84,6,82],[18,86,6,84],[18,96,6,94],[18,98,6,96],[18,106,6,104],[18,108,6,106],[18,118,6,116],[18,120,6,118],[18,134,6,132],[18,135,6,133],[19,2,7,7],[19,6,7,11,"createSlu"],[19,15,7,20],[19,18,7,23],[19,33,7,38],[19,37,7,38,"factory"],[19,52,7,45],[19,53,7,45,"factory"],[19,60,7,45],[19,62,7,46,"name"],[19,66,7,50],[19,68,7,52,"dependencies"],[19,80,7,64],[19,82,7,66,"_ref"],[19,86,7,70],[19,90,7,74],[20,4,8,2],[20,8,9,4,"typed"],[20,13,9,9],[20,16,19,6,"_ref"],[20,20,19,10],[20,21,9,4,"typed"],[20,26,9,9],[21,6,10,4,"abs"],[21,9,10,7],[21,12,19,6,"_ref"],[21,16,19,10],[21,17,10,4,"abs"],[21,20,10,7],[22,6,11,4,"add"],[22,9,11,7],[22,12,19,6,"_ref"],[22,16,19,10],[22,17,11,4,"add"],[22,20,11,7],[23,6,12,4,"multiply"],[23,14,12,12],[23,17,19,6,"_ref"],[23,21,19,10],[23,22,12,4,"multiply"],[23,30,12,12],[24,6,13,4,"transpose"],[24,15,13,13],[24,18,19,6,"_ref"],[24,22,19,10],[24,23,13,4,"transpose"],[24,32,13,13],[25,6,14,4,"divideScalar"],[25,18,14,16],[25,21,19,6,"_ref"],[25,25,19,10],[25,26,14,4,"divideScalar"],[25,38,14,16],[26,6,15,4,"subtract"],[26,14,15,12],[26,17,19,6,"_ref"],[26,21,19,10],[26,22,15,4,"subtract"],[26,30,15,12],[27,6,16,4,"larger"],[27,12,16,10],[27,15,19,6,"_ref"],[27,19,19,10],[27,20,16,4,"larger"],[27,26,16,10],[28,6,17,4,"largerEq"],[28,14,17,12],[28,17,19,6,"_ref"],[28,21,19,10],[28,22,17,4,"largerEq"],[28,30,17,12],[29,6,18,4,"SparseMatrix"],[29,18,18,16],[29,21,19,6,"_ref"],[29,25,19,10],[29,26,18,4,"SparseMatrix"],[29,38,18,16],[30,4,20,2],[30,8,20,6,"csSqr"],[30,13,20,11],[30,16,20,14],[30,20,20,14,"createCsSqr"],[30,34,20,25],[30,35,20,25,"createCsSqr"],[30,46,20,25],[30,48,20,26],[31,6,21,4,"add"],[31,9,21,7],[32,6,22,4,"multiply"],[32,14,22,12],[33,6,23,4,"transpose"],[34,4,24,2],[34,5,24,3],[34,6,24,4],[35,4,25,2],[35,8,25,6,"csLu"],[35,12,25,10],[35,15,25,13],[35,19,25,13,"createCsLu"],[35,32,25,23],[35,33,25,23,"createCsLu"],[35,43,25,23],[35,45,25,24],[36,6,26,4,"abs"],[36,9,26,7],[37,6,27,4,"divideScalar"],[37,18,27,16],[38,6,28,4,"multiply"],[38,14,28,12],[39,6,29,4,"subtract"],[39,14,29,12],[40,6,30,4,"larger"],[40,12,30,10],[41,6,31,4,"largerEq"],[41,14,31,12],[42,6,32,4,"SparseMatrix"],[43,4,33,2],[43,5,33,3],[43,6,33,4],[45,4,35,2],[46,0,36,0],[47,0,37,0],[48,0,38,0],[49,0,39,0],[50,0,40,0],[51,0,41,0],[52,0,42,0],[53,0,43,0],[54,0,44,0],[55,0,45,0],[56,0,46,0],[57,0,47,0],[58,0,48,0],[59,0,49,0],[60,0,50,0],[61,0,51,0],[62,0,52,0],[63,0,53,0],[64,0,54,0],[65,0,55,0],[66,0,56,0],[67,0,57,0],[68,0,58,0],[69,0,59,0],[70,0,60,0],[71,0,61,0],[72,0,62,0],[73,0,63,0],[74,0,64,0],[75,0,65,0],[76,0,66,0],[77,0,67,0],[78,0,68,0],[79,0,69,0],[80,0,70,0],[81,0,71,0],[82,4,72,2],[82,11,72,9,"typed"],[82,16,72,14],[82,17,72,15,"name"],[82,21,72,19],[82,23,72,21],[83,6,73,4],[83,36,73,34],[83,38,73,36],[83,47,73,45,"SparseMatrix_number_number"],[83,73,73,71,"SparseMatrix_number_number"],[83,74,73,72,"a"],[83,75,73,73],[83,77,73,75,"order"],[83,82,73,80],[83,84,73,82,"threshold"],[83,93,73,91],[83,95,73,93],[84,8,74,6],[85,8,75,6],[85,12,75,10],[85,13,75,11],[85,17,75,11,"isInteger"],[85,31,75,20],[85,32,75,20,"isInteger"],[85,41,75,20],[85,43,75,21,"order"],[85,48,75,26],[85,49,75,27],[85,53,75,31,"order"],[85,58,75,36],[85,61,75,39],[85,62,75,40],[85,66,75,44,"order"],[85,71,75,49],[85,74,75,52],[85,75,75,53],[85,77,75,55],[86,10,76,8],[86,16,76,14],[86,20,76,18,"Error"],[86,25,76,23],[86,26,76,24],[86,113,76,111],[86,114,76,112],[87,8,77,6],[88,8,78,6],[89,8,79,6],[89,12,79,10,"threshold"],[89,21,79,19],[89,24,79,22],[89,25,79,23],[89,29,79,27,"threshold"],[89,38,79,36],[89,41,79,39],[89,42,79,40],[89,44,79,42],[90,10,80,8],[90,16,80,14],[90,20,80,18,"Error"],[90,25,80,23],[90,26,80,24],[90,83,80,81],[90,84,80,82],[91,8,81,6],[93,8,83,6],[94,8,84,6],[94,12,84,10,"s"],[94,13,84,11],[94,16,84,14,"csSqr"],[94,21,84,19],[94,22,84,20,"order"],[94,27,84,25],[94,29,84,27,"a"],[94,30,84,28],[94,32,84,30],[94,37,84,35],[94,38,84,36],[96,8,86,6],[97,8,87,6],[97,12,87,10,"f"],[97,13,87,11],[97,16,87,14,"csLu"],[97,20,87,18],[97,21,87,19,"a"],[97,22,87,20],[97,24,87,22,"s"],[97,25,87,23],[97,27,87,25,"threshold"],[97,36,87,34],[97,37,87,35],[99,8,89,6],[100,8,90,6],[100,15,90,13],[101,10,91,8,"L"],[101,11,91,9],[101,13,91,11,"f"],[101,14,91,12],[101,15,91,13,"L"],[101,16,91,14],[102,10,92,8,"U"],[102,11,92,9],[102,13,92,11,"f"],[102,14,92,12],[102,15,92,13,"U"],[102,16,92,14],[103,10,93,8,"p"],[103,11,93,9],[103,13,93,11,"f"],[103,14,93,12],[103,15,93,13,"pinv"],[103,19,93,17],[104,10,94,8,"q"],[104,11,94,9],[104,13,94,11,"s"],[104,14,94,12],[104,15,94,13,"q"],[104,16,94,14],[105,10,95,8,"toString"],[105,18,95,16],[105,20,95,18],[105,29,95,27,"toString"],[105,37,95,35,"toString"],[105,38,95,35],[105,40,95,38],[106,12,96,10],[106,19,96,17],[106,24,96,22],[106,27,96,25],[106,31,96,29],[106,32,96,30,"L"],[106,33,96,31],[106,34,96,32,"toString"],[106,42,96,40],[106,43,96,41],[106,44,96,42],[106,47,96,45],[106,54,96,52],[106,57,96,55],[106,61,96,59],[106,62,96,60,"U"],[106,63,96,61],[106,64,96,62,"toString"],[106,72,96,70],[106,73,96,71],[106,74,96,72],[106,77,96,75],[106,84,96,82],[106,87,96,85],[106,91,96,89],[106,92,96,90,"p"],[106,93,96,91],[106,94,96,92,"toString"],[106,102,96,100],[106,103,96,101],[106,104,96,102],[106,108,96,106],[106,112,96,110],[106,113,96,111,"q"],[106,114,96,112],[106,117,96,115],[106,124,96,122],[106,127,96,125],[106,131,96,129],[106,132,96,130,"q"],[106,133,96,131],[106,134,96,132,"toString"],[106,142,96,140],[106,143,96,141],[106,144,96,142],[106,147,96,145],[106,149,96,147],[106,150,96,148],[106,153,96,151],[106,157,96,155],[107,10,97,8],[108,8,98,6],[108,9,98,7],[109,6,99,4],[110,4,100,2],[110,5,100,3],[110,6,100,4],[111,2,101,0],[111,3,101,1],[111,4,101,2],[112,0,101,3],[112,3]],"functionMap":{"names":["<global>","factory$argument_2","SparseMatrix_number_number","toString"],"mappings":"AAA;kECM;oCCkE;kBCsB;SDE;KDE;CDE"},"hasCjsExports":false},"type":"js/module"}]}