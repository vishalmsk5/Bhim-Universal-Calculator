{"dependencies":[{"name":"../../../utils/number.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":53,"index":53}}],"key":"bVzHnG+KOdGedtjhAOcCU1n2wYE=","exportNames":["*"],"imports":1}},{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":54},"end":{"line":2,"column":52,"index":106}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}},{"name":"../sparse/csSqr.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":107},"end":{"line":3,"column":49,"index":156}}],"key":"uU24GEV0ylgex9xsHq0wWDFabRs=","exportNames":["*"],"imports":1}},{"name":"../sparse/csLu.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":157},"end":{"line":4,"column":47,"index":204}}],"key":"GFK3i3yVXFlFVuF+2narc0K28TE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createSlu\", {\n    enumerable: true,\n    get: function () {\n      return createSlu;\n    }\n  });\n  var _utilsNumberJs = require(_dependencyMap[0], \"../../../utils/number.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../../utils/factory.js\");\n  var _sparseCsSqrJs = require(_dependencyMap[2], \"../sparse/csSqr.js\");\n  var _sparseCsLuJs = require(_dependencyMap[3], \"../sparse/csLu.js\");\n  var name = 'slu';\n  var dependencies = ['typed', 'abs', 'add', 'multiply', 'transpose', 'divideScalar', 'subtract', 'larger', 'largerEq', 'SparseMatrix'];\n  var createSlu = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      abs,\n      add,\n      multiply,\n      transpose,\n      divideScalar,\n      subtract,\n      larger,\n      largerEq,\n      SparseMatrix\n    } = _ref;\n    var csSqr = (0, _sparseCsSqrJs.createCsSqr)({\n      add,\n      multiply,\n      transpose\n    });\n    var csLu = (0, _sparseCsLuJs.createCsLu)({\n      abs,\n      divideScalar,\n      multiply,\n      subtract,\n      larger,\n      largerEq,\n      SparseMatrix\n    });\n\n    /**\n     * Calculate the Sparse Matrix LU decomposition with full pivoting. Sparse Matrix `A` is decomposed in two matrices (`L`, `U`) and two permutation vectors (`pinv`, `q`) where\n     *\n     * `P * A * Q = L * U`\n     *\n     * Syntax:\n     *\n     *    math.slu(A, order, threshold)\n     *\n     * Examples:\n     *\n     *    const A = math.sparse([[4,3], [6, 3]])\n     *    math.slu(A, 1, 0.001)\n     *    // returns:\n     *    // {\n     *    //   L: [[1, 0], [1.5, 1]]\n     *    //   U: [[4, 3], [0, -1.5]]\n     *    //   p: [0, 1]\n     *    //   q: [0, 1]\n     *    // }\n     *\n     * See also:\n     *\n     *    lup, lsolve, usolve, lusolve\n     *\n     * @param {SparseMatrix} A              A two dimensional sparse matrix for which to get the LU decomposition.\n     * @param {Number}       order          The Symbolic Ordering and Analysis order:\n     *                                       0 - Natural ordering, no permutation vector q is returned\n     *                                       1 - Matrix must be square, symbolic ordering and analisis is performed on M = A + A'\n     *                                       2 - Symbolic ordering and analisis is performed on M = A' * A. Dense columns from A' are dropped, A recreated from A'.\n     *                                           This is appropriatefor LU factorization of unsymmetric matrices.\n     *                                       3 - Symbolic ordering and analisis is performed on M = A' * A. This is best used for LU factorization is matrix M has no dense rows.\n     *                                           A dense row is a row with more than 10*sqr(columns) entries.\n     * @param {Number}       threshold       Partial pivoting threshold (1 for partial pivoting)\n     *\n     * @return {Object} The lower triangular matrix, the upper triangular matrix and the permutation vectors.\n     */\n    return typed(name, {\n      'SparseMatrix, number, number': function SparseMatrix_number_number(a, order, threshold) {\n        // verify order\n        if (!(0, _utilsNumberJs.isInteger)(order) || order < 0 || order > 3) {\n          throw new Error('Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]');\n        }\n        // verify threshold\n        if (threshold < 0 || threshold > 1) {\n          throw new Error('Partial pivoting threshold must be a number from 0 to 1');\n        }\n\n        // perform symbolic ordering and analysis\n        var s = csSqr(order, a, false);\n\n        // perform lu decomposition\n        var f = csLu(a, s, threshold);\n\n        // return decomposition\n        return {\n          L: f.L,\n          U: f.U,\n          p: f.pinv,\n          q: s.q,\n          toString: function toString() {\n            return 'L: ' + this.L.toString() + '\\nU: ' + this.U.toString() + '\\np: ' + this.p.toString() + (this.q ? '\\nq: ' + this.q.toString() : '') + '\\n';\n          }\n        };\n      }\n    });\n  });\n});","lineCount":114,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"createSlu"],[10,22,7,0],[11,4,7,0],[12,2,7,0],[13,2,1,0],[13,6,1,0,"_utilsNumberJs"],[13,20,1,0],[13,23,1,0,"require"],[13,30,1,0],[13,31,1,0,"_dependencyMap"],[13,45,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,0,"_sparseCsSqrJs"],[15,20,3,0],[15,23,3,0,"require"],[15,30,3,0],[15,31,3,0,"_dependencyMap"],[15,45,3,0],[16,2,4,0],[16,6,4,0,"_sparseCsLuJs"],[16,19,4,0],[16,22,4,0,"require"],[16,29,4,0],[16,30,4,0,"_dependencyMap"],[16,44,4,0],[17,2,5,0],[17,6,5,4,"name"],[17,10,5,8],[17,13,5,11],[17,18,5,16],[18,2,6,0],[18,6,6,4,"dependencies"],[18,18,6,16],[18,21,6,19],[18,22,6,20],[18,29,6,27],[18,31,6,29],[18,36,6,34],[18,38,6,36],[18,43,6,41],[18,45,6,43],[18,55,6,53],[18,57,6,55],[18,68,6,66],[18,70,6,68],[18,84,6,82],[18,86,6,84],[18,96,6,94],[18,98,6,96],[18,106,6,104],[18,108,6,106],[18,118,6,116],[18,120,6,118],[18,134,6,132],[18,135,6,133],[19,2,7,7],[19,6,7,11,"createSlu"],[19,15,7,20],[19,18,7,23],[19,33,7,38],[19,37,7,38,"factory"],[19,52,7,45],[19,53,7,45,"factory"],[19,60,7,45],[19,62,7,46,"name"],[19,66,7,50],[19,68,7,52,"dependencies"],[19,80,7,64],[19,82,7,66,"_ref"],[19,86,7,70],[19,90,7,74],[20,4,8,2],[20,8,8,6],[21,6,9,4,"typed"],[21,11,9,9],[22,6,10,4,"abs"],[22,9,10,7],[23,6,11,4,"add"],[23,9,11,7],[24,6,12,4,"multiply"],[24,14,12,12],[25,6,13,4,"transpose"],[25,15,13,13],[26,6,14,4,"divideScalar"],[26,18,14,16],[27,6,15,4,"subtract"],[27,14,15,12],[28,6,16,4,"larger"],[28,12,16,10],[29,6,17,4,"largerEq"],[29,14,17,12],[30,6,18,4,"SparseMatrix"],[31,4,19,2],[31,5,19,3],[31,8,19,6,"_ref"],[31,12,19,10],[32,4,20,2],[32,8,20,6,"csSqr"],[32,13,20,11],[32,16,20,14],[32,20,20,14,"createCsSqr"],[32,34,20,25],[32,35,20,25,"createCsSqr"],[32,46,20,25],[32,48,20,26],[33,6,21,4,"add"],[33,9,21,7],[34,6,22,4,"multiply"],[34,14,22,12],[35,6,23,4,"transpose"],[36,4,24,2],[36,5,24,3],[36,6,24,4],[37,4,25,2],[37,8,25,6,"csLu"],[37,12,25,10],[37,15,25,13],[37,19,25,13,"createCsLu"],[37,32,25,23],[37,33,25,23,"createCsLu"],[37,43,25,23],[37,45,25,24],[38,6,26,4,"abs"],[38,9,26,7],[39,6,27,4,"divideScalar"],[39,18,27,16],[40,6,28,4,"multiply"],[40,14,28,12],[41,6,29,4,"subtract"],[41,14,29,12],[42,6,30,4,"larger"],[42,12,30,10],[43,6,31,4,"largerEq"],[43,14,31,12],[44,6,32,4,"SparseMatrix"],[45,4,33,2],[45,5,33,3],[45,6,33,4],[47,4,35,2],[48,0,36,0],[49,0,37,0],[50,0,38,0],[51,0,39,0],[52,0,40,0],[53,0,41,0],[54,0,42,0],[55,0,43,0],[56,0,44,0],[57,0,45,0],[58,0,46,0],[59,0,47,0],[60,0,48,0],[61,0,49,0],[62,0,50,0],[63,0,51,0],[64,0,52,0],[65,0,53,0],[66,0,54,0],[67,0,55,0],[68,0,56,0],[69,0,57,0],[70,0,58,0],[71,0,59,0],[72,0,60,0],[73,0,61,0],[74,0,62,0],[75,0,63,0],[76,0,64,0],[77,0,65,0],[78,0,66,0],[79,0,67,0],[80,0,68,0],[81,0,69,0],[82,0,70,0],[83,0,71,0],[84,4,72,2],[84,11,72,9,"typed"],[84,16,72,14],[84,17,72,15,"name"],[84,21,72,19],[84,23,72,21],[85,6,73,4],[85,36,73,34],[85,38,73,36],[85,47,73,45,"SparseMatrix_number_number"],[85,73,73,71,"SparseMatrix_number_number"],[85,74,73,72,"a"],[85,75,73,73],[85,77,73,75,"order"],[85,82,73,80],[85,84,73,82,"threshold"],[85,93,73,91],[85,95,73,93],[86,8,74,6],[87,8,75,6],[87,12,75,10],[87,13,75,11],[87,17,75,11,"isInteger"],[87,31,75,20],[87,32,75,20,"isInteger"],[87,41,75,20],[87,43,75,21,"order"],[87,48,75,26],[87,49,75,27],[87,53,75,31,"order"],[87,58,75,36],[87,61,75,39],[87,62,75,40],[87,66,75,44,"order"],[87,71,75,49],[87,74,75,52],[87,75,75,53],[87,77,75,55],[88,10,76,8],[88,16,76,14],[88,20,76,18,"Error"],[88,25,76,23],[88,26,76,24],[88,113,76,111],[88,114,76,112],[89,8,77,6],[90,8,78,6],[91,8,79,6],[91,12,79,10,"threshold"],[91,21,79,19],[91,24,79,22],[91,25,79,23],[91,29,79,27,"threshold"],[91,38,79,36],[91,41,79,39],[91,42,79,40],[91,44,79,42],[92,10,80,8],[92,16,80,14],[92,20,80,18,"Error"],[92,25,80,23],[92,26,80,24],[92,83,80,81],[92,84,80,82],[93,8,81,6],[95,8,83,6],[96,8,84,6],[96,12,84,10,"s"],[96,13,84,11],[96,16,84,14,"csSqr"],[96,21,84,19],[96,22,84,20,"order"],[96,27,84,25],[96,29,84,27,"a"],[96,30,84,28],[96,32,84,30],[96,37,84,35],[96,38,84,36],[98,8,86,6],[99,8,87,6],[99,12,87,10,"f"],[99,13,87,11],[99,16,87,14,"csLu"],[99,20,87,18],[99,21,87,19,"a"],[99,22,87,20],[99,24,87,22,"s"],[99,25,87,23],[99,27,87,25,"threshold"],[99,36,87,34],[99,37,87,35],[101,8,89,6],[102,8,90,6],[102,15,90,13],[103,10,91,8,"L"],[103,11,91,9],[103,13,91,11,"f"],[103,14,91,12],[103,15,91,13,"L"],[103,16,91,14],[104,10,92,8,"U"],[104,11,92,9],[104,13,92,11,"f"],[104,14,92,12],[104,15,92,13,"U"],[104,16,92,14],[105,10,93,8,"p"],[105,11,93,9],[105,13,93,11,"f"],[105,14,93,12],[105,15,93,13,"pinv"],[105,19,93,17],[106,10,94,8,"q"],[106,11,94,9],[106,13,94,11,"s"],[106,14,94,12],[106,15,94,13,"q"],[106,16,94,14],[107,10,95,8,"toString"],[107,18,95,16],[107,20,95,18],[107,29,95,27,"toString"],[107,37,95,35,"toString"],[107,38,95,35],[107,40,95,38],[108,12,96,10],[108,19,96,17],[108,24,96,22],[108,27,96,25],[108,31,96,29],[108,32,96,30,"L"],[108,33,96,31],[108,34,96,32,"toString"],[108,42,96,40],[108,43,96,41],[108,44,96,42],[108,47,96,45],[108,54,96,52],[108,57,96,55],[108,61,96,59],[108,62,96,60,"U"],[108,63,96,61],[108,64,96,62,"toString"],[108,72,96,70],[108,73,96,71],[108,74,96,72],[108,77,96,75],[108,84,96,82],[108,87,96,85],[108,91,96,89],[108,92,96,90,"p"],[108,93,96,91],[108,94,96,92,"toString"],[108,102,96,100],[108,103,96,101],[108,104,96,102],[108,108,96,106],[108,112,96,110],[108,113,96,111,"q"],[108,114,96,112],[108,117,96,115],[108,124,96,122],[108,127,96,125],[108,131,96,129],[108,132,96,130,"q"],[108,133,96,131],[108,134,96,132,"toString"],[108,142,96,140],[108,143,96,141],[108,144,96,142],[108,147,96,145],[108,149,96,147],[108,150,96,148],[108,153,96,151],[108,157,96,155],[109,10,97,8],[110,8,98,6],[110,9,98,7],[111,6,99,4],[112,4,100,2],[112,5,100,3],[112,6,100,4],[113,2,101,0],[113,3,101,1],[113,4,101,2],[114,0,101,3],[114,3]],"functionMap":{"names":["<global>","factory$argument_2","SparseMatrix_number_number","toString"],"mappings":"AAA;kECM;oCCkE;kBCsB;SDE;KDE;CDE"},"hasCjsExports":false},"type":"js/module"}]}