{"dependencies":[{"name":"../../../utils/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"IWFnddAqEi1P6QBS4T+IMjXUKog=","exportNames":["*"],"imports":1}},{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":52,"index":110}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}},{"name":"./utils/solveValidation.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":67,"index":178}}],"key":"VsBNAO9EUeO8uCXDyPi56CbhaFk=","exportNames":["*"],"imports":1}},{"name":"../sparse/csIpvec.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":179},"end":{"line":4,"column":47,"index":226}}],"key":"vecEE6CCMaI63x0UpBxxF0pnCLE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createLusolve\", {\n    enumerable: true,\n    get: function () {\n      return createLusolve;\n    }\n  });\n  var _utilsIsJs = require(_dependencyMap[0], \"../../../utils/is.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../../utils/factory.js\");\n  var _utilsSolveValidationJs = require(_dependencyMap[2], \"./utils/solveValidation.js\");\n  var _sparseCsIpvecJs = require(_dependencyMap[3], \"../sparse/csIpvec.js\");\n  var name = 'lusolve';\n  var dependencies = ['typed', 'matrix', 'lup', 'slu', 'usolve', 'lsolve', 'DenseMatrix'];\n  var createLusolve = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      matrix,\n      lup,\n      slu,\n      usolve,\n      lsolve,\n      DenseMatrix\n    } = _ref;\n    var solveValidation = (0, _utilsSolveValidationJs.createSolveValidation)({\n      DenseMatrix\n    });\n\n    /**\n     * Solves the linear system `A * x = b` where `A` is an [n x n] matrix and `b` is a [n] column vector.\n     *\n     * Syntax:\n     *\n     *    math.lusolve(A, b)     // returns column vector with the solution to the linear system A * x = b\n     *    math.lusolve(lup, b)   // returns column vector with the solution to the linear system A * x = b, lup = math.lup(A)\n     *\n     * Examples:\n     *\n     *    const m = [[1, 0, 0, 0], [0, 2, 0, 0], [0, 0, 3, 0], [0, 0, 0, 4]]\n     *\n     *    const x = math.lusolve(m, [-1, -1, -1, -1])        // x = [[-1], [-0.5], [-1/3], [-0.25]]\n     *\n     *    const f = math.lup(m)\n     *    const x1 = math.lusolve(f, [-1, -1, -1, -1])       // x1 = [[-1], [-0.5], [-1/3], [-0.25]]\n     *    const x2 = math.lusolve(f, [1, 2, 1, -1])          // x2 = [[1], [1], [1/3], [-0.25]]\n     *\n     *    const a = [[-2, 3], [2, 1]]\n     *    const b = [11, 9]\n     *    const x = math.lusolve(a, b)  // [[2], [5]]\n     *\n     * See also:\n     *\n     *    lup, slu, lsolve, usolve\n     *\n     * @param {Matrix | Array | Object} A      Invertible Matrix or the Matrix LU decomposition\n     * @param {Matrix | Array} b               Column Vector\n     * @param {number} [order]                 The Symbolic Ordering and Analysis order, see slu for details. Matrix must be a SparseMatrix\n     * @param {Number} [threshold]             Partial pivoting threshold (1 for partial pivoting), see slu for details. Matrix must be a SparseMatrix.\n     *\n     * @return {DenseMatrix | Array}           Column vector with the solution to the linear system A * x = b\n     */\n    return typed(name, {\n      'Array, Array | Matrix': function Array_Array__Matrix(a, b) {\n        a = matrix(a);\n        var d = lup(a);\n        var x = _lusolve(d.L, d.U, d.p, null, b);\n        return x.valueOf();\n      },\n      'DenseMatrix, Array | Matrix': function DenseMatrix_Array__Matrix(a, b) {\n        var d = lup(a);\n        return _lusolve(d.L, d.U, d.p, null, b);\n      },\n      'SparseMatrix, Array | Matrix': function SparseMatrix_Array__Matrix(a, b) {\n        var d = lup(a);\n        return _lusolve(d.L, d.U, d.p, null, b);\n      },\n      'SparseMatrix, Array | Matrix, number, number': function SparseMatrix_Array__Matrix_number_number(a, b, order, threshold) {\n        var d = slu(a, order, threshold);\n        return _lusolve(d.L, d.U, d.p, d.q, b);\n      },\n      'Object, Array | Matrix': function Object_Array__Matrix(d, b) {\n        return _lusolve(d.L, d.U, d.p, d.q, b);\n      }\n    });\n    function _toMatrix(a) {\n      if ((0, _utilsIsJs.isMatrix)(a)) {\n        return a;\n      }\n      if ((0, _utilsIsJs.isArray)(a)) {\n        return matrix(a);\n      }\n      throw new TypeError('Invalid Matrix LU decomposition');\n    }\n    function _lusolve(l, u, p, q, b) {\n      // verify decomposition\n      l = _toMatrix(l);\n      u = _toMatrix(u);\n\n      // apply row permutations if needed (b is a DenseMatrix)\n      if (p) {\n        b = solveValidation(l, b, true);\n        b._data = (0, _sparseCsIpvecJs.csIpvec)(p, b._data);\n      }\n\n      // use forward substitution to resolve L * y = b\n      var y = lsolve(l, b);\n      // use backward substitution to resolve U * x = y\n      var x = usolve(u, y);\n\n      // apply column permutations if needed (x is a DenseMatrix)\n      if (q) {\n        x._data = (0, _sparseCsIpvecJs.csIpvec)(q, x._data);\n      }\n      return x;\n    }\n  });\n});","lineCount":121,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"createLusolve"],[10,26,7,0],[11,4,7,0],[12,2,7,0],[13,2,1,0],[13,6,1,0,"_utilsIsJs"],[13,16,1,0],[13,19,1,0,"require"],[13,26,1,0],[13,27,1,0,"_dependencyMap"],[13,41,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,0,"_utilsSolveValidationJs"],[15,29,3,0],[15,32,3,0,"require"],[15,39,3,0],[15,40,3,0,"_dependencyMap"],[15,54,3,0],[16,2,4,0],[16,6,4,0,"_sparseCsIpvecJs"],[16,22,4,0],[16,25,4,0,"require"],[16,32,4,0],[16,33,4,0,"_dependencyMap"],[16,47,4,0],[17,2,5,0],[17,6,5,4,"name"],[17,10,5,8],[17,13,5,11],[17,22,5,20],[18,2,6,0],[18,6,6,4,"dependencies"],[18,18,6,16],[18,21,6,19],[18,22,6,20],[18,29,6,27],[18,31,6,29],[18,39,6,37],[18,41,6,39],[18,46,6,44],[18,48,6,46],[18,53,6,51],[18,55,6,53],[18,63,6,61],[18,65,6,63],[18,73,6,71],[18,75,6,73],[18,88,6,86],[18,89,6,87],[19,2,7,7],[19,6,7,11,"createLusolve"],[19,19,7,24],[19,22,7,27],[19,37,7,42],[19,41,7,42,"factory"],[19,56,7,49],[19,57,7,49,"factory"],[19,64,7,49],[19,66,7,50,"name"],[19,70,7,54],[19,72,7,56,"dependencies"],[19,84,7,68],[19,86,7,70,"_ref"],[19,90,7,74],[19,94,7,78],[20,4,8,2],[20,8,8,6],[21,6,9,4,"typed"],[21,11,9,9],[22,6,10,4,"matrix"],[22,12,10,10],[23,6,11,4,"lup"],[23,9,11,7],[24,6,12,4,"slu"],[24,9,12,7],[25,6,13,4,"usolve"],[25,12,13,10],[26,6,14,4,"lsolve"],[26,12,14,10],[27,6,15,4,"DenseMatrix"],[28,4,16,2],[28,5,16,3],[28,8,16,6,"_ref"],[28,12,16,10],[29,4,17,2],[29,8,17,6,"solveValidation"],[29,23,17,21],[29,26,17,24],[29,30,17,24,"createSolveValidation"],[29,53,17,45],[29,54,17,45,"createSolveValidation"],[29,75,17,45],[29,77,17,46],[30,6,18,4,"DenseMatrix"],[31,4,19,2],[31,5,19,3],[31,6,19,4],[33,4,21,2],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,0,33,0],[46,0,34,0],[47,0,35,0],[48,0,36,0],[49,0,37,0],[50,0,38,0],[51,0,39,0],[52,0,40,0],[53,0,41,0],[54,0,42,0],[55,0,43,0],[56,0,44,0],[57,0,45,0],[58,0,46,0],[59,0,47,0],[60,0,48,0],[61,0,49,0],[62,0,50,0],[63,0,51,0],[64,0,52,0],[65,0,53,0],[66,4,54,2],[66,11,54,9,"typed"],[66,16,54,14],[66,17,54,15,"name"],[66,21,54,19],[66,23,54,21],[67,6,55,4],[67,29,55,27],[67,31,55,29],[67,40,55,38,"Array_Array__Matrix"],[67,59,55,57,"Array_Array__Matrix"],[67,60,55,58,"a"],[67,61,55,59],[67,63,55,61,"b"],[67,64,55,62],[67,66,55,64],[68,8,56,6,"a"],[68,9,56,7],[68,12,56,10,"matrix"],[68,18,56,16],[68,19,56,17,"a"],[68,20,56,18],[68,21,56,19],[69,8,57,6],[69,12,57,10,"d"],[69,13,57,11],[69,16,57,14,"lup"],[69,19,57,17],[69,20,57,18,"a"],[69,21,57,19],[69,22,57,20],[70,8,58,6],[70,12,58,10,"x"],[70,13,58,11],[70,16,58,14,"_lusolve"],[70,24,58,22],[70,25,58,23,"d"],[70,26,58,24],[70,27,58,25,"L"],[70,28,58,26],[70,30,58,28,"d"],[70,31,58,29],[70,32,58,30,"U"],[70,33,58,31],[70,35,58,33,"d"],[70,36,58,34],[70,37,58,35,"p"],[70,38,58,36],[70,40,58,38],[70,44,58,42],[70,46,58,44,"b"],[70,47,58,45],[70,48,58,46],[71,8,59,6],[71,15,59,13,"x"],[71,16,59,14],[71,17,59,15,"valueOf"],[71,24,59,22],[71,25,59,23],[71,26,59,24],[72,6,60,4],[72,7,60,5],[73,6,61,4],[73,35,61,33],[73,37,61,35],[73,46,61,44,"DenseMatrix_Array__Matrix"],[73,71,61,69,"DenseMatrix_Array__Matrix"],[73,72,61,70,"a"],[73,73,61,71],[73,75,61,73,"b"],[73,76,61,74],[73,78,61,76],[74,8,62,6],[74,12,62,10,"d"],[74,13,62,11],[74,16,62,14,"lup"],[74,19,62,17],[74,20,62,18,"a"],[74,21,62,19],[74,22,62,20],[75,8,63,6],[75,15,63,13,"_lusolve"],[75,23,63,21],[75,24,63,22,"d"],[75,25,63,23],[75,26,63,24,"L"],[75,27,63,25],[75,29,63,27,"d"],[75,30,63,28],[75,31,63,29,"U"],[75,32,63,30],[75,34,63,32,"d"],[75,35,63,33],[75,36,63,34,"p"],[75,37,63,35],[75,39,63,37],[75,43,63,41],[75,45,63,43,"b"],[75,46,63,44],[75,47,63,45],[76,6,64,4],[76,7,64,5],[77,6,65,4],[77,36,65,34],[77,38,65,36],[77,47,65,45,"SparseMatrix_Array__Matrix"],[77,73,65,71,"SparseMatrix_Array__Matrix"],[77,74,65,72,"a"],[77,75,65,73],[77,77,65,75,"b"],[77,78,65,76],[77,80,65,78],[78,8,66,6],[78,12,66,10,"d"],[78,13,66,11],[78,16,66,14,"lup"],[78,19,66,17],[78,20,66,18,"a"],[78,21,66,19],[78,22,66,20],[79,8,67,6],[79,15,67,13,"_lusolve"],[79,23,67,21],[79,24,67,22,"d"],[79,25,67,23],[79,26,67,24,"L"],[79,27,67,25],[79,29,67,27,"d"],[79,30,67,28],[79,31,67,29,"U"],[79,32,67,30],[79,34,67,32,"d"],[79,35,67,33],[79,36,67,34,"p"],[79,37,67,35],[79,39,67,37],[79,43,67,41],[79,45,67,43,"b"],[79,46,67,44],[79,47,67,45],[80,6,68,4],[80,7,68,5],[81,6,69,4],[81,52,69,50],[81,54,69,52],[81,63,69,61,"SparseMatrix_Array__Matrix_number_number"],[81,103,69,101,"SparseMatrix_Array__Matrix_number_number"],[81,104,69,102,"a"],[81,105,69,103],[81,107,69,105,"b"],[81,108,69,106],[81,110,69,108,"order"],[81,115,69,113],[81,117,69,115,"threshold"],[81,126,69,124],[81,128,69,126],[82,8,70,6],[82,12,70,10,"d"],[82,13,70,11],[82,16,70,14,"slu"],[82,19,70,17],[82,20,70,18,"a"],[82,21,70,19],[82,23,70,21,"order"],[82,28,70,26],[82,30,70,28,"threshold"],[82,39,70,37],[82,40,70,38],[83,8,71,6],[83,15,71,13,"_lusolve"],[83,23,71,21],[83,24,71,22,"d"],[83,25,71,23],[83,26,71,24,"L"],[83,27,71,25],[83,29,71,27,"d"],[83,30,71,28],[83,31,71,29,"U"],[83,32,71,30],[83,34,71,32,"d"],[83,35,71,33],[83,36,71,34,"p"],[83,37,71,35],[83,39,71,37,"d"],[83,40,71,38],[83,41,71,39,"q"],[83,42,71,40],[83,44,71,42,"b"],[83,45,71,43],[83,46,71,44],[84,6,72,4],[84,7,72,5],[85,6,73,4],[85,30,73,28],[85,32,73,30],[85,41,73,39,"Object_Array__Matrix"],[85,61,73,59,"Object_Array__Matrix"],[85,62,73,60,"d"],[85,63,73,61],[85,65,73,63,"b"],[85,66,73,64],[85,68,73,66],[86,8,74,6],[86,15,74,13,"_lusolve"],[86,23,74,21],[86,24,74,22,"d"],[86,25,74,23],[86,26,74,24,"L"],[86,27,74,25],[86,29,74,27,"d"],[86,30,74,28],[86,31,74,29,"U"],[86,32,74,30],[86,34,74,32,"d"],[86,35,74,33],[86,36,74,34,"p"],[86,37,74,35],[86,39,74,37,"d"],[86,40,74,38],[86,41,74,39,"q"],[86,42,74,40],[86,44,74,42,"b"],[86,45,74,43],[86,46,74,44],[87,6,75,4],[88,4,76,2],[88,5,76,3],[88,6,76,4],[89,4,77,2],[89,13,77,11,"_toMatrix"],[89,22,77,20,"_toMatrix"],[89,23,77,21,"a"],[89,24,77,22],[89,26,77,24],[90,6,78,4],[90,10,78,8],[90,14,78,8,"isMatrix"],[90,24,78,16],[90,25,78,16,"isMatrix"],[90,33,78,16],[90,35,78,17,"a"],[90,36,78,18],[90,37,78,19],[90,39,78,21],[91,8,79,6],[91,15,79,13,"a"],[91,16,79,14],[92,6,80,4],[93,6,81,4],[93,10,81,8],[93,14,81,8,"isArray"],[93,24,81,15],[93,25,81,15,"isArray"],[93,32,81,15],[93,34,81,16,"a"],[93,35,81,17],[93,36,81,18],[93,38,81,20],[94,8,82,6],[94,15,82,13,"matrix"],[94,21,82,19],[94,22,82,20,"a"],[94,23,82,21],[94,24,82,22],[95,6,83,4],[96,6,84,4],[96,12,84,10],[96,16,84,14,"TypeError"],[96,25,84,23],[96,26,84,24],[96,59,84,57],[96,60,84,58],[97,4,85,2],[98,4,86,2],[98,13,86,11,"_lusolve"],[98,21,86,19,"_lusolve"],[98,22,86,20,"l"],[98,23,86,21],[98,25,86,23,"u"],[98,26,86,24],[98,28,86,26,"p"],[98,29,86,27],[98,31,86,29,"q"],[98,32,86,30],[98,34,86,32,"b"],[98,35,86,33],[98,37,86,35],[99,6,87,4],[100,6,88,4,"l"],[100,7,88,5],[100,10,88,8,"_toMatrix"],[100,19,88,17],[100,20,88,18,"l"],[100,21,88,19],[100,22,88,20],[101,6,89,4,"u"],[101,7,89,5],[101,10,89,8,"_toMatrix"],[101,19,89,17],[101,20,89,18,"u"],[101,21,89,19],[101,22,89,20],[103,6,91,4],[104,6,92,4],[104,10,92,8,"p"],[104,11,92,9],[104,13,92,11],[105,8,93,6,"b"],[105,9,93,7],[105,12,93,10,"solveValidation"],[105,27,93,25],[105,28,93,26,"l"],[105,29,93,27],[105,31,93,29,"b"],[105,32,93,30],[105,34,93,32],[105,38,93,36],[105,39,93,37],[106,8,94,6,"b"],[106,9,94,7],[106,10,94,8,"_data"],[106,15,94,13],[106,18,94,16],[106,22,94,16,"csIpvec"],[106,38,94,23],[106,39,94,23,"csIpvec"],[106,46,94,23],[106,48,94,24,"p"],[106,49,94,25],[106,51,94,27,"b"],[106,52,94,28],[106,53,94,29,"_data"],[106,58,94,34],[106,59,94,35],[107,6,95,4],[109,6,97,4],[110,6,98,4],[110,10,98,8,"y"],[110,11,98,9],[110,14,98,12,"lsolve"],[110,20,98,18],[110,21,98,19,"l"],[110,22,98,20],[110,24,98,22,"b"],[110,25,98,23],[110,26,98,24],[111,6,99,4],[112,6,100,4],[112,10,100,8,"x"],[112,11,100,9],[112,14,100,12,"usolve"],[112,20,100,18],[112,21,100,19,"u"],[112,22,100,20],[112,24,100,22,"y"],[112,25,100,23],[112,26,100,24],[114,6,102,4],[115,6,103,4],[115,10,103,8,"q"],[115,11,103,9],[115,13,103,11],[116,8,104,6,"x"],[116,9,104,7],[116,10,104,8,"_data"],[116,15,104,13],[116,18,104,16],[116,22,104,16,"csIpvec"],[116,38,104,23],[116,39,104,23,"csIpvec"],[116,46,104,23],[116,48,104,24,"q"],[116,49,104,25],[116,51,104,27,"x"],[116,52,104,28],[116,53,104,29,"_data"],[116,58,104,34],[116,59,104,35],[117,6,105,4],[118,6,106,4],[118,13,106,11,"x"],[118,14,106,12],[119,4,107,2],[120,2,108,0],[120,3,108,1],[120,4,108,2],[121,0,108,3],[121,3]],"functionMap":{"names":["<global>","factory$argument_2","Array_Array__Matrix","DenseMatrix_Array__Matrix","SparseMatrix_Array__Matrix","SparseMatrix_Array__Matrix_number_number","Object_Array__Matrix","_toMatrix","_lusolve"],"mappings":"AAA;sECM;6BCgD;KDK;mCEC;KFG;oCGC;KHG;oDIC;KJG;8BKC;KLE;EME;GNQ;EOC;GPqB;CDC"},"hasCjsExports":false},"type":"js/module"}]}