{"dependencies":[{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}},{"name":"../../../error/DimensionError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":66,"index":119}}],"key":"n9SgYlrgNLSheJUS+2cSjgMV5bE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMatAlgo13xDD\", {\n    enumerable: true,\n    get: function () {\n      return createMatAlgo13xDD;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../../utils/factory.js\");\n  var _errorDimensionErrorJs = require(_dependencyMap[1], \"../../../error/DimensionError.js\");\n  var name = 'matAlgo13xDD';\n  var dependencies = ['typed'];\n  var createMatAlgo13xDD = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed\n    } = _ref;\n    /**\n     * Iterates over DenseMatrix items and invokes the callback function f(Aij..z, Bij..z).\n     * Callback function invoked MxN times.\n     *\n     * C(i,j,...z) = f(Aij..z, Bij..z)\n     *\n     * @param {Matrix}   a                 The DenseMatrix instance (A)\n     * @param {Matrix}   b                 The DenseMatrix instance (B)\n     * @param {Function} callback          The f(Aij..z,Bij..z) operation to invoke\n     *\n     * @return {Matrix}                    DenseMatrix (C)\n     *\n     * https://github.com/josdejong/mathjs/pull/346#issuecomment-97658658\n     */\n    return function matAlgo13xDD(a, b, callback) {\n      // a arrays\n      var adata = a._data;\n      var asize = a._size;\n      var adt = a._datatype;\n      // b arrays\n      var bdata = b._data;\n      var bsize = b._size;\n      var bdt = b._datatype;\n      // c arrays\n      var csize = [];\n\n      // validate dimensions\n      if (asize.length !== bsize.length) {\n        throw new _errorDimensionErrorJs.DimensionError(asize.length, bsize.length);\n      }\n\n      // validate each one of the dimension sizes\n      for (var s = 0; s < asize.length; s++) {\n        // must match\n        if (asize[s] !== bsize[s]) {\n          throw new RangeError('Dimension mismatch. Matrix A (' + asize + ') must match Matrix B (' + bsize + ')');\n        }\n        // update dimension in c\n        csize[s] = asize[s];\n      }\n\n      // datatype\n      var dt;\n      // callback signature to use\n      var cf = callback;\n\n      // process data types\n      if (typeof adt === 'string' && adt === bdt) {\n        // datatype\n        dt = adt;\n        // callback\n        cf = typed.find(callback, [dt, dt]);\n      }\n\n      // populate cdata, iterate through dimensions\n      var cdata = csize.length > 0 ? _iterate(cf, 0, csize, csize[0], adata, bdata) : [];\n\n      // c matrix\n      return a.createDenseMatrix({\n        data: cdata,\n        size: csize,\n        datatype: dt\n      });\n    };\n\n    // recursive function\n    function _iterate(f, level, s, n, av, bv) {\n      // initialize array for this level\n      var cv = [];\n      // check we reach the last level\n      if (level === s.length - 1) {\n        // loop arrays in last level\n        for (var i = 0; i < n; i++) {\n          // invoke callback and store value\n          cv[i] = f(av[i], bv[i]);\n        }\n      } else {\n        // iterate current level\n        for (var j = 0; j < n; j++) {\n          // iterate next level\n          cv[j] = _iterate(f, level + 1, s, s[level + 1], av[j], bv[j]);\n        }\n      }\n      return cv;\n    }\n  });\n});","lineCount":107,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"createMatAlgo13xDD"],[10,31,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,0,"_errorDimensionErrorJs"],[14,28,2,0],[14,31,2,0,"require"],[14,38,2,0],[14,39,2,0,"_dependencyMap"],[14,53,2,0],[15,2,3,0],[15,6,3,4,"name"],[15,10,3,8],[15,13,3,11],[15,27,3,25],[16,2,4,0],[16,6,4,4,"dependencies"],[16,18,4,16],[16,21,4,19],[16,22,4,20],[16,29,4,27],[16,30,4,28],[17,2,5,7],[17,6,5,11,"createMatAlgo13xDD"],[17,24,5,29],[17,27,5,32],[17,42,5,47],[17,46,5,47,"factory"],[17,61,5,54],[17,62,5,54,"factory"],[17,69,5,54],[17,71,5,55,"name"],[17,75,5,59],[17,77,5,61,"dependencies"],[17,89,5,73],[17,91,5,75,"_ref"],[17,95,5,79],[17,99,5,83],[18,4,6,2],[18,8,6,6],[19,6,7,4,"typed"],[20,4,8,2],[20,5,8,3],[20,8,8,6,"_ref"],[20,12,8,10],[21,4,9,2],[22,0,10,0],[23,0,11,0],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,4,23,2],[35,11,23,9],[35,20,23,18,"matAlgo13xDD"],[35,32,23,30,"matAlgo13xDD"],[35,33,23,31,"a"],[35,34,23,32],[35,36,23,34,"b"],[35,37,23,35],[35,39,23,37,"callback"],[35,47,23,45],[35,49,23,47],[36,6,24,4],[37,6,25,4],[37,10,25,8,"adata"],[37,15,25,13],[37,18,25,16,"a"],[37,19,25,17],[37,20,25,18,"_data"],[37,25,25,23],[38,6,26,4],[38,10,26,8,"asize"],[38,15,26,13],[38,18,26,16,"a"],[38,19,26,17],[38,20,26,18,"_size"],[38,25,26,23],[39,6,27,4],[39,10,27,8,"adt"],[39,13,27,11],[39,16,27,14,"a"],[39,17,27,15],[39,18,27,16,"_datatype"],[39,27,27,25],[40,6,28,4],[41,6,29,4],[41,10,29,8,"bdata"],[41,15,29,13],[41,18,29,16,"b"],[41,19,29,17],[41,20,29,18,"_data"],[41,25,29,23],[42,6,30,4],[42,10,30,8,"bsize"],[42,15,30,13],[42,18,30,16,"b"],[42,19,30,17],[42,20,30,18,"_size"],[42,25,30,23],[43,6,31,4],[43,10,31,8,"bdt"],[43,13,31,11],[43,16,31,14,"b"],[43,17,31,15],[43,18,31,16,"_datatype"],[43,27,31,25],[44,6,32,4],[45,6,33,4],[45,10,33,8,"csize"],[45,15,33,13],[45,18,33,16],[45,20,33,18],[47,6,35,4],[48,6,36,4],[48,10,36,8,"asize"],[48,15,36,13],[48,16,36,14,"length"],[48,22,36,20],[48,27,36,25,"bsize"],[48,32,36,30],[48,33,36,31,"length"],[48,39,36,37],[48,41,36,39],[49,8,37,6],[49,14,37,12],[49,18,37,16,"DimensionError"],[49,40,37,30],[49,41,37,30,"DimensionError"],[49,55,37,30],[49,56,37,31,"asize"],[49,61,37,36],[49,62,37,37,"length"],[49,68,37,43],[49,70,37,45,"bsize"],[49,75,37,50],[49,76,37,51,"length"],[49,82,37,57],[49,83,37,58],[50,6,38,4],[52,6,40,4],[53,6,41,4],[53,11,41,9],[53,15,41,13,"s"],[53,16,41,14],[53,19,41,17],[53,20,41,18],[53,22,41,20,"s"],[53,23,41,21],[53,26,41,24,"asize"],[53,31,41,29],[53,32,41,30,"length"],[53,38,41,36],[53,40,41,38,"s"],[53,41,41,39],[53,43,41,41],[53,45,41,43],[54,8,42,6],[55,8,43,6],[55,12,43,10,"asize"],[55,17,43,15],[55,18,43,16,"s"],[55,19,43,17],[55,20,43,18],[55,25,43,23,"bsize"],[55,30,43,28],[55,31,43,29,"s"],[55,32,43,30],[55,33,43,31],[55,35,43,33],[56,10,44,8],[56,16,44,14],[56,20,44,18,"RangeError"],[56,30,44,28],[56,31,44,29],[56,63,44,61],[56,66,44,64,"asize"],[56,71,44,69],[56,74,44,72],[56,99,44,97],[56,102,44,100,"bsize"],[56,107,44,105],[56,110,44,108],[56,113,44,111],[56,114,44,112],[57,8,45,6],[58,8,46,6],[59,8,47,6,"csize"],[59,13,47,11],[59,14,47,12,"s"],[59,15,47,13],[59,16,47,14],[59,19,47,17,"asize"],[59,24,47,22],[59,25,47,23,"s"],[59,26,47,24],[59,27,47,25],[60,6,48,4],[62,6,50,4],[63,6,51,4],[63,10,51,8,"dt"],[63,12,51,10],[64,6,52,4],[65,6,53,4],[65,10,53,8,"cf"],[65,12,53,10],[65,15,53,13,"callback"],[65,23,53,21],[67,6,55,4],[68,6,56,4],[68,10,56,8],[68,17,56,15,"adt"],[68,20,56,18],[68,25,56,23],[68,33,56,31],[68,37,56,35,"adt"],[68,40,56,38],[68,45,56,43,"bdt"],[68,48,56,46],[68,50,56,48],[69,8,57,6],[70,8,58,6,"dt"],[70,10,58,8],[70,13,58,11,"adt"],[70,16,58,14],[71,8,59,6],[72,8,60,6,"cf"],[72,10,60,8],[72,13,60,11,"typed"],[72,18,60,16],[72,19,60,17,"find"],[72,23,60,21],[72,24,60,22,"callback"],[72,32,60,30],[72,34,60,32],[72,35,60,33,"dt"],[72,37,60,35],[72,39,60,37,"dt"],[72,41,60,39],[72,42,60,40],[72,43,60,41],[73,6,61,4],[75,6,63,4],[76,6,64,4],[76,10,64,8,"cdata"],[76,15,64,13],[76,18,64,16,"csize"],[76,23,64,21],[76,24,64,22,"length"],[76,30,64,28],[76,33,64,31],[76,34,64,32],[76,37,64,35,"_iterate"],[76,45,64,43],[76,46,64,44,"cf"],[76,48,64,46],[76,50,64,48],[76,51,64,49],[76,53,64,51,"csize"],[76,58,64,56],[76,60,64,58,"csize"],[76,65,64,63],[76,66,64,64],[76,67,64,65],[76,68,64,66],[76,70,64,68,"adata"],[76,75,64,73],[76,77,64,75,"bdata"],[76,82,64,80],[76,83,64,81],[76,86,64,84],[76,88,64,86],[78,6,66,4],[79,6,67,4],[79,13,67,11,"a"],[79,14,67,12],[79,15,67,13,"createDenseMatrix"],[79,32,67,30],[79,33,67,31],[80,8,68,6,"data"],[80,12,68,10],[80,14,68,12,"cdata"],[80,19,68,17],[81,8,69,6,"size"],[81,12,69,10],[81,14,69,12,"csize"],[81,19,69,17],[82,8,70,6,"datatype"],[82,16,70,14],[82,18,70,16,"dt"],[83,6,71,4],[83,7,71,5],[83,8,71,6],[84,4,72,2],[84,5,72,3],[86,4,74,2],[87,4,75,2],[87,13,75,11,"_iterate"],[87,21,75,19,"_iterate"],[87,22,75,20,"f"],[87,23,75,21],[87,25,75,23,"level"],[87,30,75,28],[87,32,75,30,"s"],[87,33,75,31],[87,35,75,33,"n"],[87,36,75,34],[87,38,75,36,"av"],[87,40,75,38],[87,42,75,40,"bv"],[87,44,75,42],[87,46,75,44],[88,6,76,4],[89,6,77,4],[89,10,77,8,"cv"],[89,12,77,10],[89,15,77,13],[89,17,77,15],[90,6,78,4],[91,6,79,4],[91,10,79,8,"level"],[91,15,79,13],[91,20,79,18,"s"],[91,21,79,19],[91,22,79,20,"length"],[91,28,79,26],[91,31,79,29],[91,32,79,30],[91,34,79,32],[92,8,80,6],[93,8,81,6],[93,13,81,11],[93,17,81,15,"i"],[93,18,81,16],[93,21,81,19],[93,22,81,20],[93,24,81,22,"i"],[93,25,81,23],[93,28,81,26,"n"],[93,29,81,27],[93,31,81,29,"i"],[93,32,81,30],[93,34,81,32],[93,36,81,34],[94,10,82,8],[95,10,83,8,"cv"],[95,12,83,10],[95,13,83,11,"i"],[95,14,83,12],[95,15,83,13],[95,18,83,16,"f"],[95,19,83,17],[95,20,83,18,"av"],[95,22,83,20],[95,23,83,21,"i"],[95,24,83,22],[95,25,83,23],[95,27,83,25,"bv"],[95,29,83,27],[95,30,83,28,"i"],[95,31,83,29],[95,32,83,30],[95,33,83,31],[96,8,84,6],[97,6,85,4],[97,7,85,5],[97,13,85,11],[98,8,86,6],[99,8,87,6],[99,13,87,11],[99,17,87,15,"j"],[99,18,87,16],[99,21,87,19],[99,22,87,20],[99,24,87,22,"j"],[99,25,87,23],[99,28,87,26,"n"],[99,29,87,27],[99,31,87,29,"j"],[99,32,87,30],[99,34,87,32],[99,36,87,34],[100,10,88,8],[101,10,89,8,"cv"],[101,12,89,10],[101,13,89,11,"j"],[101,14,89,12],[101,15,89,13],[101,18,89,16,"_iterate"],[101,26,89,24],[101,27,89,25,"f"],[101,28,89,26],[101,30,89,28,"level"],[101,35,89,33],[101,38,89,36],[101,39,89,37],[101,41,89,39,"s"],[101,42,89,40],[101,44,89,42,"s"],[101,45,89,43],[101,46,89,44,"level"],[101,51,89,49],[101,54,89,52],[101,55,89,53],[101,56,89,54],[101,58,89,56,"av"],[101,60,89,58],[101,61,89,59,"j"],[101,62,89,60],[101,63,89,61],[101,65,89,63,"bv"],[101,67,89,65],[101,68,89,66,"j"],[101,69,89,67],[101,70,89,68],[101,71,89,69],[102,8,90,6],[103,6,91,4],[104,6,92,4],[104,13,92,11,"cv"],[104,15,92,13],[105,4,93,2],[106,2,94,0],[106,3,94,1],[106,4,94,2],[107,0,94,3],[107,3]],"functionMap":{"names":["<global>","factory$argument_2","matAlgo13xDD","_iterate"],"mappings":"AAA;2ECI;SCkB;GDiD;EEG;GFkB;CDC"},"hasCjsExports":false},"type":"js/module"}]}