{"dependencies":[{"name":"../../utils/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"DL0lZsaza5vr7zl/bAzDYPBSOyA=","exportNames":["*"],"imports":1}},{"name":"../../utils/string.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":46},"end":{"line":2,"column":47,"index":93}}],"key":"T/CgcIKKhkpXsq2SV9hlw6YQi24=","exportNames":["*"],"imports":1}},{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":49,"index":143}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":144},"end":{"line":4,"column":49,"index":193}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createSqrtm\", {\n    enumerable: true,\n    get: function () {\n      return createSqrtm;\n    }\n  });\n  var _utilsIsJs = require(_dependencyMap[0], \"../../utils/is.js\");\n  var _utilsStringJs = require(_dependencyMap[1], \"../../utils/string.js\");\n  var _utilsArrayJs = require(_dependencyMap[2], \"../../utils/array.js\");\n  var _utilsFactoryJs = require(_dependencyMap[3], \"../../utils/factory.js\");\n  var name = 'sqrtm';\n  var dependencies = ['typed', 'abs', 'add', 'multiply', 'map', 'sqrt', 'subtract', 'inv', 'size', 'max', 'identity'];\n  var createSqrtm = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      abs,\n      add,\n      multiply,\n      map,\n      sqrt,\n      subtract,\n      inv,\n      size,\n      max,\n      identity\n    } = _ref;\n    var _maxIterations = 1e3;\n    var _tolerance = 1e-6;\n\n    /**\n     * Calculate the principal square root matrix using the Denman–Beavers iterative method\n     *\n     * https://en.wikipedia.org/wiki/Square_root_of_a_matrix#By_Denman–Beavers_iteration\n     *\n     * @param  {Array | Matrix} A   The square matrix `A`\n     * @return {Array | Matrix}     The principal square root of matrix `A`\n     * @private\n     */\n    function _denmanBeavers(A) {\n      var error;\n      var iterations = 0;\n      var Y = A;\n      var Z = identity(size(A));\n      do {\n        var Yk = Y;\n        Y = multiply(0.5, add(Yk, inv(Z)));\n        Z = multiply(0.5, add(Z, inv(Yk)));\n        error = max(abs(subtract(Y, Yk)));\n        if (error > _tolerance && ++iterations > _maxIterations) {\n          throw new Error('computing square root of matrix: iterative method could not converge');\n        }\n      } while (error > _tolerance);\n      return Y;\n    }\n\n    /**\n     * Calculate the principal square root of a square matrix.\n     * The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.\n     *\n     * https://en.wikipedia.org/wiki/Square_root_of_a_matrix\n     *\n     * Syntax:\n     *\n     *     math.sqrtm(A)\n     *\n     * Examples:\n     *\n     *     math.sqrtm([[33, 24], [48, 57]]) // returns [[5, 2], [4, 7]]\n     *\n     * See also:\n     *\n     *     sqrt, pow\n     *\n     * @param  {Array | Matrix} A   The square matrix `A`\n     * @return {Array | Matrix}     The principal square root of matrix `A`\n     */\n    return typed(name, {\n      'Array | Matrix': function Array__Matrix(A) {\n        var size = (0, _utilsIsJs.isMatrix)(A) ? A.size() : (0, _utilsArrayJs.arraySize)(A);\n        switch (size.length) {\n          case 1:\n            // Single element Array | Matrix\n            if (size[0] === 1) {\n              return map(A, sqrt);\n            } else {\n              throw new RangeError('Matrix must be square ' + '(size: ' + (0, _utilsStringJs.format)(size) + ')');\n            }\n          case 2:\n            {\n              // Two-dimensional Array | Matrix\n              var rows = size[0];\n              var cols = size[1];\n              if (rows === cols) {\n                return _denmanBeavers(A);\n              } else {\n                throw new RangeError('Matrix must be square ' + '(size: ' + (0, _utilsStringJs.format)(size) + ')');\n              }\n            }\n          default:\n            // Multi dimensional array\n            throw new RangeError('Matrix must be at most two dimensional ' + '(size: ' + (0, _utilsStringJs.format)(size) + ')');\n        }\n      }\n    });\n  });\n});","lineCount":112,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"createSqrtm"],[10,24,7,0],[11,4,7,0],[12,2,7,0],[13,2,1,0],[13,6,1,0,"_utilsIsJs"],[13,16,1,0],[13,19,1,0,"require"],[13,26,1,0],[13,27,1,0,"_dependencyMap"],[13,41,1,0],[14,2,2,0],[14,6,2,0,"_utilsStringJs"],[14,20,2,0],[14,23,2,0,"require"],[14,30,2,0],[14,31,2,0,"_dependencyMap"],[14,45,2,0],[15,2,3,0],[15,6,3,0,"_utilsArrayJs"],[15,19,3,0],[15,22,3,0,"require"],[15,29,3,0],[15,30,3,0,"_dependencyMap"],[15,44,3,0],[16,2,4,0],[16,6,4,0,"_utilsFactoryJs"],[16,21,4,0],[16,24,4,0,"require"],[16,31,4,0],[16,32,4,0,"_dependencyMap"],[16,46,4,0],[17,2,5,0],[17,6,5,4,"name"],[17,10,5,8],[17,13,5,11],[17,20,5,18],[18,2,6,0],[18,6,6,4,"dependencies"],[18,18,6,16],[18,21,6,19],[18,22,6,20],[18,29,6,27],[18,31,6,29],[18,36,6,34],[18,38,6,36],[18,43,6,41],[18,45,6,43],[18,55,6,53],[18,57,6,55],[18,62,6,60],[18,64,6,62],[18,70,6,68],[18,72,6,70],[18,82,6,80],[18,84,6,82],[18,89,6,87],[18,91,6,89],[18,97,6,95],[18,99,6,97],[18,104,6,102],[18,106,6,104],[18,116,6,114],[18,117,6,115],[19,2,7,7],[19,6,7,11,"createSqrtm"],[19,17,7,22],[19,20,7,25],[19,35,7,40],[19,39,7,40,"factory"],[19,54,7,47],[19,55,7,47,"factory"],[19,62,7,47],[19,64,7,48,"name"],[19,68,7,52],[19,70,7,54,"dependencies"],[19,82,7,66],[19,84,7,68,"_ref"],[19,88,7,72],[19,92,7,76],[20,4,8,2],[20,8,8,6],[21,6,9,4,"typed"],[21,11,9,9],[22,6,10,4,"abs"],[22,9,10,7],[23,6,11,4,"add"],[23,9,11,7],[24,6,12,4,"multiply"],[24,14,12,12],[25,6,13,4,"map"],[25,9,13,7],[26,6,14,4,"sqrt"],[26,10,14,8],[27,6,15,4,"subtract"],[27,14,15,12],[28,6,16,4,"inv"],[28,9,16,7],[29,6,17,4,"size"],[29,10,17,8],[30,6,18,4,"max"],[30,9,18,7],[31,6,19,4,"identity"],[32,4,20,2],[32,5,20,3],[32,8,20,6,"_ref"],[32,12,20,10],[33,4,21,2],[33,8,21,6,"_maxIterations"],[33,22,21,20],[33,25,21,23],[33,28,21,26],[34,4,22,2],[34,8,22,6,"_tolerance"],[34,18,22,16],[34,21,22,19],[34,25,22,23],[36,4,24,2],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,4,33,2],[45,13,33,11,"_denmanBeavers"],[45,27,33,25,"_denmanBeavers"],[45,28,33,26,"A"],[45,29,33,27],[45,31,33,29],[46,6,34,4],[46,10,34,8,"error"],[46,15,34,13],[47,6,35,4],[47,10,35,8,"iterations"],[47,20,35,18],[47,23,35,21],[47,24,35,22],[48,6,36,4],[48,10,36,8,"Y"],[48,11,36,9],[48,14,36,12,"A"],[48,15,36,13],[49,6,37,4],[49,10,37,8,"Z"],[49,11,37,9],[49,14,37,12,"identity"],[49,22,37,20],[49,23,37,21,"size"],[49,27,37,25],[49,28,37,26,"A"],[49,29,37,27],[49,30,37,28],[49,31,37,29],[50,6,38,4],[50,9,38,7],[51,8,39,6],[51,12,39,10,"Yk"],[51,14,39,12],[51,17,39,15,"Y"],[51,18,39,16],[52,8,40,6,"Y"],[52,9,40,7],[52,12,40,10,"multiply"],[52,20,40,18],[52,21,40,19],[52,24,40,22],[52,26,40,24,"add"],[52,29,40,27],[52,30,40,28,"Yk"],[52,32,40,30],[52,34,40,32,"inv"],[52,37,40,35],[52,38,40,36,"Z"],[52,39,40,37],[52,40,40,38],[52,41,40,39],[52,42,40,40],[53,8,41,6,"Z"],[53,9,41,7],[53,12,41,10,"multiply"],[53,20,41,18],[53,21,41,19],[53,24,41,22],[53,26,41,24,"add"],[53,29,41,27],[53,30,41,28,"Z"],[53,31,41,29],[53,33,41,31,"inv"],[53,36,41,34],[53,37,41,35,"Yk"],[53,39,41,37],[53,40,41,38],[53,41,41,39],[53,42,41,40],[54,8,42,6,"error"],[54,13,42,11],[54,16,42,14,"max"],[54,19,42,17],[54,20,42,18,"abs"],[54,23,42,21],[54,24,42,22,"subtract"],[54,32,42,30],[54,33,42,31,"Y"],[54,34,42,32],[54,36,42,34,"Yk"],[54,38,42,36],[54,39,42,37],[54,40,42,38],[54,41,42,39],[55,8,43,6],[55,12,43,10,"error"],[55,17,43,15],[55,20,43,18,"_tolerance"],[55,30,43,28],[55,34,43,32],[55,36,43,34,"iterations"],[55,46,43,44],[55,49,43,47,"_maxIterations"],[55,63,43,61],[55,65,43,63],[56,10,44,8],[56,16,44,14],[56,20,44,18,"Error"],[56,25,44,23],[56,26,44,24],[56,96,44,94],[56,97,44,95],[57,8,45,6],[58,6,46,4],[58,7,46,5],[58,15,46,13,"error"],[58,20,46,18],[58,23,46,21,"_tolerance"],[58,33,46,31],[59,6,47,4],[59,13,47,11,"Y"],[59,14,47,12],[60,4,48,2],[62,4,50,2],[63,0,51,0],[64,0,52,0],[65,0,53,0],[66,0,54,0],[67,0,55,0],[68,0,56,0],[69,0,57,0],[70,0,58,0],[71,0,59,0],[72,0,60,0],[73,0,61,0],[74,0,62,0],[75,0,63,0],[76,0,64,0],[77,0,65,0],[78,0,66,0],[79,0,67,0],[80,0,68,0],[81,0,69,0],[82,0,70,0],[83,4,71,2],[83,11,71,9,"typed"],[83,16,71,14],[83,17,71,15,"name"],[83,21,71,19],[83,23,71,21],[84,6,72,4],[84,22,72,20],[84,24,72,22],[84,33,72,31,"Array__Matrix"],[84,46,72,44,"Array__Matrix"],[84,47,72,45,"A"],[84,48,72,46],[84,50,72,48],[85,8,73,6],[85,12,73,10,"size"],[85,16,73,14],[85,19,73,17],[85,23,73,17,"isMatrix"],[85,33,73,25],[85,34,73,25,"isMatrix"],[85,42,73,25],[85,44,73,26,"A"],[85,45,73,27],[85,46,73,28],[85,49,73,31,"A"],[85,50,73,32],[85,51,73,33,"size"],[85,55,73,37],[85,56,73,38],[85,57,73,39],[85,60,73,42],[85,64,73,42,"arraySize"],[85,77,73,51],[85,78,73,51,"arraySize"],[85,87,73,51],[85,89,73,52,"A"],[85,90,73,53],[85,91,73,54],[86,8,74,6],[86,16,74,14,"size"],[86,20,74,18],[86,21,74,19,"length"],[86,27,74,25],[87,10,75,8],[87,15,75,13],[87,16,75,14],[88,12,76,10],[89,12,77,10],[89,16,77,14,"size"],[89,20,77,18],[89,21,77,19],[89,22,77,20],[89,23,77,21],[89,28,77,26],[89,29,77,27],[89,31,77,29],[90,14,78,12],[90,21,78,19,"map"],[90,24,78,22],[90,25,78,23,"A"],[90,26,78,24],[90,28,78,26,"sqrt"],[90,32,78,30],[90,33,78,31],[91,12,79,10],[91,13,79,11],[91,19,79,17],[92,14,80,12],[92,20,80,18],[92,24,80,22,"RangeError"],[92,34,80,32],[92,35,80,33],[92,59,80,57],[92,62,80,60],[92,71,80,69],[92,74,80,72],[92,78,80,72,"format"],[92,92,80,78],[92,93,80,78,"format"],[92,99,80,78],[92,101,80,79,"size"],[92,105,80,83],[92,106,80,84],[92,109,80,87],[92,112,80,90],[92,113,80,91],[93,12,81,10],[94,10,82,8],[94,15,82,13],[94,16,82,14],[95,12,83,10],[96,14,84,12],[97,14,85,12],[97,18,85,16,"rows"],[97,22,85,20],[97,25,85,23,"size"],[97,29,85,27],[97,30,85,28],[97,31,85,29],[97,32,85,30],[98,14,86,12],[98,18,86,16,"cols"],[98,22,86,20],[98,25,86,23,"size"],[98,29,86,27],[98,30,86,28],[98,31,86,29],[98,32,86,30],[99,14,87,12],[99,18,87,16,"rows"],[99,22,87,20],[99,27,87,25,"cols"],[99,31,87,29],[99,33,87,31],[100,16,88,14],[100,23,88,21,"_denmanBeavers"],[100,37,88,35],[100,38,88,36,"A"],[100,39,88,37],[100,40,88,38],[101,14,89,12],[101,15,89,13],[101,21,89,19],[102,16,90,14],[102,22,90,20],[102,26,90,24,"RangeError"],[102,36,90,34],[102,37,90,35],[102,61,90,59],[102,64,90,62],[102,73,90,71],[102,76,90,74],[102,80,90,74,"format"],[102,94,90,80],[102,95,90,80,"format"],[102,101,90,80],[102,103,90,81,"size"],[102,107,90,85],[102,108,90,86],[102,111,90,89],[102,114,90,92],[102,115,90,93],[103,14,91,12],[104,12,92,10],[105,10,93,8],[106,12,94,10],[107,12,95,10],[107,18,95,16],[107,22,95,20,"RangeError"],[107,32,95,30],[107,33,95,31],[107,74,95,72],[107,77,95,75],[107,86,95,84],[107,89,95,87],[107,93,95,87,"format"],[107,107,95,93],[107,108,95,93,"format"],[107,114,95,93],[107,116,95,94,"size"],[107,120,95,98],[107,121,95,99],[107,124,95,102],[107,127,95,105],[107,128,95,106],[108,8,96,6],[109,6,97,4],[110,4,98,2],[110,5,98,3],[110,6,98,4],[111,2,99,0],[111,3,99,1],[111,4,99,2],[112,0,99,3],[112,3]],"functionMap":{"names":["<global>","factory$argument_2","_denmanBeavers","Array__Matrix"],"mappings":"AAA;oECM;EC0B;GDe;sBEwB;KFyB;CDE"},"hasCjsExports":false},"type":"js/module"}]}