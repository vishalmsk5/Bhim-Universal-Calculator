{"dependencies":[{"name":"../../utils/object.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"RQrRGqbksOCD9OzK2x3a4ahzdIU=","exportNames":["*"],"imports":1}},{"name":"../../utils/string.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":47},"end":{"line":2,"column":47,"index":94}}],"key":"T/CgcIKKhkpXsq2SV9hlw6YQi24=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":95},"end":{"line":3,"column":49,"index":144}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createTranspose\", {\n    enumerable: true,\n    get: function () {\n      return createTranspose;\n    }\n  });\n  var _utilsObjectJs = require(_dependencyMap[0], \"../../utils/object.js\");\n  var _utilsStringJs = require(_dependencyMap[1], \"../../utils/string.js\");\n  var _utilsFactoryJs = require(_dependencyMap[2], \"../../utils/factory.js\");\n  var name = 'transpose';\n  var dependencies = ['typed', 'matrix'];\n  var createTranspose = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      matrix\n    } = _ref;\n    /**\n     * Transpose a matrix. All values of the matrix are reflected over its\n     * main diagonal. Only applicable to two dimensional matrices containing\n     * a vector (i.e. having size `[1,n]` or `[n,1]`). One dimensional\n     * vectors and scalars return the input unchanged.\n     *\n     * Syntax:\n     *\n     *     math.transpose(x)\n     *\n     * Examples:\n     *\n     *     const A = [[1, 2, 3], [4, 5, 6]]\n     *     math.transpose(A)               // returns [[1, 4], [2, 5], [3, 6]]\n     *\n     * See also:\n     *\n     *     diag, inv, subset, squeeze\n     *\n     * @param {Array | Matrix} x  Matrix to be transposed\n     * @return {Array | Matrix}   The transposed matrix\n     */\n    return typed(name, {\n      Array: x => transposeMatrix(matrix(x)).valueOf(),\n      Matrix: transposeMatrix,\n      any: _utilsObjectJs.clone // scalars\n    });\n    function transposeMatrix(x) {\n      // matrix size\n      var size = x.size();\n\n      // result\n      var c;\n\n      // process dimensions\n      switch (size.length) {\n        case 1:\n          // vector\n          c = x.clone();\n          break;\n        case 2:\n          {\n            // rows and columns\n            var rows = size[0];\n            var columns = size[1];\n\n            // check columns\n            if (columns === 0) {\n              // throw exception\n              throw new RangeError('Cannot transpose a 2D matrix with no columns (size: ' + (0, _utilsStringJs.format)(size) + ')');\n            }\n\n            // process storage format\n            switch (x.storage()) {\n              case 'dense':\n                c = _denseTranspose(x, rows, columns);\n                break;\n              case 'sparse':\n                c = _sparseTranspose(x, rows, columns);\n                break;\n            }\n          }\n          break;\n        default:\n          // multi dimensional\n          throw new RangeError('Matrix must be a vector or two dimensional (size: ' + (0, _utilsStringJs.format)(size) + ')');\n      }\n      return c;\n    }\n    function _denseTranspose(m, rows, columns) {\n      // matrix array\n      var data = m._data;\n      // transposed matrix data\n      var transposed = [];\n      var transposedRow;\n      // loop columns\n      for (var j = 0; j < columns; j++) {\n        // initialize row\n        transposedRow = transposed[j] = [];\n        // loop rows\n        for (var i = 0; i < rows; i++) {\n          // set data\n          transposedRow[i] = (0, _utilsObjectJs.clone)(data[i][j]);\n        }\n      }\n      // return matrix\n      return m.createDenseMatrix({\n        data: transposed,\n        size: [columns, rows],\n        datatype: m._datatype\n      });\n    }\n    function _sparseTranspose(m, rows, columns) {\n      // matrix arrays\n      var values = m._values;\n      var index = m._index;\n      var ptr = m._ptr;\n      // result matrices\n      var cvalues = values ? [] : undefined;\n      var cindex = [];\n      var cptr = [];\n      // row counts\n      var w = [];\n      for (var x = 0; x < rows; x++) {\n        w[x] = 0;\n      }\n      // vars\n      var p, l, j;\n      // loop values in matrix\n      for (p = 0, l = index.length; p < l; p++) {\n        // number of values in row\n        w[index[p]]++;\n      }\n      // cumulative sum\n      var sum = 0;\n      // initialize cptr with the cummulative sum of row counts\n      for (var i = 0; i < rows; i++) {\n        // update cptr\n        cptr.push(sum);\n        // update sum\n        sum += w[i];\n        // update w\n        w[i] = cptr[i];\n      }\n      // update cptr\n      cptr.push(sum);\n      // loop columns\n      for (j = 0; j < columns; j++) {\n        // values & index in column\n        for (var k0 = ptr[j], k1 = ptr[j + 1], k = k0; k < k1; k++) {\n          // C values & index\n          var q = w[index[k]]++;\n          // C[j, i] = A[i, j]\n          cindex[q] = j;\n          // check we need to process values (pattern matrix)\n          if (values) {\n            cvalues[q] = (0, _utilsObjectJs.clone)(values[k]);\n          }\n        }\n      }\n      // return matrix\n      return m.createSparseMatrix({\n        values: cvalues,\n        index: cindex,\n        ptr: cptr,\n        size: [columns, rows],\n        datatype: m._datatype\n      });\n    }\n  });\n});","lineCount":173,"map":[[7,2,6,0,"Object"],[7,8,6,0],[7,9,6,0,"defineProperty"],[7,23,6,0],[7,24,6,0,"exports"],[7,31,6,0],[8,4,6,0,"enumerable"],[8,14,6,0],[9,4,6,0,"get"],[9,7,6,0],[9,18,6,0,"get"],[9,19,6,0],[10,6,6,0],[10,13,6,0,"createTranspose"],[10,28,6,0],[11,4,6,0],[12,2,6,0],[13,2,1,0],[13,6,1,0,"_utilsObjectJs"],[13,20,1,0],[13,23,1,0,"require"],[13,30,1,0],[13,31,1,0,"_dependencyMap"],[13,45,1,0],[14,2,2,0],[14,6,2,0,"_utilsStringJs"],[14,20,2,0],[14,23,2,0,"require"],[14,30,2,0],[14,31,2,0,"_dependencyMap"],[14,45,2,0],[15,2,3,0],[15,6,3,0,"_utilsFactoryJs"],[15,21,3,0],[15,24,3,0,"require"],[15,31,3,0],[15,32,3,0,"_dependencyMap"],[15,46,3,0],[16,2,4,0],[16,6,4,4,"name"],[16,10,4,8],[16,13,4,11],[16,24,4,22],[17,2,5,0],[17,6,5,4,"dependencies"],[17,18,5,16],[17,21,5,19],[17,22,5,20],[17,29,5,27],[17,31,5,29],[17,39,5,37],[17,40,5,38],[18,2,6,7],[18,6,6,11,"createTranspose"],[18,21,6,26],[18,24,6,29],[18,39,6,44],[18,43,6,44,"factory"],[18,58,6,51],[18,59,6,51,"factory"],[18,66,6,51],[18,68,6,52,"name"],[18,72,6,56],[18,74,6,58,"dependencies"],[18,86,6,70],[18,88,6,72,"_ref"],[18,92,6,76],[18,96,6,80],[19,4,7,2],[19,8,7,6],[20,6,8,4,"typed"],[20,11,8,9],[21,6,9,4,"matrix"],[22,4,10,2],[22,5,10,3],[22,8,10,6,"_ref"],[22,12,10,10],[23,4,11,2],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,4,33,2],[45,11,33,9,"typed"],[45,16,33,14],[45,17,33,15,"name"],[45,21,33,19],[45,23,33,21],[46,6,34,4,"Array"],[46,11,34,9],[46,13,34,11,"x"],[46,14,34,12],[46,18,34,16,"transposeMatrix"],[46,33,34,31],[46,34,34,32,"matrix"],[46,40,34,38],[46,41,34,39,"x"],[46,42,34,40],[46,43,34,41],[46,44,34,42],[46,45,34,43,"valueOf"],[46,52,34,50],[46,53,34,51],[46,54,34,52],[47,6,35,4,"Matrix"],[47,12,35,10],[47,14,35,12,"transposeMatrix"],[47,29,35,27],[48,6,36,4,"any"],[48,9,36,7],[48,11,36,9,"clone"],[48,25,36,14],[48,26,36,14,"clone"],[48,31,36,14],[48,32,36,15],[49,4,37,2],[49,5,37,3],[49,6,37,4],[50,4,38,2],[50,13,38,11,"transposeMatrix"],[50,28,38,26,"transposeMatrix"],[50,29,38,27,"x"],[50,30,38,28],[50,32,38,30],[51,6,39,4],[52,6,40,4],[52,10,40,8,"size"],[52,14,40,12],[52,17,40,15,"x"],[52,18,40,16],[52,19,40,17,"size"],[52,23,40,21],[52,24,40,22],[52,25,40,23],[54,6,42,4],[55,6,43,4],[55,10,43,8,"c"],[55,11,43,9],[57,6,45,4],[58,6,46,4],[58,14,46,12,"size"],[58,18,46,16],[58,19,46,17,"length"],[58,25,46,23],[59,8,47,6],[59,13,47,11],[59,14,47,12],[60,10,48,8],[61,10,49,8,"c"],[61,11,49,9],[61,14,49,12,"x"],[61,15,49,13],[61,16,49,14,"clone"],[61,21,49,19],[61,22,49,20],[61,23,49,21],[62,10,50,8],[63,8,51,6],[63,13,51,11],[63,14,51,12],[64,10,52,8],[65,12,53,10],[66,12,54,10],[66,16,54,14,"rows"],[66,20,54,18],[66,23,54,21,"size"],[66,27,54,25],[66,28,54,26],[66,29,54,27],[66,30,54,28],[67,12,55,10],[67,16,55,14,"columns"],[67,23,55,21],[67,26,55,24,"size"],[67,30,55,28],[67,31,55,29],[67,32,55,30],[67,33,55,31],[69,12,57,10],[70,12,58,10],[70,16,58,14,"columns"],[70,23,58,21],[70,28,58,26],[70,29,58,27],[70,31,58,29],[71,14,59,12],[72,14,60,12],[72,20,60,18],[72,24,60,22,"RangeError"],[72,34,60,32],[72,35,60,33],[72,89,60,87],[72,92,60,90],[72,96,60,90,"format"],[72,110,60,96],[72,111,60,96,"format"],[72,117,60,96],[72,119,60,97,"size"],[72,123,60,101],[72,124,60,102],[72,127,60,105],[72,130,60,108],[72,131,60,109],[73,12,61,10],[75,12,63,10],[76,12,64,10],[76,20,64,18,"x"],[76,21,64,19],[76,22,64,20,"storage"],[76,29,64,27],[76,30,64,28],[76,31,64,29],[77,14,65,12],[77,19,65,17],[77,26,65,24],[78,16,66,14,"c"],[78,17,66,15],[78,20,66,18,"_denseTranspose"],[78,35,66,33],[78,36,66,34,"x"],[78,37,66,35],[78,39,66,37,"rows"],[78,43,66,41],[78,45,66,43,"columns"],[78,52,66,50],[78,53,66,51],[79,16,67,14],[80,14,68,12],[80,19,68,17],[80,27,68,25],[81,16,69,14,"c"],[81,17,69,15],[81,20,69,18,"_sparseTranspose"],[81,36,69,34],[81,37,69,35,"x"],[81,38,69,36],[81,40,69,38,"rows"],[81,44,69,42],[81,46,69,44,"columns"],[81,53,69,51],[81,54,69,52],[82,16,70,14],[83,12,71,10],[84,10,72,8],[85,10,73,8],[86,8,74,6],[87,10,75,8],[88,10,76,8],[88,16,76,14],[88,20,76,18,"RangeError"],[88,30,76,28],[88,31,76,29],[88,83,76,81],[88,86,76,84],[88,90,76,84,"format"],[88,104,76,90],[88,105,76,90,"format"],[88,111,76,90],[88,113,76,91,"size"],[88,117,76,95],[88,118,76,96],[88,121,76,99],[88,124,76,102],[88,125,76,103],[89,6,77,4],[90,6,78,4],[90,13,78,11,"c"],[90,14,78,12],[91,4,79,2],[92,4,80,2],[92,13,80,11,"_denseTranspose"],[92,28,80,26,"_denseTranspose"],[92,29,80,27,"m"],[92,30,80,28],[92,32,80,30,"rows"],[92,36,80,34],[92,38,80,36,"columns"],[92,45,80,43],[92,47,80,45],[93,6,81,4],[94,6,82,4],[94,10,82,8,"data"],[94,14,82,12],[94,17,82,15,"m"],[94,18,82,16],[94,19,82,17,"_data"],[94,24,82,22],[95,6,83,4],[96,6,84,4],[96,10,84,8,"transposed"],[96,20,84,18],[96,23,84,21],[96,25,84,23],[97,6,85,4],[97,10,85,8,"transposedRow"],[97,23,85,21],[98,6,86,4],[99,6,87,4],[99,11,87,9],[99,15,87,13,"j"],[99,16,87,14],[99,19,87,17],[99,20,87,18],[99,22,87,20,"j"],[99,23,87,21],[99,26,87,24,"columns"],[99,33,87,31],[99,35,87,33,"j"],[99,36,87,34],[99,38,87,36],[99,40,87,38],[100,8,88,6],[101,8,89,6,"transposedRow"],[101,21,89,19],[101,24,89,22,"transposed"],[101,34,89,32],[101,35,89,33,"j"],[101,36,89,34],[101,37,89,35],[101,40,89,38],[101,42,89,40],[102,8,90,6],[103,8,91,6],[103,13,91,11],[103,17,91,15,"i"],[103,18,91,16],[103,21,91,19],[103,22,91,20],[103,24,91,22,"i"],[103,25,91,23],[103,28,91,26,"rows"],[103,32,91,30],[103,34,91,32,"i"],[103,35,91,33],[103,37,91,35],[103,39,91,37],[104,10,92,8],[105,10,93,8,"transposedRow"],[105,23,93,21],[105,24,93,22,"i"],[105,25,93,23],[105,26,93,24],[105,29,93,27],[105,33,93,27,"clone"],[105,47,93,32],[105,48,93,32,"clone"],[105,53,93,32],[105,55,93,33,"data"],[105,59,93,37],[105,60,93,38,"i"],[105,61,93,39],[105,62,93,40],[105,63,93,41,"j"],[105,64,93,42],[105,65,93,43],[105,66,93,44],[106,8,94,6],[107,6,95,4],[108,6,96,4],[109,6,97,4],[109,13,97,11,"m"],[109,14,97,12],[109,15,97,13,"createDenseMatrix"],[109,32,97,30],[109,33,97,31],[110,8,98,6,"data"],[110,12,98,10],[110,14,98,12,"transposed"],[110,24,98,22],[111,8,99,6,"size"],[111,12,99,10],[111,14,99,12],[111,15,99,13,"columns"],[111,22,99,20],[111,24,99,22,"rows"],[111,28,99,26],[111,29,99,27],[112,8,100,6,"datatype"],[112,16,100,14],[112,18,100,16,"m"],[112,19,100,17],[112,20,100,18,"_datatype"],[113,6,101,4],[113,7,101,5],[113,8,101,6],[114,4,102,2],[115,4,103,2],[115,13,103,11,"_sparseTranspose"],[115,29,103,27,"_sparseTranspose"],[115,30,103,28,"m"],[115,31,103,29],[115,33,103,31,"rows"],[115,37,103,35],[115,39,103,37,"columns"],[115,46,103,44],[115,48,103,46],[116,6,104,4],[117,6,105,4],[117,10,105,8,"values"],[117,16,105,14],[117,19,105,17,"m"],[117,20,105,18],[117,21,105,19,"_values"],[117,28,105,26],[118,6,106,4],[118,10,106,8,"index"],[118,15,106,13],[118,18,106,16,"m"],[118,19,106,17],[118,20,106,18,"_index"],[118,26,106,24],[119,6,107,4],[119,10,107,8,"ptr"],[119,13,107,11],[119,16,107,14,"m"],[119,17,107,15],[119,18,107,16,"_ptr"],[119,22,107,20],[120,6,108,4],[121,6,109,4],[121,10,109,8,"cvalues"],[121,17,109,15],[121,20,109,18,"values"],[121,26,109,24],[121,29,109,27],[121,31,109,29],[121,34,109,32,"undefined"],[121,43,109,41],[122,6,110,4],[122,10,110,8,"cindex"],[122,16,110,14],[122,19,110,17],[122,21,110,19],[123,6,111,4],[123,10,111,8,"cptr"],[123,14,111,12],[123,17,111,15],[123,19,111,17],[124,6,112,4],[125,6,113,4],[125,10,113,8,"w"],[125,11,113,9],[125,14,113,12],[125,16,113,14],[126,6,114,4],[126,11,114,9],[126,15,114,13,"x"],[126,16,114,14],[126,19,114,17],[126,20,114,18],[126,22,114,20,"x"],[126,23,114,21],[126,26,114,24,"rows"],[126,30,114,28],[126,32,114,30,"x"],[126,33,114,31],[126,35,114,33],[126,37,114,35],[127,8,115,6,"w"],[127,9,115,7],[127,10,115,8,"x"],[127,11,115,9],[127,12,115,10],[127,15,115,13],[127,16,115,14],[128,6,116,4],[129,6,117,4],[130,6,118,4],[130,10,118,8,"p"],[130,11,118,9],[130,13,118,11,"l"],[130,14,118,12],[130,16,118,14,"j"],[130,17,118,15],[131,6,119,4],[132,6,120,4],[132,11,120,9,"p"],[132,12,120,10],[132,15,120,13],[132,16,120,14],[132,18,120,16,"l"],[132,19,120,17],[132,22,120,20,"index"],[132,27,120,25],[132,28,120,26,"length"],[132,34,120,32],[132,36,120,34,"p"],[132,37,120,35],[132,40,120,38,"l"],[132,41,120,39],[132,43,120,41,"p"],[132,44,120,42],[132,46,120,44],[132,48,120,46],[133,8,121,6],[134,8,122,6,"w"],[134,9,122,7],[134,10,122,8,"index"],[134,15,122,13],[134,16,122,14,"p"],[134,17,122,15],[134,18,122,16],[134,19,122,17],[134,21,122,19],[135,6,123,4],[136,6,124,4],[137,6,125,4],[137,10,125,8,"sum"],[137,13,125,11],[137,16,125,14],[137,17,125,15],[138,6,126,4],[139,6,127,4],[139,11,127,9],[139,15,127,13,"i"],[139,16,127,14],[139,19,127,17],[139,20,127,18],[139,22,127,20,"i"],[139,23,127,21],[139,26,127,24,"rows"],[139,30,127,28],[139,32,127,30,"i"],[139,33,127,31],[139,35,127,33],[139,37,127,35],[140,8,128,6],[141,8,129,6,"cptr"],[141,12,129,10],[141,13,129,11,"push"],[141,17,129,15],[141,18,129,16,"sum"],[141,21,129,19],[141,22,129,20],[142,8,130,6],[143,8,131,6,"sum"],[143,11,131,9],[143,15,131,13,"w"],[143,16,131,14],[143,17,131,15,"i"],[143,18,131,16],[143,19,131,17],[144,8,132,6],[145,8,133,6,"w"],[145,9,133,7],[145,10,133,8,"i"],[145,11,133,9],[145,12,133,10],[145,15,133,13,"cptr"],[145,19,133,17],[145,20,133,18,"i"],[145,21,133,19],[145,22,133,20],[146,6,134,4],[147,6,135,4],[148,6,136,4,"cptr"],[148,10,136,8],[148,11,136,9,"push"],[148,15,136,13],[148,16,136,14,"sum"],[148,19,136,17],[148,20,136,18],[149,6,137,4],[150,6,138,4],[150,11,138,9,"j"],[150,12,138,10],[150,15,138,13],[150,16,138,14],[150,18,138,16,"j"],[150,19,138,17],[150,22,138,20,"columns"],[150,29,138,27],[150,31,138,29,"j"],[150,32,138,30],[150,34,138,32],[150,36,138,34],[151,8,139,6],[152,8,140,6],[152,13,140,11],[152,17,140,15,"k0"],[152,19,140,17],[152,22,140,20,"ptr"],[152,25,140,23],[152,26,140,24,"j"],[152,27,140,25],[152,28,140,26],[152,30,140,28,"k1"],[152,32,140,30],[152,35,140,33,"ptr"],[152,38,140,36],[152,39,140,37,"j"],[152,40,140,38],[152,43,140,41],[152,44,140,42],[152,45,140,43],[152,47,140,45,"k"],[152,48,140,46],[152,51,140,49,"k0"],[152,53,140,51],[152,55,140,53,"k"],[152,56,140,54],[152,59,140,57,"k1"],[152,61,140,59],[152,63,140,61,"k"],[152,64,140,62],[152,66,140,64],[152,68,140,66],[153,10,141,8],[154,10,142,8],[154,14,142,12,"q"],[154,15,142,13],[154,18,142,16,"w"],[154,19,142,17],[154,20,142,18,"index"],[154,25,142,23],[154,26,142,24,"k"],[154,27,142,25],[154,28,142,26],[154,29,142,27],[154,31,142,29],[155,10,143,8],[156,10,144,8,"cindex"],[156,16,144,14],[156,17,144,15,"q"],[156,18,144,16],[156,19,144,17],[156,22,144,20,"j"],[156,23,144,21],[157,10,145,8],[158,10,146,8],[158,14,146,12,"values"],[158,20,146,18],[158,22,146,20],[159,12,147,10,"cvalues"],[159,19,147,17],[159,20,147,18,"q"],[159,21,147,19],[159,22,147,20],[159,25,147,23],[159,29,147,23,"clone"],[159,43,147,28],[159,44,147,28,"clone"],[159,49,147,28],[159,51,147,29,"values"],[159,57,147,35],[159,58,147,36,"k"],[159,59,147,37],[159,60,147,38],[159,61,147,39],[160,10,148,8],[161,8,149,6],[162,6,150,4],[163,6,151,4],[164,6,152,4],[164,13,152,11,"m"],[164,14,152,12],[164,15,152,13,"createSparseMatrix"],[164,33,152,31],[164,34,152,32],[165,8,153,6,"values"],[165,14,153,12],[165,16,153,14,"cvalues"],[165,23,153,21],[166,8,154,6,"index"],[166,13,154,11],[166,15,154,13,"cindex"],[166,21,154,19],[167,8,155,6,"ptr"],[167,11,155,9],[167,13,155,11,"cptr"],[167,17,155,15],[168,8,156,6,"size"],[168,12,156,10],[168,14,156,12],[168,15,156,13,"columns"],[168,22,156,20],[168,24,156,22,"rows"],[168,28,156,26],[168,29,156,27],[169,8,157,6,"datatype"],[169,16,157,14],[169,18,157,16,"m"],[169,19,157,17],[169,20,157,18,"_datatype"],[170,6,158,4],[170,7,158,5],[170,8,158,6],[171,4,159,2],[172,2,160,0],[172,3,160,1],[172,4,160,2],[173,0,160,3],[173,3]],"functionMap":{"names":["<global>","factory$argument_2","typed$argument_1.Array","transposeMatrix","_denseTranspose","_sparseTranspose"],"mappings":"AAA;wECK;WC4B,yCD;EEI;GFyC;EGC;GHsB;EIC;GJwD;CDC"},"hasCjsExports":false},"type":"js/module"}]}