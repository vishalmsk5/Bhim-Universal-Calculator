{"dependencies":[{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":49,"index":107}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createKron\", {\n    enumerable: true,\n    get: function () {\n      return createKron;\n    }\n  });\n  var _utilsArrayJs = require(_dependencyMap[0], \"../../utils/array.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../utils/factory.js\");\n  var name = 'kron';\n  var dependencies = ['typed', 'matrix', 'multiplyScalar'];\n  var createKron = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      matrix = _ref.matrix,\n      multiplyScalar = _ref.multiplyScalar;\n    /**\n       * Calculates the Kronecker product of 2 matrices or vectors.\n       *\n       * NOTE: If a one dimensional vector / matrix is given, it will be\n       * wrapped so its two dimensions.\n       * See the examples.\n       *\n       * Syntax:\n       *\n       *    math.kron(x, y)\n       *\n       * Examples:\n       *\n       *    math.kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])\n       *    // returns [ [ 1, 2, 0, 0 ], [ 3, 4, 0, 0 ], [ 0, 0, 1, 2 ], [ 0, 0, 3, 4 ] ]\n       *\n       *    math.kron([1,1], [2,3,4])\n       *    // returns [2, 3, 4, 2, 3, 4]\n       *\n       * See also:\n       *\n       *    multiply, dot, cross\n       *\n       * @param  {Array | Matrix} x     First vector\n       * @param  {Array | Matrix} y     Second vector\n       * @return {Array | Matrix}       Returns the Kronecker product of `x` and `y`\n       */\n    return typed(name, {\n      'Matrix, Matrix': function Matrix_Matrix(x, y) {\n        return matrix(_kron(x.toArray(), y.toArray()));\n      },\n      'Matrix, Array': function Matrix_Array(x, y) {\n        return matrix(_kron(x.toArray(), y));\n      },\n      'Array, Matrix': function Array_Matrix(x, y) {\n        return matrix(_kron(x, y.toArray()));\n      },\n      'Array, Array': _kron\n    });\n\n    /**\n     * Calculate the Kronecker product of two (1-dimensional) vectors,\n     * with no dimension checking\n     * @param {Array} a  First vector\n     * @param {Array} b  Second vector\n     * @returns {Array}  the 1-dimensional Kronecker product of a and b\n     * @private\n     */\n    function _kron1d(a, b) {\n      // TODO in core overhaul: would be faster to see if we can choose a\n      // particular implementation of multiplyScalar at the beginning,\n      // rather than re-dispatch for _every_ ordered pair of entries.\n      return a.flatMap(x => b.map(y => multiplyScalar(x, y)));\n    }\n\n    /**\n     * Calculate the Kronecker product of two possibly multidimensional arrays\n     * @param {Array} a  First array\n     * @param {Array} b  Second array\n     * @param {number} [d]  common dimension; if missing, compute and match args\n     * @returns {Array} Returns the Kronecker product of x and y\n     * @private\n       */\n    function _kron(a, b) {\n      var d = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n      if (d < 0) {\n        var adim = (0, _utilsArrayJs.arraySize)(a).length;\n        var bdim = (0, _utilsArrayJs.arraySize)(b).length;\n        d = Math.max(adim, bdim);\n        while (adim++ < d) a = [a];\n        while (bdim++ < d) b = [b];\n      }\n      if (d === 1) return _kron1d(a, b);\n      return a.flatMap(aSlice => b.map(bSlice => _kron(aSlice, bSlice, d - 1)));\n    }\n  });\n});","lineCount":97,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"createKron"],[10,23,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_utilsArrayJs"],[13,19,1,0],[13,22,1,0,"require"],[13,29,1,0],[13,30,1,0,"_dependencyMap"],[13,44,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,4,"name"],[15,10,3,8],[15,13,3,11],[15,19,3,17],[16,2,4,0],[16,6,4,4,"dependencies"],[16,18,4,16],[16,21,4,19],[16,22,4,20],[16,29,4,27],[16,31,4,29],[16,39,4,37],[16,41,4,39],[16,57,4,55],[16,58,4,56],[17,2,5,7],[17,6,5,11,"createKron"],[17,16,5,21],[17,19,5,24],[17,34,5,39],[17,38,5,39,"factory"],[17,53,5,46],[17,54,5,46,"factory"],[17,61,5,46],[17,63,5,47,"name"],[17,67,5,51],[17,69,5,53,"dependencies"],[17,81,5,65],[17,83,5,67,"_ref"],[17,87,5,71],[17,91,5,75],[18,4,6,2],[18,8,7,4,"typed"],[18,13,7,9],[18,16,10,6,"_ref"],[18,20,10,10],[18,21,7,4,"typed"],[18,26,7,9],[19,6,8,4,"matrix"],[19,12,8,10],[19,15,10,6,"_ref"],[19,19,10,10],[19,20,8,4,"matrix"],[19,26,8,10],[20,6,9,4,"multiplyScalar"],[20,20,9,18],[20,23,10,6,"_ref"],[20,27,10,10],[20,28,9,4,"multiplyScalar"],[20,42,9,18],[21,4,11,2],[22,0,12,0],[23,0,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,0,35,0],[46,0,36,0],[47,0,37,0],[48,4,38,2],[48,11,38,9,"typed"],[48,16,38,14],[48,17,38,15,"name"],[48,21,38,19],[48,23,38,21],[49,6,39,4],[49,22,39,20],[49,24,39,22],[49,33,39,31,"Matrix_Matrix"],[49,46,39,44,"Matrix_Matrix"],[49,47,39,45,"x"],[49,48,39,46],[49,50,39,48,"y"],[49,51,39,49],[49,53,39,51],[50,8,40,6],[50,15,40,13,"matrix"],[50,21,40,19],[50,22,40,20,"_kron"],[50,27,40,25],[50,28,40,26,"x"],[50,29,40,27],[50,30,40,28,"toArray"],[50,37,40,35],[50,38,40,36],[50,39,40,37],[50,41,40,39,"y"],[50,42,40,40],[50,43,40,41,"toArray"],[50,50,40,48],[50,51,40,49],[50,52,40,50],[50,53,40,51],[50,54,40,52],[51,6,41,4],[51,7,41,5],[52,6,42,4],[52,21,42,19],[52,23,42,21],[52,32,42,30,"Matrix_Array"],[52,44,42,42,"Matrix_Array"],[52,45,42,43,"x"],[52,46,42,44],[52,48,42,46,"y"],[52,49,42,47],[52,51,42,49],[53,8,43,6],[53,15,43,13,"matrix"],[53,21,43,19],[53,22,43,20,"_kron"],[53,27,43,25],[53,28,43,26,"x"],[53,29,43,27],[53,30,43,28,"toArray"],[53,37,43,35],[53,38,43,36],[53,39,43,37],[53,41,43,39,"y"],[53,42,43,40],[53,43,43,41],[53,44,43,42],[54,6,44,4],[54,7,44,5],[55,6,45,4],[55,21,45,19],[55,23,45,21],[55,32,45,30,"Array_Matrix"],[55,44,45,42,"Array_Matrix"],[55,45,45,43,"x"],[55,46,45,44],[55,48,45,46,"y"],[55,49,45,47],[55,51,45,49],[56,8,46,6],[56,15,46,13,"matrix"],[56,21,46,19],[56,22,46,20,"_kron"],[56,27,46,25],[56,28,46,26,"x"],[56,29,46,27],[56,31,46,29,"y"],[56,32,46,30],[56,33,46,31,"toArray"],[56,40,46,38],[56,41,46,39],[56,42,46,40],[56,43,46,41],[56,44,46,42],[57,6,47,4],[57,7,47,5],[58,6,48,4],[58,20,48,18],[58,22,48,20,"_kron"],[59,4,49,2],[59,5,49,3],[59,6,49,4],[61,4,51,2],[62,0,52,0],[63,0,53,0],[64,0,54,0],[65,0,55,0],[66,0,56,0],[67,0,57,0],[68,0,58,0],[69,4,59,2],[69,13,59,11,"_kron1d"],[69,20,59,18,"_kron1d"],[69,21,59,19,"a"],[69,22,59,20],[69,24,59,22,"b"],[69,25,59,23],[69,27,59,25],[70,6,60,4],[71,6,61,4],[72,6,62,4],[73,6,63,4],[73,13,63,11,"a"],[73,14,63,12],[73,15,63,13,"flatMap"],[73,22,63,20],[73,23,63,21,"x"],[73,24,63,22],[73,28,63,26,"b"],[73,29,63,27],[73,30,63,28,"map"],[73,33,63,31],[73,34,63,32,"y"],[73,35,63,33],[73,39,63,37,"multiplyScalar"],[73,53,63,51],[73,54,63,52,"x"],[73,55,63,53],[73,57,63,55,"y"],[73,58,63,56],[73,59,63,57],[73,60,63,58],[73,61,63,59],[74,4,64,2],[76,4,66,2],[77,0,67,0],[78,0,68,0],[79,0,69,0],[80,0,70,0],[81,0,71,0],[82,0,72,0],[83,0,73,0],[84,4,74,2],[84,13,74,11,"_kron"],[84,18,74,16,"_kron"],[84,19,74,17,"a"],[84,20,74,18],[84,22,74,20,"b"],[84,23,74,21],[84,25,74,23],[85,6,75,4],[85,10,75,8,"d"],[85,11,75,9],[85,14,75,12,"arguments"],[85,23,75,21],[85,24,75,22,"length"],[85,30,75,28],[85,33,75,31],[85,34,75,32],[85,38,75,36,"arguments"],[85,47,75,45],[85,48,75,46],[85,49,75,47],[85,50,75,48],[85,55,75,53,"undefined"],[85,64,75,62],[85,67,75,65,"arguments"],[85,76,75,74],[85,77,75,75],[85,78,75,76],[85,79,75,77],[85,82,75,80],[85,83,75,81],[85,84,75,82],[86,6,76,4],[86,10,76,8,"d"],[86,11,76,9],[86,14,76,12],[86,15,76,13],[86,17,76,15],[87,8,77,6],[87,12,77,10,"adim"],[87,16,77,14],[87,19,77,17],[87,23,77,17,"size"],[87,36,77,21],[87,37,77,21,"arraySize"],[87,46,77,21],[87,48,77,22,"a"],[87,49,77,23],[87,50,77,24],[87,51,77,25,"length"],[87,57,77,31],[88,8,78,6],[88,12,78,10,"bdim"],[88,16,78,14],[88,19,78,17],[88,23,78,17,"size"],[88,36,78,21],[88,37,78,21,"arraySize"],[88,46,78,21],[88,48,78,22,"b"],[88,49,78,23],[88,50,78,24],[88,51,78,25,"length"],[88,57,78,31],[89,8,79,6,"d"],[89,9,79,7],[89,12,79,10,"Math"],[89,16,79,14],[89,17,79,15,"max"],[89,20,79,18],[89,21,79,19,"adim"],[89,25,79,23],[89,27,79,25,"bdim"],[89,31,79,29],[89,32,79,30],[90,8,80,6],[90,15,80,13,"adim"],[90,19,80,17],[90,21,80,19],[90,24,80,22,"d"],[90,25,80,23],[90,27,80,25,"a"],[90,28,80,26],[90,31,80,29],[90,32,80,30,"a"],[90,33,80,31],[90,34,80,32],[91,8,81,6],[91,15,81,13,"bdim"],[91,19,81,17],[91,21,81,19],[91,24,81,22,"d"],[91,25,81,23],[91,27,81,25,"b"],[91,28,81,26],[91,31,81,29],[91,32,81,30,"b"],[91,33,81,31],[91,34,81,32],[92,6,82,4],[93,6,83,4],[93,10,83,8,"d"],[93,11,83,9],[93,16,83,14],[93,17,83,15],[93,19,83,17],[93,26,83,24,"_kron1d"],[93,33,83,31],[93,34,83,32,"a"],[93,35,83,33],[93,37,83,35,"b"],[93,38,83,36],[93,39,83,37],[94,6,84,4],[94,13,84,11,"a"],[94,14,84,12],[94,15,84,13,"flatMap"],[94,22,84,20],[94,23,84,21,"aSlice"],[94,29,84,27],[94,33,84,31,"b"],[94,34,84,32],[94,35,84,33,"map"],[94,38,84,36],[94,39,84,37,"bSlice"],[94,45,84,43],[94,49,84,47,"_kron"],[94,54,84,52],[94,55,84,53,"aSlice"],[94,61,84,59],[94,63,84,61,"bSlice"],[94,69,84,67],[94,71,84,69,"d"],[94,72,84,70],[94,75,84,73],[94,76,84,74],[94,77,84,75],[94,78,84,76],[94,79,84,77],[95,4,85,2],[96,2,86,0],[96,3,86,1],[96,4,86,2],[97,0,86,3],[97,3]],"functionMap":{"names":["<global>","factory$argument_2","Matrix_Matrix","Matrix_Array","Array_Matrix","_kron1d","a.flatMap$argument_0","b.map$argument_0","_kron"],"mappings":"AAA;mECI;sBCkC;KDE;qBEC;KFE;qBGC;KHE;EIY;qBCI,WC,yBD,CD;GJC;EOU;qBFU,gBC,sCD,CE;GPC;CDC"},"hasCjsExports":false},"type":"js/module"}]}