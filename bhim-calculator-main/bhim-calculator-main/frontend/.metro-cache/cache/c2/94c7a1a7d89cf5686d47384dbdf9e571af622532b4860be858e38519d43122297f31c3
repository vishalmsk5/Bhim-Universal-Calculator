{"dependencies":[{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"../../plain/number/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":74,"index":124}}],"key":"dwyam7N7L9RpXw/p277VGcXEmiY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createGamma\", {\n    enumerable: true,\n    get: function () {\n      return createGamma;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../utils/factory.js\");\n  var _plainNumberIndexJs = require(_dependencyMap[1], \"../../plain/number/index.js\");\n  var name = 'gamma';\n  var dependencies = ['typed', 'config', 'multiplyScalar', 'pow', 'BigNumber', 'Complex'];\n  var createGamma = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      config,\n      multiplyScalar,\n      pow,\n      BigNumber: _BigNumber,\n      Complex\n    } = _ref;\n    /**\n     * Compute the gamma function of a value using Lanczos approximation for\n     * small values, and an extended Stirling approximation for large values.\n     *\n     * To avoid confusion with the matrix Gamma function, this function does\n     * not apply to matrices.\n     *\n     * Syntax:\n     *\n     *    math.gamma(n)\n     *\n     * Examples:\n     *\n     *    math.gamma(5)       // returns 24\n     *    math.gamma(-0.5)    // returns -3.5449077018110335\n     *    math.gamma(math.i)  // returns -0.15494982830180973 - 0.49801566811835596i\n     *\n     * See also:\n     *\n     *    combinations, factorial, permutations\n     *\n     * @param {number | BigNumber | Complex} n   A real or complex number\n     * @return {number | BigNumber | Complex}    The gamma of `n`\n     */\n\n    function gammaComplex(n) {\n      if (n.im === 0) {\n        return (0, _plainNumberIndexJs.gammaNumber)(n.re);\n      }\n\n      // Lanczos approximation doesn't work well with real part lower than 0.5\n      // So reflection formula is required\n      if (n.re < 0.5) {\n        // Euler's reflection formula\n        // gamma(1-z) * gamma(z) = PI / sin(PI * z)\n        // real part of Z should not be integer [sin(PI) == 0 -> 1/0 - undefined]\n        // thanks to imperfect sin implementation sin(PI * n) != 0\n        // we can safely use it anyway\n        var _t = new Complex(1 - n.re, -n.im);\n        var r = new Complex(Math.PI * n.re, Math.PI * n.im);\n        return new Complex(Math.PI).div(r.sin()).div(gammaComplex(_t));\n      }\n\n      // Lanczos approximation\n      // z -= 1\n      n = new Complex(n.re - 1, n.im);\n\n      // x = gammaPval[0]\n      var x = new Complex(_plainNumberIndexJs.gammaP[0], 0);\n      // for (i, gammaPval) in enumerate(gammaP):\n      for (var i = 1; i < _plainNumberIndexJs.gammaP.length; ++i) {\n        // x += gammaPval / (z + i)\n        var gammaPval = new Complex(_plainNumberIndexJs.gammaP[i], 0);\n        x = x.add(gammaPval.div(n.add(i)));\n      }\n      // t = z + gammaG + 0.5\n      var t = new Complex(n.re + _plainNumberIndexJs.gammaG + 0.5, n.im);\n\n      // y = sqrt(2 * pi) * t ** (z + 0.5) * exp(-t) * x\n      var twoPiSqrt = Math.sqrt(2 * Math.PI);\n      var tpow = t.pow(n.add(0.5));\n      var expt = t.neg().exp();\n\n      // y = [x] * [sqrt(2 * pi)] * [t ** (z + 0.5)] * [exp(-t)]\n      return x.mul(twoPiSqrt).mul(tpow).mul(expt);\n    }\n    return typed(name, {\n      number: _plainNumberIndexJs.gammaNumber,\n      Complex: gammaComplex,\n      BigNumber: function BigNumber(n) {\n        if (n.isInteger()) {\n          return n.isNegative() || n.isZero() ? new _BigNumber(Infinity) : bigFactorial(n.minus(1));\n        }\n        if (!n.isFinite()) {\n          return new _BigNumber(n.isNegative() ? NaN : Infinity);\n        }\n        throw new Error('Integer BigNumber expected');\n      }\n    });\n\n    /**\n     * Calculate factorial for a BigNumber\n     * @param {BigNumber} n\n     * @returns {BigNumber} Returns the factorial of n\n     */\n    function bigFactorial(n) {\n      if (n < 8) {\n        return new _BigNumber([1, 1, 2, 6, 24, 120, 720, 5040][n]);\n      }\n      var precision = config.precision + (Math.log(n.toNumber()) | 0);\n      var Big = _BigNumber.clone({\n        precision\n      });\n      if (n % 2 === 1) {\n        return n.times(bigFactorial(new _BigNumber(n - 1)));\n      }\n      var p = n;\n      var prod = new Big(n);\n      var sum = n.toNumber();\n      while (p > 2) {\n        p -= 2;\n        sum += p;\n        prod = prod.times(sum);\n      }\n      return new _BigNumber(prod.toPrecision(_BigNumber.precision));\n    }\n  });\n});","lineCount":133,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"createGamma"],[10,24,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,0,"_plainNumberIndexJs"],[14,25,2,0],[14,28,2,0,"require"],[14,35,2,0],[14,36,2,0,"_dependencyMap"],[14,50,2,0],[15,2,3,0],[15,6,3,4,"name"],[15,10,3,8],[15,13,3,11],[15,20,3,18],[16,2,4,0],[16,6,4,4,"dependencies"],[16,18,4,16],[16,21,4,19],[16,22,4,20],[16,29,4,27],[16,31,4,29],[16,39,4,37],[16,41,4,39],[16,57,4,55],[16,59,4,57],[16,64,4,62],[16,66,4,64],[16,77,4,75],[16,79,4,77],[16,88,4,86],[16,89,4,87],[17,2,5,7],[17,6,5,11,"createGamma"],[17,17,5,22],[17,20,5,25],[17,35,5,40],[17,39,5,40,"factory"],[17,54,5,47],[17,55,5,47,"factory"],[17,62,5,47],[17,64,5,48,"name"],[17,68,5,52],[17,70,5,54,"dependencies"],[17,82,5,66],[17,84,5,68,"_ref"],[17,88,5,72],[17,92,5,76],[18,4,6,2],[18,8,6,6],[19,6,7,4,"typed"],[19,11,7,9],[20,6,8,4,"config"],[20,12,8,10],[21,6,9,4,"multiplyScalar"],[21,20,9,18],[22,6,10,4,"pow"],[22,9,10,7],[23,6,11,4,"BigNumber"],[23,15,11,13],[23,17,11,15,"_BigNumber"],[23,27,11,25],[24,6,12,4,"Complex"],[25,4,13,2],[25,5,13,3],[25,8,13,6,"_ref"],[25,12,13,10],[26,4,14,2],[27,0,15,0],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,0,33,0],[46,0,34,0],[47,0,35,0],[48,0,36,0],[49,0,37,0],[51,4,39,2],[51,13,39,11,"gammaComplex"],[51,25,39,23,"gammaComplex"],[51,26,39,24,"n"],[51,27,39,25],[51,29,39,27],[52,6,40,4],[52,10,40,8,"n"],[52,11,40,9],[52,12,40,10,"im"],[52,14,40,12],[52,19,40,17],[52,20,40,18],[52,22,40,20],[53,8,41,6],[53,15,41,13],[53,19,41,13,"gammaNumber"],[53,38,41,24],[53,39,41,24,"gammaNumber"],[53,50,41,24],[53,52,41,25,"n"],[53,53,41,26],[53,54,41,27,"re"],[53,56,41,29],[53,57,41,30],[54,6,42,4],[56,6,44,4],[57,6,45,4],[58,6,46,4],[58,10,46,8,"n"],[58,11,46,9],[58,12,46,10,"re"],[58,14,46,12],[58,17,46,15],[58,20,46,18],[58,22,46,20],[59,8,47,6],[60,8,48,6],[61,8,49,6],[62,8,50,6],[63,8,51,6],[64,8,52,6],[64,12,52,10,"_t"],[64,14,52,12],[64,17,52,15],[64,21,52,19,"Complex"],[64,28,52,26],[64,29,52,27],[64,30,52,28],[64,33,52,31,"n"],[64,34,52,32],[64,35,52,33,"re"],[64,37,52,35],[64,39,52,37],[64,40,52,38,"n"],[64,41,52,39],[64,42,52,40,"im"],[64,44,52,42],[64,45,52,43],[65,8,53,6],[65,12,53,10,"r"],[65,13,53,11],[65,16,53,14],[65,20,53,18,"Complex"],[65,27,53,25],[65,28,53,26,"Math"],[65,32,53,30],[65,33,53,31,"PI"],[65,35,53,33],[65,38,53,36,"n"],[65,39,53,37],[65,40,53,38,"re"],[65,42,53,40],[65,44,53,42,"Math"],[65,48,53,46],[65,49,53,47,"PI"],[65,51,53,49],[65,54,53,52,"n"],[65,55,53,53],[65,56,53,54,"im"],[65,58,53,56],[65,59,53,57],[66,8,54,6],[66,15,54,13],[66,19,54,17,"Complex"],[66,26,54,24],[66,27,54,25,"Math"],[66,31,54,29],[66,32,54,30,"PI"],[66,34,54,32],[66,35,54,33],[66,36,54,34,"div"],[66,39,54,37],[66,40,54,38,"r"],[66,41,54,39],[66,42,54,40,"sin"],[66,45,54,43],[66,46,54,44],[66,47,54,45],[66,48,54,46],[66,49,54,47,"div"],[66,52,54,50],[66,53,54,51,"gammaComplex"],[66,65,54,63],[66,66,54,64,"_t"],[66,68,54,66],[66,69,54,67],[66,70,54,68],[67,6,55,4],[69,6,57,4],[70,6,58,4],[71,6,59,4,"n"],[71,7,59,5],[71,10,59,8],[71,14,59,12,"Complex"],[71,21,59,19],[71,22,59,20,"n"],[71,23,59,21],[71,24,59,22,"re"],[71,26,59,24],[71,29,59,27],[71,30,59,28],[71,32,59,30,"n"],[71,33,59,31],[71,34,59,32,"im"],[71,36,59,34],[71,37,59,35],[73,6,61,4],[74,6,62,4],[74,10,62,8,"x"],[74,11,62,9],[74,14,62,12],[74,18,62,16,"Complex"],[74,25,62,23],[74,26,62,24,"gammaP"],[74,45,62,30],[74,46,62,30,"gammaP"],[74,52,62,30],[74,53,62,31],[74,54,62,32],[74,55,62,33],[74,57,62,35],[74,58,62,36],[74,59,62,37],[75,6,63,4],[76,6,64,4],[76,11,64,9],[76,15,64,13,"i"],[76,16,64,14],[76,19,64,17],[76,20,64,18],[76,22,64,20,"i"],[76,23,64,21],[76,26,64,24,"gammaP"],[76,45,64,30],[76,46,64,30,"gammaP"],[76,52,64,30],[76,53,64,31,"length"],[76,59,64,37],[76,61,64,39],[76,63,64,41,"i"],[76,64,64,42],[76,66,64,44],[77,8,65,6],[78,8,66,6],[78,12,66,10,"gammaPval"],[78,21,66,19],[78,24,66,22],[78,28,66,26,"Complex"],[78,35,66,33],[78,36,66,34,"gammaP"],[78,55,66,40],[78,56,66,40,"gammaP"],[78,62,66,40],[78,63,66,41,"i"],[78,64,66,42],[78,65,66,43],[78,67,66,45],[78,68,66,46],[78,69,66,47],[79,8,67,6,"x"],[79,9,67,7],[79,12,67,10,"x"],[79,13,67,11],[79,14,67,12,"add"],[79,17,67,15],[79,18,67,16,"gammaPval"],[79,27,67,25],[79,28,67,26,"div"],[79,31,67,29],[79,32,67,30,"n"],[79,33,67,31],[79,34,67,32,"add"],[79,37,67,35],[79,38,67,36,"i"],[79,39,67,37],[79,40,67,38],[79,41,67,39],[79,42,67,40],[80,6,68,4],[81,6,69,4],[82,6,70,4],[82,10,70,8,"t"],[82,11,70,9],[82,14,70,12],[82,18,70,16,"Complex"],[82,25,70,23],[82,26,70,24,"n"],[82,27,70,25],[82,28,70,26,"re"],[82,30,70,28],[82,33,70,31,"gammaG"],[82,52,70,37],[82,53,70,37,"gammaG"],[82,59,70,37],[82,62,70,40],[82,65,70,43],[82,67,70,45,"n"],[82,68,70,46],[82,69,70,47,"im"],[82,71,70,49],[82,72,70,50],[84,6,72,4],[85,6,73,4],[85,10,73,8,"twoPiSqrt"],[85,19,73,17],[85,22,73,20,"Math"],[85,26,73,24],[85,27,73,25,"sqrt"],[85,31,73,29],[85,32,73,30],[85,33,73,31],[85,36,73,34,"Math"],[85,40,73,38],[85,41,73,39,"PI"],[85,43,73,41],[85,44,73,42],[86,6,74,4],[86,10,74,8,"tpow"],[86,14,74,12],[86,17,74,15,"t"],[86,18,74,16],[86,19,74,17,"pow"],[86,22,74,20],[86,23,74,21,"n"],[86,24,74,22],[86,25,74,23,"add"],[86,28,74,26],[86,29,74,27],[86,32,74,30],[86,33,74,31],[86,34,74,32],[87,6,75,4],[87,10,75,8,"expt"],[87,14,75,12],[87,17,75,15,"t"],[87,18,75,16],[87,19,75,17,"neg"],[87,22,75,20],[87,23,75,21],[87,24,75,22],[87,25,75,23,"exp"],[87,28,75,26],[87,29,75,27],[87,30,75,28],[89,6,77,4],[90,6,78,4],[90,13,78,11,"x"],[90,14,78,12],[90,15,78,13,"mul"],[90,18,78,16],[90,19,78,17,"twoPiSqrt"],[90,28,78,26],[90,29,78,27],[90,30,78,28,"mul"],[90,33,78,31],[90,34,78,32,"tpow"],[90,38,78,36],[90,39,78,37],[90,40,78,38,"mul"],[90,43,78,41],[90,44,78,42,"expt"],[90,48,78,46],[90,49,78,47],[91,4,79,2],[92,4,80,2],[92,11,80,9,"typed"],[92,16,80,14],[92,17,80,15,"name"],[92,21,80,19],[92,23,80,21],[93,6,81,4,"number"],[93,12,81,10],[93,14,81,12,"gammaNumber"],[93,33,81,23],[93,34,81,23,"gammaNumber"],[93,45,81,23],[94,6,82,4,"Complex"],[94,13,82,11],[94,15,82,13,"gammaComplex"],[94,27,82,25],[95,6,83,4,"BigNumber"],[95,15,83,13],[95,17,83,15],[95,26,83,24,"BigNumber"],[95,35,83,33,"BigNumber"],[95,36,83,34,"n"],[95,37,83,35],[95,39,83,37],[96,8,84,6],[96,12,84,10,"n"],[96,13,84,11],[96,14,84,12,"isInteger"],[96,23,84,21],[96,24,84,22],[96,25,84,23],[96,27,84,25],[97,10,85,8],[97,17,85,15,"n"],[97,18,85,16],[97,19,85,17,"isNegative"],[97,29,85,27],[97,30,85,28],[97,31,85,29],[97,35,85,33,"n"],[97,36,85,34],[97,37,85,35,"isZero"],[97,43,85,41],[97,44,85,42],[97,45,85,43],[97,48,85,46],[97,52,85,50,"_BigNumber"],[97,62,85,60],[97,63,85,61,"Infinity"],[97,71,85,69],[97,72,85,70],[97,75,85,73,"bigFactorial"],[97,87,85,85],[97,88,85,86,"n"],[97,89,85,87],[97,90,85,88,"minus"],[97,95,85,93],[97,96,85,94],[97,97,85,95],[97,98,85,96],[97,99,85,97],[98,8,86,6],[99,8,87,6],[99,12,87,10],[99,13,87,11,"n"],[99,14,87,12],[99,15,87,13,"isFinite"],[99,23,87,21],[99,24,87,22],[99,25,87,23],[99,27,87,25],[100,10,88,8],[100,17,88,15],[100,21,88,19,"_BigNumber"],[100,31,88,29],[100,32,88,30,"n"],[100,33,88,31],[100,34,88,32,"isNegative"],[100,44,88,42],[100,45,88,43],[100,46,88,44],[100,49,88,47,"NaN"],[100,52,88,50],[100,55,88,53,"Infinity"],[100,63,88,61],[100,64,88,62],[101,8,89,6],[102,8,90,6],[102,14,90,12],[102,18,90,16,"Error"],[102,23,90,21],[102,24,90,22],[102,52,90,50],[102,53,90,51],[103,6,91,4],[104,4,92,2],[104,5,92,3],[104,6,92,4],[106,4,94,2],[107,0,95,0],[108,0,96,0],[109,0,97,0],[110,0,98,0],[111,4,99,2],[111,13,99,11,"bigFactorial"],[111,25,99,23,"bigFactorial"],[111,26,99,24,"n"],[111,27,99,25],[111,29,99,27],[112,6,100,4],[112,10,100,8,"n"],[112,11,100,9],[112,14,100,12],[112,15,100,13],[112,17,100,15],[113,8,101,6],[113,15,101,13],[113,19,101,17,"_BigNumber"],[113,29,101,27],[113,30,101,28],[113,31,101,29],[113,32,101,30],[113,34,101,32],[113,35,101,33],[113,37,101,35],[113,38,101,36],[113,40,101,38],[113,41,101,39],[113,43,101,41],[113,45,101,43],[113,47,101,45],[113,50,101,48],[113,52,101,50],[113,55,101,53],[113,57,101,55],[113,61,101,59],[113,62,101,60],[113,63,101,61,"n"],[113,64,101,62],[113,65,101,63],[113,66,101,64],[114,6,102,4],[115,6,103,4],[115,10,103,8,"precision"],[115,19,103,17],[115,22,103,20,"config"],[115,28,103,26],[115,29,103,27,"precision"],[115,38,103,36],[115,42,103,40,"Math"],[115,46,103,44],[115,47,103,45,"log"],[115,50,103,48],[115,51,103,49,"n"],[115,52,103,50],[115,53,103,51,"toNumber"],[115,61,103,59],[115,62,103,60],[115,63,103,61],[115,64,103,62],[115,67,103,65],[115,68,103,66],[115,69,103,67],[116,6,104,4],[116,10,104,8,"Big"],[116,13,104,11],[116,16,104,14,"_BigNumber"],[116,26,104,24],[116,27,104,25,"clone"],[116,32,104,30],[116,33,104,31],[117,8,105,6,"precision"],[118,6,106,4],[118,7,106,5],[118,8,106,6],[119,6,107,4],[119,10,107,8,"n"],[119,11,107,9],[119,14,107,12],[119,15,107,13],[119,20,107,18],[119,21,107,19],[119,23,107,21],[120,8,108,6],[120,15,108,13,"n"],[120,16,108,14],[120,17,108,15,"times"],[120,22,108,20],[120,23,108,21,"bigFactorial"],[120,35,108,33],[120,36,108,34],[120,40,108,38,"_BigNumber"],[120,50,108,48],[120,51,108,49,"n"],[120,52,108,50],[120,55,108,53],[120,56,108,54],[120,57,108,55],[120,58,108,56],[120,59,108,57],[121,6,109,4],[122,6,110,4],[122,10,110,8,"p"],[122,11,110,9],[122,14,110,12,"n"],[122,15,110,13],[123,6,111,4],[123,10,111,8,"prod"],[123,14,111,12],[123,17,111,15],[123,21,111,19,"Big"],[123,24,111,22],[123,25,111,23,"n"],[123,26,111,24],[123,27,111,25],[124,6,112,4],[124,10,112,8,"sum"],[124,13,112,11],[124,16,112,14,"n"],[124,17,112,15],[124,18,112,16,"toNumber"],[124,26,112,24],[124,27,112,25],[124,28,112,26],[125,6,113,4],[125,13,113,11,"p"],[125,14,113,12],[125,17,113,15],[125,18,113,16],[125,20,113,18],[126,8,114,6,"p"],[126,9,114,7],[126,13,114,11],[126,14,114,12],[127,8,115,6,"sum"],[127,11,115,9],[127,15,115,13,"p"],[127,16,115,14],[128,8,116,6,"prod"],[128,12,116,10],[128,15,116,13,"prod"],[128,19,116,17],[128,20,116,18,"times"],[128,25,116,23],[128,26,116,24,"sum"],[128,29,116,27],[128,30,116,28],[129,6,117,4],[130,6,118,4],[130,13,118,11],[130,17,118,15,"_BigNumber"],[130,27,118,25],[130,28,118,26,"prod"],[130,32,118,30],[130,33,118,31,"toPrecision"],[130,44,118,42],[130,45,118,43,"_BigNumber"],[130,55,118,53],[130,56,118,54,"precision"],[130,65,118,63],[130,66,118,64],[130,67,118,65],[131,4,119,2],[132,2,120,0],[132,3,120,1],[132,4,120,2],[133,0,120,3],[133,3]],"functionMap":{"names":["<global>","factory$argument_2","gammaComplex","BigNumber","bigFactorial"],"mappings":"AAA;oECI;ECkC;GDwC;eEI;KFQ;EGQ;GHoB;CDC"},"hasCjsExports":false},"type":"js/module"}]}