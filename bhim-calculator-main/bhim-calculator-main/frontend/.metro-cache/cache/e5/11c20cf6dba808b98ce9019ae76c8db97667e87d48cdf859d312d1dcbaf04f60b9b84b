{"dependencies":[{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":49,"index":107}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createKron\", {\n    enumerable: true,\n    get: function () {\n      return createKron;\n    }\n  });\n  var _utilsArrayJs = require(_dependencyMap[0], \"../../utils/array.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../utils/factory.js\");\n  var name = 'kron';\n  var dependencies = ['typed', 'matrix', 'multiplyScalar'];\n  var createKron = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      matrix,\n      multiplyScalar\n    } = _ref;\n    /**\n       * Calculates the Kronecker product of 2 matrices or vectors.\n       *\n       * NOTE: If a one dimensional vector / matrix is given, it will be\n       * wrapped so its two dimensions.\n       * See the examples.\n       *\n       * Syntax:\n       *\n       *    math.kron(x, y)\n       *\n       * Examples:\n       *\n       *    math.kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])\n       *    // returns [ [ 1, 2, 0, 0 ], [ 3, 4, 0, 0 ], [ 0, 0, 1, 2 ], [ 0, 0, 3, 4 ] ]\n       *\n       *    math.kron([1,1], [2,3,4])\n       *    // returns [2, 3, 4, 2, 3, 4]\n       *\n       * See also:\n       *\n       *    multiply, dot, cross\n       *\n       * @param  {Array | Matrix} x     First vector\n       * @param  {Array | Matrix} y     Second vector\n       * @return {Array | Matrix}       Returns the Kronecker product of `x` and `y`\n       */\n    return typed(name, {\n      'Matrix, Matrix': function Matrix_Matrix(x, y) {\n        return matrix(_kron(x.toArray(), y.toArray()));\n      },\n      'Matrix, Array': function Matrix_Array(x, y) {\n        return matrix(_kron(x.toArray(), y));\n      },\n      'Array, Matrix': function Array_Matrix(x, y) {\n        return matrix(_kron(x, y.toArray()));\n      },\n      'Array, Array': _kron\n    });\n\n    /**\n     * Calculate the Kronecker product of two (1-dimensional) vectors,\n     * with no dimension checking\n     * @param {Array} a  First vector\n     * @param {Array} b  Second vector\n     * @returns {Array}  the 1-dimensional Kronecker product of a and b\n     * @private\n     */\n    function _kron1d(a, b) {\n      // TODO in core overhaul: would be faster to see if we can choose a\n      // particular implementation of multiplyScalar at the beginning,\n      // rather than re-dispatch for _every_ ordered pair of entries.\n      return a.flatMap(x => b.map(y => multiplyScalar(x, y)));\n    }\n\n    /**\n     * Calculate the Kronecker product of two possibly multidimensional arrays\n     * @param {Array} a  First array\n     * @param {Array} b  Second array\n     * @param {number} [d]  common dimension; if missing, compute and match args\n     * @returns {Array} Returns the Kronecker product of x and y\n     * @private\n       */\n    function _kron(a, b) {\n      var d = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n      if (d < 0) {\n        var adim = (0, _utilsArrayJs.arraySize)(a).length;\n        var bdim = (0, _utilsArrayJs.arraySize)(b).length;\n        d = Math.max(adim, bdim);\n        while (adim++ < d) a = [a];\n        while (bdim++ < d) b = [b];\n      }\n      if (d === 1) return _kron1d(a, b);\n      return a.flatMap(aSlice => b.map(bSlice => _kron(aSlice, bSlice, d - 1)));\n    }\n  });\n});","lineCount":99,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"createKron"],[10,23,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_utilsArrayJs"],[13,19,1,0],[13,22,1,0,"require"],[13,29,1,0],[13,30,1,0,"_dependencyMap"],[13,44,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,4,"name"],[15,10,3,8],[15,13,3,11],[15,19,3,17],[16,2,4,0],[16,6,4,4,"dependencies"],[16,18,4,16],[16,21,4,19],[16,22,4,20],[16,29,4,27],[16,31,4,29],[16,39,4,37],[16,41,4,39],[16,57,4,55],[16,58,4,56],[17,2,5,7],[17,6,5,11,"createKron"],[17,16,5,21],[17,19,5,24],[17,34,5,39],[17,38,5,39,"factory"],[17,53,5,46],[17,54,5,46,"factory"],[17,61,5,46],[17,63,5,47,"name"],[17,67,5,51],[17,69,5,53,"dependencies"],[17,81,5,65],[17,83,5,67,"_ref"],[17,87,5,71],[17,91,5,75],[18,4,6,2],[18,8,6,6],[19,6,7,4,"typed"],[19,11,7,9],[20,6,8,4,"matrix"],[20,12,8,10],[21,6,9,4,"multiplyScalar"],[22,4,10,2],[22,5,10,3],[22,8,10,6,"_ref"],[22,12,10,10],[23,4,11,2],[24,0,12,0],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,0,33,0],[46,0,34,0],[47,0,35,0],[48,0,36,0],[49,0,37,0],[50,4,38,2],[50,11,38,9,"typed"],[50,16,38,14],[50,17,38,15,"name"],[50,21,38,19],[50,23,38,21],[51,6,39,4],[51,22,39,20],[51,24,39,22],[51,33,39,31,"Matrix_Matrix"],[51,46,39,44,"Matrix_Matrix"],[51,47,39,45,"x"],[51,48,39,46],[51,50,39,48,"y"],[51,51,39,49],[51,53,39,51],[52,8,40,6],[52,15,40,13,"matrix"],[52,21,40,19],[52,22,40,20,"_kron"],[52,27,40,25],[52,28,40,26,"x"],[52,29,40,27],[52,30,40,28,"toArray"],[52,37,40,35],[52,38,40,36],[52,39,40,37],[52,41,40,39,"y"],[52,42,40,40],[52,43,40,41,"toArray"],[52,50,40,48],[52,51,40,49],[52,52,40,50],[52,53,40,51],[52,54,40,52],[53,6,41,4],[53,7,41,5],[54,6,42,4],[54,21,42,19],[54,23,42,21],[54,32,42,30,"Matrix_Array"],[54,44,42,42,"Matrix_Array"],[54,45,42,43,"x"],[54,46,42,44],[54,48,42,46,"y"],[54,49,42,47],[54,51,42,49],[55,8,43,6],[55,15,43,13,"matrix"],[55,21,43,19],[55,22,43,20,"_kron"],[55,27,43,25],[55,28,43,26,"x"],[55,29,43,27],[55,30,43,28,"toArray"],[55,37,43,35],[55,38,43,36],[55,39,43,37],[55,41,43,39,"y"],[55,42,43,40],[55,43,43,41],[55,44,43,42],[56,6,44,4],[56,7,44,5],[57,6,45,4],[57,21,45,19],[57,23,45,21],[57,32,45,30,"Array_Matrix"],[57,44,45,42,"Array_Matrix"],[57,45,45,43,"x"],[57,46,45,44],[57,48,45,46,"y"],[57,49,45,47],[57,51,45,49],[58,8,46,6],[58,15,46,13,"matrix"],[58,21,46,19],[58,22,46,20,"_kron"],[58,27,46,25],[58,28,46,26,"x"],[58,29,46,27],[58,31,46,29,"y"],[58,32,46,30],[58,33,46,31,"toArray"],[58,40,46,38],[58,41,46,39],[58,42,46,40],[58,43,46,41],[58,44,46,42],[59,6,47,4],[59,7,47,5],[60,6,48,4],[60,20,48,18],[60,22,48,20,"_kron"],[61,4,49,2],[61,5,49,3],[61,6,49,4],[63,4,51,2],[64,0,52,0],[65,0,53,0],[66,0,54,0],[67,0,55,0],[68,0,56,0],[69,0,57,0],[70,0,58,0],[71,4,59,2],[71,13,59,11,"_kron1d"],[71,20,59,18,"_kron1d"],[71,21,59,19,"a"],[71,22,59,20],[71,24,59,22,"b"],[71,25,59,23],[71,27,59,25],[72,6,60,4],[73,6,61,4],[74,6,62,4],[75,6,63,4],[75,13,63,11,"a"],[75,14,63,12],[75,15,63,13,"flatMap"],[75,22,63,20],[75,23,63,21,"x"],[75,24,63,22],[75,28,63,26,"b"],[75,29,63,27],[75,30,63,28,"map"],[75,33,63,31],[75,34,63,32,"y"],[75,35,63,33],[75,39,63,37,"multiplyScalar"],[75,53,63,51],[75,54,63,52,"x"],[75,55,63,53],[75,57,63,55,"y"],[75,58,63,56],[75,59,63,57],[75,60,63,58],[75,61,63,59],[76,4,64,2],[78,4,66,2],[79,0,67,0],[80,0,68,0],[81,0,69,0],[82,0,70,0],[83,0,71,0],[84,0,72,0],[85,0,73,0],[86,4,74,2],[86,13,74,11,"_kron"],[86,18,74,16,"_kron"],[86,19,74,17,"a"],[86,20,74,18],[86,22,74,20,"b"],[86,23,74,21],[86,25,74,23],[87,6,75,4],[87,10,75,8,"d"],[87,11,75,9],[87,14,75,12,"arguments"],[87,23,75,21],[87,24,75,22,"length"],[87,30,75,28],[87,33,75,31],[87,34,75,32],[87,38,75,36,"arguments"],[87,47,75,45],[87,48,75,46],[87,49,75,47],[87,50,75,48],[87,55,75,53,"undefined"],[87,64,75,62],[87,67,75,65,"arguments"],[87,76,75,74],[87,77,75,75],[87,78,75,76],[87,79,75,77],[87,82,75,80],[87,83,75,81],[87,84,75,82],[88,6,76,4],[88,10,76,8,"d"],[88,11,76,9],[88,14,76,12],[88,15,76,13],[88,17,76,15],[89,8,77,6],[89,12,77,10,"adim"],[89,16,77,14],[89,19,77,17],[89,23,77,17,"size"],[89,36,77,21],[89,37,77,21,"arraySize"],[89,46,77,21],[89,48,77,22,"a"],[89,49,77,23],[89,50,77,24],[89,51,77,25,"length"],[89,57,77,31],[90,8,78,6],[90,12,78,10,"bdim"],[90,16,78,14],[90,19,78,17],[90,23,78,17,"size"],[90,36,78,21],[90,37,78,21,"arraySize"],[90,46,78,21],[90,48,78,22,"b"],[90,49,78,23],[90,50,78,24],[90,51,78,25,"length"],[90,57,78,31],[91,8,79,6,"d"],[91,9,79,7],[91,12,79,10,"Math"],[91,16,79,14],[91,17,79,15,"max"],[91,20,79,18],[91,21,79,19,"adim"],[91,25,79,23],[91,27,79,25,"bdim"],[91,31,79,29],[91,32,79,30],[92,8,80,6],[92,15,80,13,"adim"],[92,19,80,17],[92,21,80,19],[92,24,80,22,"d"],[92,25,80,23],[92,27,80,25,"a"],[92,28,80,26],[92,31,80,29],[92,32,80,30,"a"],[92,33,80,31],[92,34,80,32],[93,8,81,6],[93,15,81,13,"bdim"],[93,19,81,17],[93,21,81,19],[93,24,81,22,"d"],[93,25,81,23],[93,27,81,25,"b"],[93,28,81,26],[93,31,81,29],[93,32,81,30,"b"],[93,33,81,31],[93,34,81,32],[94,6,82,4],[95,6,83,4],[95,10,83,8,"d"],[95,11,83,9],[95,16,83,14],[95,17,83,15],[95,19,83,17],[95,26,83,24,"_kron1d"],[95,33,83,31],[95,34,83,32,"a"],[95,35,83,33],[95,37,83,35,"b"],[95,38,83,36],[95,39,83,37],[96,6,84,4],[96,13,84,11,"a"],[96,14,84,12],[96,15,84,13,"flatMap"],[96,22,84,20],[96,23,84,21,"aSlice"],[96,29,84,27],[96,33,84,31,"b"],[96,34,84,32],[96,35,84,33,"map"],[96,38,84,36],[96,39,84,37,"bSlice"],[96,45,84,43],[96,49,84,47,"_kron"],[96,54,84,52],[96,55,84,53,"aSlice"],[96,61,84,59],[96,63,84,61,"bSlice"],[96,69,84,67],[96,71,84,69,"d"],[96,72,84,70],[96,75,84,73],[96,76,84,74],[96,77,84,75],[96,78,84,76],[96,79,84,77],[97,4,85,2],[98,2,86,0],[98,3,86,1],[98,4,86,2],[99,0,86,3],[99,3]],"functionMap":{"names":["<global>","factory$argument_2","Matrix_Matrix","Matrix_Array","Array_Matrix","_kron1d","a.flatMap$argument_0","b.map$argument_0","_kron"],"mappings":"AAA;mECI;sBCkC;KDE;qBEC;KFE;qBGC;KHE;EIY;qBCI,WC,yBD,CD;GJC;EOU;qBFU,gBC,sCD,CE;GPC;CDC"},"hasCjsExports":false},"type":"js/module"}]}