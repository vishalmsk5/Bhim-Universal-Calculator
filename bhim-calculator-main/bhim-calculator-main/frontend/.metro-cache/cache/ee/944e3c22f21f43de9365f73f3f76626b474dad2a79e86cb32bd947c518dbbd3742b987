{"dependencies":[{"name":"../../utils/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"DL0lZsaza5vr7zl/bAzDYPBSOyA=","exportNames":["*"],"imports":1}},{"name":"../../utils/number.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":46},"end":{"line":2,"column":50,"index":96}}],"key":"0sWcInmWGTRVMc5qHFyD6Xk9iLc=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":97},"end":{"line":3,"column":49,"index":146}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createPartitionSelect\", {\n    enumerable: true,\n    get: function () {\n      return createPartitionSelect;\n    }\n  });\n  var _utilsIsJs = require(_dependencyMap[0], \"../../utils/is.js\");\n  var _utilsNumberJs = require(_dependencyMap[1], \"../../utils/number.js\");\n  var _utilsFactoryJs = require(_dependencyMap[2], \"../../utils/factory.js\");\n  var name = 'partitionSelect';\n  var dependencies = ['typed', 'isNumeric', 'isNaN', 'compare'];\n  var createPartitionSelect = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      isNumeric = _ref.isNumeric,\n      mathIsNaN = _ref.isNaN,\n      compare = _ref.compare;\n    var asc = compare;\n    var desc = (a, b) => -compare(a, b);\n\n    /**\n     * Partition-based selection of an array or 1D matrix.\n     * Will find the kth smallest value, and mutates the input array.\n     * Uses Quickselect.\n     *\n     * Syntax:\n     *\n     *    math.partitionSelect(x, k)\n     *    math.partitionSelect(x, k, compare)\n     *\n     * Examples:\n     *\n     *    math.partitionSelect([5, 10, 1], 2)                               // returns 10\n     *    math.partitionSelect(['C', 'B', 'A', 'D'], 1, math.compareText)   // returns 'B'\n     *\n     *    function sortByLength (a, b) {\n     *      return a.length - b.length\n     *    }\n     *    math.partitionSelect(['Langdon', 'Tom', 'Sara'], 2, sortByLength) // returns 'Langdon'\n     *\n     *    // the input array is mutated\n     *    arr = [5, 2, 1]\n     *    math.partitionSelect(arr, 0) // returns 1, arr is now: [1, 2, 5]\n     *    math.partitionSelect(arr, 1, 'desc') // returns 2, arr is now: [5, 2, 1]\n     *\n     * See also:\n     *\n     *    sort\n     *\n     * @param {Matrix | Array} x    A one dimensional matrix or array to sort\n     * @param {Number} k            The kth smallest value to be retrieved zero-based index\n     * @param {Function | 'asc' | 'desc'} [compare='asc']\n     *        An optional comparator function. The function is called as\n     *        `compare(a, b)`, and must return 1 when a > b, -1 when a < b,\n     *        and 0 when a == b.\n     * @return {*} Returns the kth lowest value.\n     */\n    return typed(name, {\n      'Array | Matrix, number': function Array__Matrix_number(x, k) {\n        return _partitionSelect(x, k, asc);\n      },\n      'Array | Matrix, number, string': function Array__Matrix_number_string(x, k, compare) {\n        if (compare === 'asc') {\n          return _partitionSelect(x, k, asc);\n        } else if (compare === 'desc') {\n          return _partitionSelect(x, k, desc);\n        } else {\n          throw new Error('Compare string must be \"asc\" or \"desc\"');\n        }\n      },\n      'Array | Matrix, number, function': _partitionSelect\n    });\n    function _partitionSelect(x, k, compare) {\n      if (!(0, _utilsNumberJs.isInteger)(k) || k < 0) {\n        throw new Error('k must be a non-negative integer');\n      }\n      if ((0, _utilsIsJs.isMatrix)(x)) {\n        var size = x.size();\n        if (size.length > 1) {\n          throw new Error('Only one dimensional matrices supported');\n        }\n        return quickSelect(x.valueOf(), k, compare);\n      }\n      if (Array.isArray(x)) {\n        return quickSelect(x, k, compare);\n      }\n    }\n\n    /**\n     * Quickselect algorithm.\n     * Code adapted from:\n     * https://blog.teamleadnet.com/2012/07/quick-select-algorithm-find-kth-element.html\n     *\n     * @param {Array} arr\n     * @param {Number} k\n     * @param {Function} compare\n     * @private\n     */\n    function quickSelect(arr, k, compare) {\n      if (k >= arr.length) {\n        throw new Error('k out of bounds');\n      }\n\n      // check for NaN values since these can cause an infinite while loop\n      for (var i = 0; i < arr.length; i++) {\n        if (isNumeric(arr[i]) && mathIsNaN(arr[i])) {\n          return arr[i]; // return NaN\n        }\n      }\n      var from = 0;\n      var to = arr.length - 1;\n\n      // if from == to we reached the kth element\n      while (from < to) {\n        var r = from;\n        var w = to;\n        var pivot = arr[Math.floor(Math.random() * (to - from + 1)) + from];\n\n        // stop if the reader and writer meets\n        while (r < w) {\n          // arr[r] >= pivot\n          if (compare(arr[r], pivot) >= 0) {\n            // put the large values at the end\n            var tmp = arr[w];\n            arr[w] = arr[r];\n            arr[r] = tmp;\n            --w;\n          } else {\n            // the value is smaller than the pivot, skip\n            ++r;\n          }\n        }\n\n        // if we stepped up (r++) we need to step one down (arr[r] > pivot)\n        if (compare(arr[r], pivot) > 0) {\n          --r;\n        }\n\n        // the r pointer is on the end of the first k elements\n        if (k <= r) {\n          to = r;\n        } else {\n          from = r + 1;\n        }\n      }\n      return arr[k];\n    }\n  });\n});","lineCount":154,"map":[[7,2,6,0,"Object"],[7,8,6,0],[7,9,6,0,"defineProperty"],[7,23,6,0],[7,24,6,0,"exports"],[7,31,6,0],[8,4,6,0,"enumerable"],[8,14,6,0],[9,4,6,0,"get"],[9,7,6,0],[9,18,6,0,"get"],[9,19,6,0],[10,6,6,0],[10,13,6,0,"createPartitionSelect"],[10,34,6,0],[11,4,6,0],[12,2,6,0],[13,2,1,0],[13,6,1,0,"_utilsIsJs"],[13,16,1,0],[13,19,1,0,"require"],[13,26,1,0],[13,27,1,0,"_dependencyMap"],[13,41,1,0],[14,2,2,0],[14,6,2,0,"_utilsNumberJs"],[14,20,2,0],[14,23,2,0,"require"],[14,30,2,0],[14,31,2,0,"_dependencyMap"],[14,45,2,0],[15,2,3,0],[15,6,3,0,"_utilsFactoryJs"],[15,21,3,0],[15,24,3,0,"require"],[15,31,3,0],[15,32,3,0,"_dependencyMap"],[15,46,3,0],[16,2,4,0],[16,6,4,4,"name"],[16,10,4,8],[16,13,4,11],[16,30,4,28],[17,2,5,0],[17,6,5,4,"dependencies"],[17,18,5,16],[17,21,5,19],[17,22,5,20],[17,29,5,27],[17,31,5,29],[17,42,5,40],[17,44,5,42],[17,51,5,49],[17,53,5,51],[17,62,5,60],[17,63,5,61],[18,2,6,7],[18,6,6,11,"createPartitionSelect"],[18,27,6,32],[18,30,6,35],[18,45,6,50],[18,49,6,50,"factory"],[18,64,6,57],[18,65,6,57,"factory"],[18,72,6,57],[18,74,6,58,"name"],[18,78,6,62],[18,80,6,64,"dependencies"],[18,92,6,76],[18,94,6,78,"_ref"],[18,98,6,82],[18,102,6,86],[19,4,7,2],[19,8,8,4,"typed"],[19,13,8,9],[19,16,12,6,"_ref"],[19,20,12,10],[19,21,8,4,"typed"],[19,26,8,9],[20,6,9,4,"isNumeric"],[20,15,9,13],[20,18,12,6,"_ref"],[20,22,12,10],[20,23,9,4,"isNumeric"],[20,32,9,13],[21,6,10,11,"mathIsNaN"],[21,15,10,20],[21,18,12,6,"_ref"],[21,22,12,10],[21,23,10,4,"isNaN"],[21,28,10,9],[22,6,11,4,"compare"],[22,13,11,11],[22,16,12,6,"_ref"],[22,20,12,10],[22,21,11,4,"compare"],[22,28,11,11],[23,4,13,2],[23,8,13,6,"asc"],[23,11,13,9],[23,14,13,12,"compare"],[23,21,13,19],[24,4,14,2],[24,8,14,6,"desc"],[24,12,14,10],[24,15,14,13,"desc"],[24,16,14,14,"a"],[24,17,14,15],[24,19,14,17,"b"],[24,20,14,18],[24,25,14,23],[24,26,14,24,"compare"],[24,33,14,31],[24,34,14,32,"a"],[24,35,14,33],[24,37,14,35,"b"],[24,38,14,36],[24,39,14,37],[26,4,16,2],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,0,21,0],[32,0,22,0],[33,0,23,0],[34,0,24,0],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,0,33,0],[44,0,34,0],[45,0,35,0],[46,0,36,0],[47,0,37,0],[48,0,38,0],[49,0,39,0],[50,0,40,0],[51,0,41,0],[52,0,42,0],[53,0,43,0],[54,0,44,0],[55,0,45,0],[56,0,46,0],[57,0,47,0],[58,0,48,0],[59,0,49,0],[60,0,50,0],[61,0,51,0],[62,0,52,0],[63,4,53,2],[63,11,53,9,"typed"],[63,16,53,14],[63,17,53,15,"name"],[63,21,53,19],[63,23,53,21],[64,6,54,4],[64,30,54,28],[64,32,54,30],[64,41,54,39,"Array__Matrix_number"],[64,61,54,59,"Array__Matrix_number"],[64,62,54,60,"x"],[64,63,54,61],[64,65,54,63,"k"],[64,66,54,64],[64,68,54,66],[65,8,55,6],[65,15,55,13,"_partitionSelect"],[65,31,55,29],[65,32,55,30,"x"],[65,33,55,31],[65,35,55,33,"k"],[65,36,55,34],[65,38,55,36,"asc"],[65,41,55,39],[65,42,55,40],[66,6,56,4],[66,7,56,5],[67,6,57,4],[67,38,57,36],[67,40,57,38],[67,49,57,47,"Array__Matrix_number_string"],[67,76,57,74,"Array__Matrix_number_string"],[67,77,57,75,"x"],[67,78,57,76],[67,80,57,78,"k"],[67,81,57,79],[67,83,57,81,"compare"],[67,90,57,88],[67,92,57,90],[68,8,58,6],[68,12,58,10,"compare"],[68,19,58,17],[68,24,58,22],[68,29,58,27],[68,31,58,29],[69,10,59,8],[69,17,59,15,"_partitionSelect"],[69,33,59,31],[69,34,59,32,"x"],[69,35,59,33],[69,37,59,35,"k"],[69,38,59,36],[69,40,59,38,"asc"],[69,43,59,41],[69,44,59,42],[70,8,60,6],[70,9,60,7],[70,15,60,13],[70,19,60,17,"compare"],[70,26,60,24],[70,31,60,29],[70,37,60,35],[70,39,60,37],[71,10,61,8],[71,17,61,15,"_partitionSelect"],[71,33,61,31],[71,34,61,32,"x"],[71,35,61,33],[71,37,61,35,"k"],[71,38,61,36],[71,40,61,38,"desc"],[71,44,61,42],[71,45,61,43],[72,8,62,6],[72,9,62,7],[72,15,62,13],[73,10,63,8],[73,16,63,14],[73,20,63,18,"Error"],[73,25,63,23],[73,26,63,24],[73,66,63,64],[73,67,63,65],[74,8,64,6],[75,6,65,4],[75,7,65,5],[76,6,66,4],[76,40,66,38],[76,42,66,40,"_partitionSelect"],[77,4,67,2],[77,5,67,3],[77,6,67,4],[78,4,68,2],[78,13,68,11,"_partitionSelect"],[78,29,68,27,"_partitionSelect"],[78,30,68,28,"x"],[78,31,68,29],[78,33,68,31,"k"],[78,34,68,32],[78,36,68,34,"compare"],[78,43,68,41],[78,45,68,43],[79,6,69,4],[79,10,69,8],[79,11,69,9],[79,15,69,9,"isInteger"],[79,29,69,18],[79,30,69,18,"isInteger"],[79,39,69,18],[79,41,69,19,"k"],[79,42,69,20],[79,43,69,21],[79,47,69,25,"k"],[79,48,69,26],[79,51,69,29],[79,52,69,30],[79,54,69,32],[80,8,70,6],[80,14,70,12],[80,18,70,16,"Error"],[80,23,70,21],[80,24,70,22],[80,58,70,56],[80,59,70,57],[81,6,71,4],[82,6,72,4],[82,10,72,8],[82,14,72,8,"isMatrix"],[82,24,72,16],[82,25,72,16,"isMatrix"],[82,33,72,16],[82,35,72,17,"x"],[82,36,72,18],[82,37,72,19],[82,39,72,21],[83,8,73,6],[83,12,73,10,"size"],[83,16,73,14],[83,19,73,17,"x"],[83,20,73,18],[83,21,73,19,"size"],[83,25,73,23],[83,26,73,24],[83,27,73,25],[84,8,74,6],[84,12,74,10,"size"],[84,16,74,14],[84,17,74,15,"length"],[84,23,74,21],[84,26,74,24],[84,27,74,25],[84,29,74,27],[85,10,75,8],[85,16,75,14],[85,20,75,18,"Error"],[85,25,75,23],[85,26,75,24],[85,67,75,65],[85,68,75,66],[86,8,76,6],[87,8,77,6],[87,15,77,13,"quickSelect"],[87,26,77,24],[87,27,77,25,"x"],[87,28,77,26],[87,29,77,27,"valueOf"],[87,36,77,34],[87,37,77,35],[87,38,77,36],[87,40,77,38,"k"],[87,41,77,39],[87,43,77,41,"compare"],[87,50,77,48],[87,51,77,49],[88,6,78,4],[89,6,79,4],[89,10,79,8,"Array"],[89,15,79,13],[89,16,79,14,"isArray"],[89,23,79,21],[89,24,79,22,"x"],[89,25,79,23],[89,26,79,24],[89,28,79,26],[90,8,80,6],[90,15,80,13,"quickSelect"],[90,26,80,24],[90,27,80,25,"x"],[90,28,80,26],[90,30,80,28,"k"],[90,31,80,29],[90,33,80,31,"compare"],[90,40,80,38],[90,41,80,39],[91,6,81,4],[92,4,82,2],[94,4,84,2],[95,0,85,0],[96,0,86,0],[97,0,87,0],[98,0,88,0],[99,0,89,0],[100,0,90,0],[101,0,91,0],[102,0,92,0],[103,0,93,0],[104,4,94,2],[104,13,94,11,"quickSelect"],[104,24,94,22,"quickSelect"],[104,25,94,23,"arr"],[104,28,94,26],[104,30,94,28,"k"],[104,31,94,29],[104,33,94,31,"compare"],[104,40,94,38],[104,42,94,40],[105,6,95,4],[105,10,95,8,"k"],[105,11,95,9],[105,15,95,13,"arr"],[105,18,95,16],[105,19,95,17,"length"],[105,25,95,23],[105,27,95,25],[106,8,96,6],[106,14,96,12],[106,18,96,16,"Error"],[106,23,96,21],[106,24,96,22],[106,41,96,39],[106,42,96,40],[107,6,97,4],[109,6,99,4],[110,6,100,4],[110,11,100,9],[110,15,100,13,"i"],[110,16,100,14],[110,19,100,17],[110,20,100,18],[110,22,100,20,"i"],[110,23,100,21],[110,26,100,24,"arr"],[110,29,100,27],[110,30,100,28,"length"],[110,36,100,34],[110,38,100,36,"i"],[110,39,100,37],[110,41,100,39],[110,43,100,41],[111,8,101,6],[111,12,101,10,"isNumeric"],[111,21,101,19],[111,22,101,20,"arr"],[111,25,101,23],[111,26,101,24,"i"],[111,27,101,25],[111,28,101,26],[111,29,101,27],[111,33,101,31,"mathIsNaN"],[111,42,101,40],[111,43,101,41,"arr"],[111,46,101,44],[111,47,101,45,"i"],[111,48,101,46],[111,49,101,47],[111,50,101,48],[111,52,101,50],[112,10,102,8],[112,17,102,15,"arr"],[112,20,102,18],[112,21,102,19,"i"],[112,22,102,20],[112,23,102,21],[112,24,102,22],[112,25,102,23],[113,8,103,6],[114,6,104,4],[115,6,105,4],[115,10,105,8,"from"],[115,14,105,12],[115,17,105,15],[115,18,105,16],[116,6,106,4],[116,10,106,8,"to"],[116,12,106,10],[116,15,106,13,"arr"],[116,18,106,16],[116,19,106,17,"length"],[116,25,106,23],[116,28,106,26],[116,29,106,27],[118,6,108,4],[119,6,109,4],[119,13,109,11,"from"],[119,17,109,15],[119,20,109,18,"to"],[119,22,109,20],[119,24,109,22],[120,8,110,6],[120,12,110,10,"r"],[120,13,110,11],[120,16,110,14,"from"],[120,20,110,18],[121,8,111,6],[121,12,111,10,"w"],[121,13,111,11],[121,16,111,14,"to"],[121,18,111,16],[122,8,112,6],[122,12,112,10,"pivot"],[122,17,112,15],[122,20,112,18,"arr"],[122,23,112,21],[122,24,112,22,"Math"],[122,28,112,26],[122,29,112,27,"floor"],[122,34,112,32],[122,35,112,33,"Math"],[122,39,112,37],[122,40,112,38,"random"],[122,46,112,44],[122,47,112,45],[122,48,112,46],[122,52,112,50,"to"],[122,54,112,52],[122,57,112,55,"from"],[122,61,112,59],[122,64,112,62],[122,65,112,63],[122,66,112,64],[122,67,112,65],[122,70,112,68,"from"],[122,74,112,72],[122,75,112,73],[124,8,114,6],[125,8,115,6],[125,15,115,13,"r"],[125,16,115,14],[125,19,115,17,"w"],[125,20,115,18],[125,22,115,20],[126,10,116,8],[127,10,117,8],[127,14,117,12,"compare"],[127,21,117,19],[127,22,117,20,"arr"],[127,25,117,23],[127,26,117,24,"r"],[127,27,117,25],[127,28,117,26],[127,30,117,28,"pivot"],[127,35,117,33],[127,36,117,34],[127,40,117,38],[127,41,117,39],[127,43,117,41],[128,12,118,10],[129,12,119,10],[129,16,119,14,"tmp"],[129,19,119,17],[129,22,119,20,"arr"],[129,25,119,23],[129,26,119,24,"w"],[129,27,119,25],[129,28,119,26],[130,12,120,10,"arr"],[130,15,120,13],[130,16,120,14,"w"],[130,17,120,15],[130,18,120,16],[130,21,120,19,"arr"],[130,24,120,22],[130,25,120,23,"r"],[130,26,120,24],[130,27,120,25],[131,12,121,10,"arr"],[131,15,121,13],[131,16,121,14,"r"],[131,17,121,15],[131,18,121,16],[131,21,121,19,"tmp"],[131,24,121,22],[132,12,122,10],[132,14,122,12,"w"],[132,15,122,13],[133,10,123,8],[133,11,123,9],[133,17,123,15],[134,12,124,10],[135,12,125,10],[135,14,125,12,"r"],[135,15,125,13],[136,10,126,8],[137,8,127,6],[139,8,129,6],[140,8,130,6],[140,12,130,10,"compare"],[140,19,130,17],[140,20,130,18,"arr"],[140,23,130,21],[140,24,130,22,"r"],[140,25,130,23],[140,26,130,24],[140,28,130,26,"pivot"],[140,33,130,31],[140,34,130,32],[140,37,130,35],[140,38,130,36],[140,40,130,38],[141,10,131,8],[141,12,131,10,"r"],[141,13,131,11],[142,8,132,6],[144,8,134,6],[145,8,135,6],[145,12,135,10,"k"],[145,13,135,11],[145,17,135,15,"r"],[145,18,135,16],[145,20,135,18],[146,10,136,8,"to"],[146,12,136,10],[146,15,136,13,"r"],[146,16,136,14],[147,8,137,6],[147,9,137,7],[147,15,137,13],[148,10,138,8,"from"],[148,14,138,12],[148,17,138,15,"r"],[148,18,138,16],[148,21,138,19],[148,22,138,20],[149,8,139,6],[150,6,140,4],[151,6,141,4],[151,13,141,11,"arr"],[151,16,141,14],[151,17,141,15,"k"],[151,18,141,16],[151,19,141,17],[152,4,142,2],[153,2,143,0],[153,3,143,1],[153,4,143,2],[154,0,143,3],[154,3]],"functionMap":{"names":["<global>","factory$argument_2","desc","Array__Matrix_number","Array__Matrix_number_string","_partitionSelect","quickSelect"],"mappings":"AAA;8ECK;aCQ,wBD;8BEwC;KFE;sCGC;KHQ;EIG;GJc;EKY;GLgD;CDC"},"hasCjsExports":false},"type":"js/module"}]}