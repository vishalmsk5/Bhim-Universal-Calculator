{"dependencies":[{"name":"./object.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"c+4yuYP7E2Xh9QIfj2WEKgywjI4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"getSafeProperty\", {\n    enumerable: true,\n    get: function () {\n      return getSafeProperty;\n    }\n  });\n  Object.defineProperty(exports, \"setSafeProperty\", {\n    enumerable: true,\n    get: function () {\n      return setSafeProperty;\n    }\n  });\n  Object.defineProperty(exports, \"isSafeProperty\", {\n    enumerable: true,\n    get: function () {\n      return isSafeProperty;\n    }\n  });\n  Object.defineProperty(exports, \"getSafeMethod\", {\n    enumerable: true,\n    get: function () {\n      return getSafeMethod;\n    }\n  });\n  Object.defineProperty(exports, \"isSafeMethod\", {\n    enumerable: true,\n    get: function () {\n      return isSafeMethod;\n    }\n  });\n  Object.defineProperty(exports, \"isPlainObject\", {\n    enumerable: true,\n    get: function () {\n      return isPlainObject;\n    }\n  });\n  var _objectJs = require(_dependencyMap[0], \"./object.js\");\n  /**\n   * Get a property of a plain object\n   * Throws an error in case the object is not a plain object or the\n   * property is not defined on the object itself\n   * @param {Object} object\n   * @param {string} prop\n   * @return {*} Returns the property value when safe\n   */\n  function getSafeProperty(object, prop) {\n    // only allow getting safe properties of a plain object\n    if (isSafeProperty(object, prop)) {\n      return object[prop];\n    }\n    if (typeof object[prop] === 'function' && isSafeMethod(object, prop)) {\n      throw new Error('Cannot access method \"' + prop + '\" as a property');\n    }\n    throw new Error('No access to property \"' + prop + '\"');\n  }\n\n  /**\n   * Set a property on a plain object.\n   * Throws an error in case the object is not a plain object or the\n   * property would override an inherited property like .constructor or .toString\n   * @param {Object} object\n   * @param {string} prop\n   * @param {*} value\n   * @return {*} Returns the value\n   */\n  // TODO: merge this function into access.js?\n  function setSafeProperty(object, prop, value) {\n    // only allow setting safe properties of a plain object\n    if (isSafeProperty(object, prop)) {\n      object[prop] = value;\n      return value;\n    }\n    throw new Error('No access to property \"' + prop + '\"');\n  }\n\n  /**\n   * Test whether a property is safe to use on an object or Array.\n   * For example .toString and .constructor are not safe\n   * @param {Object | Array} object\n   * @param {string} prop\n   * @return {boolean} Returns true when safe\n   */\n  function isSafeProperty(object, prop) {\n    if (!isPlainObject(object) && !Array.isArray(object)) {\n      return false;\n    }\n    // SAFE: whitelisted\n    // e.g length\n    if ((0, _objectJs.hasOwnProperty)(safeNativeProperties, prop)) {\n      return true;\n    }\n    // UNSAFE: inherited from Object prototype\n    // e.g constructor\n    if (prop in Object.prototype) {\n      // 'in' is used instead of hasOwnProperty for nodejs v0.10\n      // which is inconsistent on root prototypes. It is safe\n      // here because Object.prototype is a root object\n      return false;\n    }\n    // UNSAFE: inherited from Function prototype\n    // e.g call, apply\n    if (prop in Function.prototype) {\n      // 'in' is used instead of hasOwnProperty for nodejs v0.10\n      // which is inconsistent on root prototypes. It is safe\n      // here because Function.prototype is a root object\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Validate whether a method is safe.\n   * Throws an error when that's not the case.\n   * @param {Object} object\n   * @param {string} method\n   * @return {function} Returns the method when valid\n   */\n  function getSafeMethod(object, method) {\n    if (!isSafeMethod(object, method)) {\n      throw new Error('No access to method \"' + method + '\"');\n    }\n    return object[method];\n  }\n\n  /**\n   * Check whether a method is safe.\n   * Throws an error when that's not the case (for example for `constructor`).\n   * @param {Object} object\n   * @param {string} method\n   * @return {boolean} Returns true when safe, false otherwise\n   */\n  function isSafeMethod(object, method) {\n    if (object === null || object === undefined || typeof object[method] !== 'function') {\n      return false;\n    }\n    // UNSAFE: ghosted\n    // e.g overridden toString\n    // Note that IE10 doesn't support __proto__ and we can't do this check there.\n    if ((0, _objectJs.hasOwnProperty)(object, method) && Object.getPrototypeOf && method in Object.getPrototypeOf(object)) {\n      return false;\n    }\n    // SAFE: whitelisted\n    // e.g toString\n    if ((0, _objectJs.hasOwnProperty)(safeNativeMethods, method)) {\n      return true;\n    }\n    // UNSAFE: inherited from Object prototype\n    // e.g constructor\n    if (method in Object.prototype) {\n      // 'in' is used instead of hasOwnProperty for nodejs v0.10\n      // which is inconsistent on root prototypes. It is safe\n      // here because Object.prototype is a root object\n      return false;\n    }\n    // UNSAFE: inherited from Function prototype\n    // e.g call, apply\n    if (method in Function.prototype) {\n      // 'in' is used instead of hasOwnProperty for nodejs v0.10\n      // which is inconsistent on root prototypes. It is safe\n      // here because Function.prototype is a root object\n      return false;\n    }\n    return true;\n  }\n  function isPlainObject(object) {\n    return typeof object === 'object' && object && object.constructor === Object;\n  }\n  var safeNativeProperties = {\n    length: true,\n    name: true\n  };\n  var safeNativeMethods = {\n    toString: true,\n    valueOf: true,\n    toLocaleString: true\n  };\n});","lineCount":183,"map":[[7,2,142,0,"Object"],[7,8,142,0],[7,9,142,0,"defineProperty"],[7,23,142,0],[7,24,142,0,"exports"],[7,31,142,0],[8,4,142,0,"enumerable"],[8,14,142,0],[9,4,142,0,"get"],[9,7,142,0],[9,18,142,0,"get"],[9,19,142,0],[10,6,142,0],[10,13,142,9,"getSafeProperty"],[10,28,142,24],[11,4,142,24],[12,2,142,24],[13,2,143,0,"Object"],[13,8,143,0],[13,9,143,0,"defineProperty"],[13,23,143,0],[13,24,143,0,"exports"],[13,31,143,0],[14,4,143,0,"enumerable"],[14,14,143,0],[15,4,143,0,"get"],[15,7,143,0],[15,18,143,0,"get"],[15,19,143,0],[16,6,143,0],[16,13,143,9,"setSafeProperty"],[16,28,143,24],[17,4,143,24],[18,2,143,24],[19,2,144,0,"Object"],[19,8,144,0],[19,9,144,0,"defineProperty"],[19,23,144,0],[19,24,144,0,"exports"],[19,31,144,0],[20,4,144,0,"enumerable"],[20,14,144,0],[21,4,144,0,"get"],[21,7,144,0],[21,18,144,0,"get"],[21,19,144,0],[22,6,144,0],[22,13,144,9,"isSafeProperty"],[22,27,144,23],[23,4,144,23],[24,2,144,23],[25,2,145,0,"Object"],[25,8,145,0],[25,9,145,0,"defineProperty"],[25,23,145,0],[25,24,145,0,"exports"],[25,31,145,0],[26,4,145,0,"enumerable"],[26,14,145,0],[27,4,145,0,"get"],[27,7,145,0],[27,18,145,0,"get"],[27,19,145,0],[28,6,145,0],[28,13,145,9,"getSafeMethod"],[28,26,145,22],[29,4,145,22],[30,2,145,22],[31,2,146,0,"Object"],[31,8,146,0],[31,9,146,0,"defineProperty"],[31,23,146,0],[31,24,146,0,"exports"],[31,31,146,0],[32,4,146,0,"enumerable"],[32,14,146,0],[33,4,146,0,"get"],[33,7,146,0],[33,18,146,0,"get"],[33,19,146,0],[34,6,146,0],[34,13,146,9,"isSafeMethod"],[34,25,146,21],[35,4,146,21],[36,2,146,21],[37,2,147,0,"Object"],[37,8,147,0],[37,9,147,0,"defineProperty"],[37,23,147,0],[37,24,147,0,"exports"],[37,31,147,0],[38,4,147,0,"enumerable"],[38,14,147,0],[39,4,147,0,"get"],[39,7,147,0],[39,18,147,0,"get"],[39,19,147,0],[40,6,147,0],[40,13,147,9,"isPlainObject"],[40,26,147,22],[41,4,147,22],[42,2,147,22],[43,2,1,0],[43,6,1,0,"_objectJs"],[43,15,1,0],[43,18,1,0,"require"],[43,25,1,0],[43,26,1,0,"_dependencyMap"],[43,40,1,0],[44,2,3,0],[45,0,4,0],[46,0,5,0],[47,0,6,0],[48,0,7,0],[49,0,8,0],[50,0,9,0],[51,0,10,0],[52,2,11,0],[52,11,11,9,"getSafeProperty"],[52,26,11,24,"getSafeProperty"],[52,27,11,25,"object"],[52,33,11,31],[52,35,11,33,"prop"],[52,39,11,37],[52,41,11,39],[53,4,12,2],[54,4,13,2],[54,8,13,6,"isSafeProperty"],[54,22,13,20],[54,23,13,21,"object"],[54,29,13,27],[54,31,13,29,"prop"],[54,35,13,33],[54,36,13,34],[54,38,13,36],[55,6,14,4],[55,13,14,11,"object"],[55,19,14,17],[55,20,14,18,"prop"],[55,24,14,22],[55,25,14,23],[56,4,15,2],[57,4,16,2],[57,8,16,6],[57,15,16,13,"object"],[57,21,16,19],[57,22,16,20,"prop"],[57,26,16,24],[57,27,16,25],[57,32,16,30],[57,42,16,40],[57,46,16,44,"isSafeMethod"],[57,58,16,56],[57,59,16,57,"object"],[57,65,16,63],[57,67,16,65,"prop"],[57,71,16,69],[57,72,16,70],[57,74,16,72],[58,6,17,4],[58,12,17,10],[58,16,17,14,"Error"],[58,21,17,19],[58,22,17,20],[58,46,17,44],[58,49,17,47,"prop"],[58,53,17,51],[58,56,17,54],[58,73,17,71],[58,74,17,72],[59,4,18,2],[60,4,19,2],[60,10,19,8],[60,14,19,12,"Error"],[60,19,19,17],[60,20,19,18],[60,45,19,43],[60,48,19,46,"prop"],[60,52,19,50],[60,55,19,53],[60,58,19,56],[60,59,19,57],[61,2,20,0],[63,2,22,0],[64,0,23,0],[65,0,24,0],[66,0,25,0],[67,0,26,0],[68,0,27,0],[69,0,28,0],[70,0,29,0],[71,0,30,0],[72,2,31,0],[73,2,32,0],[73,11,32,9,"setSafeProperty"],[73,26,32,24,"setSafeProperty"],[73,27,32,25,"object"],[73,33,32,31],[73,35,32,33,"prop"],[73,39,32,37],[73,41,32,39,"value"],[73,46,32,44],[73,48,32,46],[74,4,33,2],[75,4,34,2],[75,8,34,6,"isSafeProperty"],[75,22,34,20],[75,23,34,21,"object"],[75,29,34,27],[75,31,34,29,"prop"],[75,35,34,33],[75,36,34,34],[75,38,34,36],[76,6,35,4,"object"],[76,12,35,10],[76,13,35,11,"prop"],[76,17,35,15],[76,18,35,16],[76,21,35,19,"value"],[76,26,35,24],[77,6,36,4],[77,13,36,11,"value"],[77,18,36,16],[78,4,37,2],[79,4,38,2],[79,10,38,8],[79,14,38,12,"Error"],[79,19,38,17],[79,20,38,18],[79,45,38,43],[79,48,38,46,"prop"],[79,52,38,50],[79,55,38,53],[79,58,38,56],[79,59,38,57],[80,2,39,0],[82,2,41,0],[83,0,42,0],[84,0,43,0],[85,0,44,0],[86,0,45,0],[87,0,46,0],[88,0,47,0],[89,2,48,0],[89,11,48,9,"isSafeProperty"],[89,25,48,23,"isSafeProperty"],[89,26,48,24,"object"],[89,32,48,30],[89,34,48,32,"prop"],[89,38,48,36],[89,40,48,38],[90,4,49,2],[90,8,49,6],[90,9,49,7,"isPlainObject"],[90,22,49,20],[90,23,49,21,"object"],[90,29,49,27],[90,30,49,28],[90,34,49,32],[90,35,49,33,"Array"],[90,40,49,38],[90,41,49,39,"isArray"],[90,48,49,46],[90,49,49,47,"object"],[90,55,49,53],[90,56,49,54],[90,58,49,56],[91,6,50,4],[91,13,50,11],[91,18,50,16],[92,4,51,2],[93,4,52,2],[94,4,53,2],[95,4,54,2],[95,8,54,6],[95,12,54,6,"hasOwnProperty"],[95,21,54,20],[95,22,54,20,"hasOwnProperty"],[95,36,54,20],[95,38,54,21,"safeNativeProperties"],[95,58,54,41],[95,60,54,43,"prop"],[95,64,54,47],[95,65,54,48],[95,67,54,50],[96,6,55,4],[96,13,55,11],[96,17,55,15],[97,4,56,2],[98,4,57,2],[99,4,58,2],[100,4,59,2],[100,8,59,6,"prop"],[100,12,59,10],[100,16,59,14,"Object"],[100,22,59,20],[100,23,59,21,"prototype"],[100,32,59,30],[100,34,59,32],[101,6,60,4],[102,6,61,4],[103,6,62,4],[104,6,63,4],[104,13,63,11],[104,18,63,16],[105,4,64,2],[106,4,65,2],[107,4,66,2],[108,4,67,2],[108,8,67,6,"prop"],[108,12,67,10],[108,16,67,14,"Function"],[108,24,67,22],[108,25,67,23,"prototype"],[108,34,67,32],[108,36,67,34],[109,6,68,4],[110,6,69,4],[111,6,70,4],[112,6,71,4],[112,13,71,11],[112,18,71,16],[113,4,72,2],[114,4,73,2],[114,11,73,9],[114,15,73,13],[115,2,74,0],[117,2,76,0],[118,0,77,0],[119,0,78,0],[120,0,79,0],[121,0,80,0],[122,0,81,0],[123,0,82,0],[124,2,83,0],[124,11,83,9,"getSafeMethod"],[124,24,83,22,"getSafeMethod"],[124,25,83,23,"object"],[124,31,83,29],[124,33,83,31,"method"],[124,39,83,37],[124,41,83,39],[125,4,84,2],[125,8,84,6],[125,9,84,7,"isSafeMethod"],[125,21,84,19],[125,22,84,20,"object"],[125,28,84,26],[125,30,84,28,"method"],[125,36,84,34],[125,37,84,35],[125,39,84,37],[126,6,85,4],[126,12,85,10],[126,16,85,14,"Error"],[126,21,85,19],[126,22,85,20],[126,45,85,43],[126,48,85,46,"method"],[126,54,85,52],[126,57,85,55],[126,60,85,58],[126,61,85,59],[127,4,86,2],[128,4,87,2],[128,11,87,9,"object"],[128,17,87,15],[128,18,87,16,"method"],[128,24,87,22],[128,25,87,23],[129,2,88,0],[131,2,90,0],[132,0,91,0],[133,0,92,0],[134,0,93,0],[135,0,94,0],[136,0,95,0],[137,0,96,0],[138,2,97,0],[138,11,97,9,"isSafeMethod"],[138,23,97,21,"isSafeMethod"],[138,24,97,22,"object"],[138,30,97,28],[138,32,97,30,"method"],[138,38,97,36],[138,40,97,38],[139,4,98,2],[139,8,98,6,"object"],[139,14,98,12],[139,19,98,17],[139,23,98,21],[139,27,98,25,"object"],[139,33,98,31],[139,38,98,36,"undefined"],[139,47,98,45],[139,51,98,49],[139,58,98,56,"object"],[139,64,98,62],[139,65,98,63,"method"],[139,71,98,69],[139,72,98,70],[139,77,98,75],[139,87,98,85],[139,89,98,87],[140,6,99,4],[140,13,99,11],[140,18,99,16],[141,4,100,2],[142,4,101,2],[143,4,102,2],[144,4,103,2],[145,4,104,2],[145,8,104,6],[145,12,104,6,"hasOwnProperty"],[145,21,104,20],[145,22,104,20,"hasOwnProperty"],[145,36,104,20],[145,38,104,21,"object"],[145,44,104,27],[145,46,104,29,"method"],[145,52,104,35],[145,53,104,36],[145,57,104,40,"Object"],[145,63,104,46],[145,64,104,47,"getPrototypeOf"],[145,78,104,61],[145,82,104,65,"method"],[145,88,104,71],[145,92,104,75,"Object"],[145,98,104,81],[145,99,104,82,"getPrototypeOf"],[145,113,104,96],[145,114,104,97,"object"],[145,120,104,103],[145,121,104,104],[145,123,104,106],[146,6,105,4],[146,13,105,11],[146,18,105,16],[147,4,106,2],[148,4,107,2],[149,4,108,2],[150,4,109,2],[150,8,109,6],[150,12,109,6,"hasOwnProperty"],[150,21,109,20],[150,22,109,20,"hasOwnProperty"],[150,36,109,20],[150,38,109,21,"safeNativeMethods"],[150,55,109,38],[150,57,109,40,"method"],[150,63,109,46],[150,64,109,47],[150,66,109,49],[151,6,110,4],[151,13,110,11],[151,17,110,15],[152,4,111,2],[153,4,112,2],[154,4,113,2],[155,4,114,2],[155,8,114,6,"method"],[155,14,114,12],[155,18,114,16,"Object"],[155,24,114,22],[155,25,114,23,"prototype"],[155,34,114,32],[155,36,114,34],[156,6,115,4],[157,6,116,4],[158,6,117,4],[159,6,118,4],[159,13,118,11],[159,18,118,16],[160,4,119,2],[161,4,120,2],[162,4,121,2],[163,4,122,2],[163,8,122,6,"method"],[163,14,122,12],[163,18,122,16,"Function"],[163,26,122,24],[163,27,122,25,"prototype"],[163,36,122,34],[163,38,122,36],[164,6,123,4],[165,6,124,4],[166,6,125,4],[167,6,126,4],[167,13,126,11],[167,18,126,16],[168,4,127,2],[169,4,128,2],[169,11,128,9],[169,15,128,13],[170,2,129,0],[171,2,130,0],[171,11,130,9,"isPlainObject"],[171,24,130,22,"isPlainObject"],[171,25,130,23,"object"],[171,31,130,29],[171,33,130,31],[172,4,131,2],[172,11,131,9],[172,18,131,16,"object"],[172,24,131,22],[172,29,131,27],[172,37,131,35],[172,41,131,39,"object"],[172,47,131,45],[172,51,131,49,"object"],[172,57,131,55],[172,58,131,56,"constructor"],[172,69,131,67],[172,74,131,72,"Object"],[172,80,131,78],[173,2,132,0],[174,2,133,0],[174,6,133,4,"safeNativeProperties"],[174,26,133,24],[174,29,133,27],[175,4,134,2,"length"],[175,10,134,8],[175,12,134,10],[175,16,134,14],[176,4,135,2,"name"],[176,8,135,6],[176,10,135,8],[177,2,136,0],[177,3,136,1],[178,2,137,0],[178,6,137,4,"safeNativeMethods"],[178,23,137,21],[178,26,137,24],[179,4,138,2,"toString"],[179,12,138,10],[179,14,138,12],[179,18,138,16],[180,4,139,2,"valueOf"],[180,11,139,9],[180,13,139,11],[180,17,139,15],[181,4,140,2,"toLocaleString"],[181,18,140,16],[181,20,140,18],[182,2,141,0],[182,3,141,1],[183,0,141,2],[183,3]],"functionMap":{"names":["<global>","getSafeProperty","setSafeProperty","isSafeProperty","getSafeMethod","isSafeMethod","isPlainObject"],"mappings":"AAA;ACU;CDS;AEY;CFO;AGS;CH0B;AIS;CJK;AKS;CLgC;AMC;CNE"},"hasCjsExports":false},"type":"js/module"}]}