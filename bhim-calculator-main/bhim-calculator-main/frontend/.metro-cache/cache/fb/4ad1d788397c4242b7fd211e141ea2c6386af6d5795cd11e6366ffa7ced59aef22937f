{"dependencies":[{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":47,"index":47}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":49,"index":97}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"./utils/improveErrorMessage.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":98},"end":{"line":3,"column":69,"index":167}}],"key":"OctJ2iR6C74+6ORuXPT3M8Q90Dc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMad\", {\n    enumerable: true,\n    get: function () {\n      return createMad;\n    }\n  });\n  var _utilsArrayJs = require(_dependencyMap[0], \"../../utils/array.js\");\n  var _utilsFactoryJs = require(_dependencyMap[1], \"../../utils/factory.js\");\n  var _utilsImproveErrorMessageJs = require(_dependencyMap[2], \"./utils/improveErrorMessage.js\");\n  var name = 'mad';\n  var dependencies = ['typed', 'abs', 'map', 'median', 'subtract'];\n  var createMad = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      abs,\n      map,\n      median,\n      subtract\n    } = _ref;\n    /**\n     * Compute the median absolute deviation of a matrix or a list with values.\n     * The median absolute deviation is defined as the median of the absolute\n     * deviations from the median.\n     *\n     * Syntax:\n     *\n     *     math.mad(a, b, c, ...)\n     *     math.mad(A)\n     *\n     * Examples:\n     *\n     *     math.mad(10, 20, 30)             // returns 10\n     *     math.mad([1, 2, 3])              // returns 1\n     *     math.mad([[1, 2, 3], [4, 5, 6]]) // returns 1.5\n     *\n     * See also:\n     *\n     *     median, mean, std, abs\n     *\n     * @param {Array | Matrix} array\n     *                        A single matrix or multiple scalar values.\n     * @return {*} The median absolute deviation.\n     */\n    return typed(name, {\n      // mad([a, b, c, d, ...])\n      'Array | Matrix': _mad,\n      // mad(a, b, c, d, ...)\n      '...': function _(args) {\n        return _mad(args);\n      }\n    });\n    function _mad(array) {\n      array = (0, _utilsArrayJs.flatten)(array.valueOf());\n      if (array.length === 0) {\n        throw new Error('Cannot calculate median absolute deviation (mad) of an empty array');\n      }\n      try {\n        var med = median(array);\n        return median(map(array, function (value) {\n          return abs(subtract(value, med));\n        }));\n      } catch (err) {\n        if (err instanceof TypeError && err.message.includes('median')) {\n          throw new TypeError(err.message.replace('median', 'mad'));\n        } else {\n          throw (0, _utilsImproveErrorMessageJs.improveErrorMessage)(err, 'mad');\n        }\n      }\n    }\n  });\n});","lineCount":77,"map":[[7,2,6,0,"Object"],[7,8,6,0],[7,9,6,0,"defineProperty"],[7,23,6,0],[7,24,6,0,"exports"],[7,31,6,0],[8,4,6,0,"enumerable"],[8,14,6,0],[9,4,6,0,"get"],[9,7,6,0],[9,18,6,0,"get"],[9,19,6,0],[10,6,6,0],[10,13,6,0,"createMad"],[10,22,6,0],[11,4,6,0],[12,2,6,0],[13,2,1,0],[13,6,1,0,"_utilsArrayJs"],[13,19,1,0],[13,22,1,0,"require"],[13,29,1,0],[13,30,1,0,"_dependencyMap"],[13,44,1,0],[14,2,2,0],[14,6,2,0,"_utilsFactoryJs"],[14,21,2,0],[14,24,2,0,"require"],[14,31,2,0],[14,32,2,0,"_dependencyMap"],[14,46,2,0],[15,2,3,0],[15,6,3,0,"_utilsImproveErrorMessageJs"],[15,33,3,0],[15,36,3,0,"require"],[15,43,3,0],[15,44,3,0,"_dependencyMap"],[15,58,3,0],[16,2,4,0],[16,6,4,4,"name"],[16,10,4,8],[16,13,4,11],[16,18,4,16],[17,2,5,0],[17,6,5,4,"dependencies"],[17,18,5,16],[17,21,5,19],[17,22,5,20],[17,29,5,27],[17,31,5,29],[17,36,5,34],[17,38,5,36],[17,43,5,41],[17,45,5,43],[17,53,5,51],[17,55,5,53],[17,65,5,63],[17,66,5,64],[18,2,6,7],[18,6,6,11,"createMad"],[18,15,6,20],[18,18,6,23],[18,33,6,38],[18,37,6,38,"factory"],[18,52,6,45],[18,53,6,45,"factory"],[18,60,6,45],[18,62,6,46,"name"],[18,66,6,50],[18,68,6,52,"dependencies"],[18,80,6,64],[18,82,6,66,"_ref"],[18,86,6,70],[18,90,6,74],[19,4,7,2],[19,8,7,6],[20,6,8,4,"typed"],[20,11,8,9],[21,6,9,4,"abs"],[21,9,9,7],[22,6,10,4,"map"],[22,9,10,7],[23,6,11,4,"median"],[23,12,11,10],[24,6,12,4,"subtract"],[25,4,13,2],[25,5,13,3],[25,8,13,6,"_ref"],[25,12,13,10],[26,4,14,2],[27,0,15,0],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,0,33,0],[46,0,34,0],[47,0,35,0],[48,0,36,0],[49,0,37,0],[50,4,38,2],[50,11,38,9,"typed"],[50,16,38,14],[50,17,38,15,"name"],[50,21,38,19],[50,23,38,21],[51,6,39,4],[52,6,40,4],[52,22,40,20],[52,24,40,22,"_mad"],[52,28,40,26],[53,6,41,4],[54,6,42,4],[54,11,42,9],[54,13,42,11],[54,22,42,20,"_"],[54,23,42,21,"_"],[54,24,42,22,"args"],[54,28,42,26],[54,30,42,28],[55,8,43,6],[55,15,43,13,"_mad"],[55,19,43,17],[55,20,43,18,"args"],[55,24,43,22],[55,25,43,23],[56,6,44,4],[57,4,45,2],[57,5,45,3],[57,6,45,4],[58,4,46,2],[58,13,46,11,"_mad"],[58,17,46,15,"_mad"],[58,18,46,16,"array"],[58,23,46,21],[58,25,46,23],[59,6,47,4,"array"],[59,11,47,9],[59,14,47,12],[59,18,47,12,"flatten"],[59,31,47,19],[59,32,47,19,"flatten"],[59,39,47,19],[59,41,47,20,"array"],[59,46,47,25],[59,47,47,26,"valueOf"],[59,54,47,33],[59,55,47,34],[59,56,47,35],[59,57,47,36],[60,6,48,4],[60,10,48,8,"array"],[60,15,48,13],[60,16,48,14,"length"],[60,22,48,20],[60,27,48,25],[60,28,48,26],[60,30,48,28],[61,8,49,6],[61,14,49,12],[61,18,49,16,"Error"],[61,23,49,21],[61,24,49,22],[61,92,49,90],[61,93,49,91],[62,6,50,4],[63,6,51,4],[63,10,51,8],[64,8,52,6],[64,12,52,10,"med"],[64,15,52,13],[64,18,52,16,"median"],[64,24,52,22],[64,25,52,23,"array"],[64,30,52,28],[64,31,52,29],[65,8,53,6],[65,15,53,13,"median"],[65,21,53,19],[65,22,53,20,"map"],[65,25,53,23],[65,26,53,24,"array"],[65,31,53,29],[65,33,53,31],[65,43,53,41,"value"],[65,48,53,46],[65,50,53,48],[66,10,54,8],[66,17,54,15,"abs"],[66,20,54,18],[66,21,54,19,"subtract"],[66,29,54,27],[66,30,54,28,"value"],[66,35,54,33],[66,37,54,35,"med"],[66,40,54,38],[66,41,54,39],[66,42,54,40],[67,8,55,6],[67,9,55,7],[67,10,55,8],[67,11,55,9],[68,6,56,4],[68,7,56,5],[68,8,56,6],[68,15,56,13,"err"],[68,18,56,16],[68,20,56,18],[69,8,57,6],[69,12,57,10,"err"],[69,15,57,13],[69,27,57,25,"TypeError"],[69,36,57,34],[69,40,57,38,"err"],[69,43,57,41],[69,44,57,42,"message"],[69,51,57,49],[69,52,57,50,"includes"],[69,60,57,58],[69,61,57,59],[69,69,57,67],[69,70,57,68],[69,72,57,70],[70,10,58,8],[70,16,58,14],[70,20,58,18,"TypeError"],[70,29,58,27],[70,30,58,28,"err"],[70,33,58,31],[70,34,58,32,"message"],[70,41,58,39],[70,42,58,40,"replace"],[70,49,58,47],[70,50,58,48],[70,58,58,56],[70,60,58,58],[70,65,58,63],[70,66,58,64],[70,67,58,65],[71,8,59,6],[71,9,59,7],[71,15,59,13],[72,10,60,8],[72,16,60,14],[72,20,60,14,"improveErrorMessage"],[72,47,60,33],[72,48,60,33,"improveErrorMessage"],[72,67,60,33],[72,69,60,34,"err"],[72,72,60,37],[72,74,60,39],[72,79,60,44],[72,80,60,45],[73,8,61,6],[74,6,62,4],[75,4,63,2],[76,2,64,0],[76,3,64,1],[76,4,64,2],[77,0,64,3],[77,3]],"functionMap":{"names":["<global>","factory$argument_2","_","_mad","map$argument_1"],"mappings":"AAA;kECK;WCoC;KDE;EEE;+BCO;ODE;GFQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}