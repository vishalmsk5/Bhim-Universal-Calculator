{"dependencies":[{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"../../utils/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":75,"index":125}}],"key":"DL0lZsaza5vr7zl/bAzDYPBSOyA=","exportNames":["*"],"imports":1}},{"name":"../../function/matrix/map.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":57,"index":183}}],"key":"Q2qP5vA0nmXVjWCdfP77GEDXBVU=","exportNames":["*"],"imports":1}},{"name":"./utils/compileInlineExpression.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":184},"end":{"line":4,"column":77,"index":261}}],"key":"g4zBshoMI373B/TrFZb6d1T0zfQ=","exportNames":["*"],"imports":1}},{"name":"./utils/transformCallback.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":262},"end":{"line":5,"column":71,"index":333}}],"key":"pkb9WQ9nmCVSyWTHKbZ6aRwJJE0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMapTransform\", {\n    enumerable: true,\n    get: function () {\n      return createMapTransform;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../utils/factory.js\");\n  var _utilsIsJs = require(_dependencyMap[1], \"../../utils/is.js\");\n  var _functionMatrixMapJs = require(_dependencyMap[2], \"../../function/matrix/map.js\");\n  var _utilsCompileInlineExpressionJs = require(_dependencyMap[3], \"./utils/compileInlineExpression.js\");\n  var _utilsTransformCallbackJs = require(_dependencyMap[4], \"./utils/transformCallback.js\");\n  var name = 'map';\n  var dependencies = ['typed'];\n  var createMapTransform = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed\n    } = _ref;\n    /**\n     * Attach a transform function to math.map\n     * Adds a property transform containing the transform function.\n     *\n     * This transform creates a one-based index instead of a zero-based index\n     */\n    var map = (0, _functionMatrixMapJs.createMap)({\n      typed\n    });\n    var transformCallback = (0, _utilsTransformCallbackJs.createTransformCallback)({\n      typed\n    });\n    function mapTransform(args, math, scope) {\n      if (args.length === 0) {\n        return map();\n      }\n      if (args.length === 1) {\n        return map(args[0]);\n      }\n      var N = args.length - 1;\n      var X = args.slice(0, N);\n      var callback = args[N];\n      X = X.map(arg => _compileAndEvaluate(arg, scope));\n      if (callback) {\n        if ((0, _utilsIsJs.isSymbolNode)(callback) || (0, _utilsIsJs.isFunctionAssignmentNode)(callback)) {\n          // a function pointer, like filter([3, -2, 5], myTestFunction)\n          callback = _compileAndEvaluate(callback, scope);\n        } else {\n          // an expression like filter([3, -2, 5], x > 0)\n          callback = (0, _utilsCompileInlineExpressionJs.compileInlineExpression)(callback, math, scope);\n        }\n      }\n      return map(...X, transformCallback(callback, N));\n      function _compileAndEvaluate(arg, scope) {\n        return arg.compile().evaluate(scope);\n      }\n    }\n    mapTransform.rawArgs = true;\n    return mapTransform;\n  }, {\n    isTransformFunction: true\n  });\n});","lineCount":66,"map":[[7,2,8,0,"Object"],[7,8,8,0],[7,9,8,0,"defineProperty"],[7,23,8,0],[7,24,8,0,"exports"],[7,31,8,0],[8,4,8,0,"enumerable"],[8,14,8,0],[9,4,8,0,"get"],[9,7,8,0],[9,18,8,0,"get"],[9,19,8,0],[10,6,8,0],[10,13,8,0,"createMapTransform"],[10,31,8,0],[11,4,8,0],[12,2,8,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,0,"_utilsIsJs"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,3,0],[15,6,3,0,"_functionMatrixMapJs"],[15,26,3,0],[15,29,3,0,"require"],[15,36,3,0],[15,37,3,0,"_dependencyMap"],[15,51,3,0],[16,2,4,0],[16,6,4,0,"_utilsCompileInlineExpressionJs"],[16,37,4,0],[16,40,4,0,"require"],[16,47,4,0],[16,48,4,0,"_dependencyMap"],[16,62,4,0],[17,2,5,0],[17,6,5,0,"_utilsTransformCallbackJs"],[17,31,5,0],[17,34,5,0,"require"],[17,41,5,0],[17,42,5,0,"_dependencyMap"],[17,56,5,0],[18,2,6,0],[18,6,6,4,"name"],[18,10,6,8],[18,13,6,11],[18,18,6,16],[19,2,7,0],[19,6,7,4,"dependencies"],[19,18,7,16],[19,21,7,19],[19,22,7,20],[19,29,7,27],[19,30,7,28],[20,2,8,7],[20,6,8,11,"createMapTransform"],[20,24,8,29],[20,27,8,32],[20,42,8,47],[20,46,8,47,"factory"],[20,61,8,54],[20,62,8,54,"factory"],[20,69,8,54],[20,71,8,55,"name"],[20,75,8,59],[20,77,8,61,"dependencies"],[20,89,8,73],[20,91,8,75,"_ref"],[20,95,8,79],[20,99,8,83],[21,4,9,2],[21,8,9,6],[22,6,10,4,"typed"],[23,4,11,2],[23,5,11,3],[23,8,11,6,"_ref"],[23,12,11,10],[24,4,12,2],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[29,0,17,0],[30,4,18,2],[30,8,18,6,"map"],[30,11,18,9],[30,14,18,12],[30,18,18,12,"createMap"],[30,38,18,21],[30,39,18,21,"createMap"],[30,48,18,21],[30,50,18,22],[31,6,19,4,"typed"],[32,4,20,2],[32,5,20,3],[32,6,20,4],[33,4,21,2],[33,8,21,6,"transformCallback"],[33,25,21,23],[33,28,21,26],[33,32,21,26,"createTransformCallback"],[33,57,21,49],[33,58,21,49,"createTransformCallback"],[33,81,21,49],[33,83,21,50],[34,6,22,4,"typed"],[35,4,23,2],[35,5,23,3],[35,6,23,4],[36,4,24,2],[36,13,24,11,"mapTransform"],[36,25,24,23,"mapTransform"],[36,26,24,24,"args"],[36,30,24,28],[36,32,24,30,"math"],[36,36,24,34],[36,38,24,36,"scope"],[36,43,24,41],[36,45,24,43],[37,6,25,4],[37,10,25,8,"args"],[37,14,25,12],[37,15,25,13,"length"],[37,21,25,19],[37,26,25,24],[37,27,25,25],[37,29,25,27],[38,8,26,6],[38,15,26,13,"map"],[38,18,26,16],[38,19,26,17],[38,20,26,18],[39,6,27,4],[40,6,28,4],[40,10,28,8,"args"],[40,14,28,12],[40,15,28,13,"length"],[40,21,28,19],[40,26,28,24],[40,27,28,25],[40,29,28,27],[41,8,29,6],[41,15,29,13,"map"],[41,18,29,16],[41,19,29,17,"args"],[41,23,29,21],[41,24,29,22],[41,25,29,23],[41,26,29,24],[41,27,29,25],[42,6,30,4],[43,6,31,4],[43,10,31,8,"N"],[43,11,31,9],[43,14,31,12,"args"],[43,18,31,16],[43,19,31,17,"length"],[43,25,31,23],[43,28,31,26],[43,29,31,27],[44,6,32,4],[44,10,32,8,"X"],[44,11,32,9],[44,14,32,12,"args"],[44,18,32,16],[44,19,32,17,"slice"],[44,24,32,22],[44,25,32,23],[44,26,32,24],[44,28,32,26,"N"],[44,29,32,27],[44,30,32,28],[45,6,33,4],[45,10,33,8,"callback"],[45,18,33,16],[45,21,33,19,"args"],[45,25,33,23],[45,26,33,24,"N"],[45,27,33,25],[45,28,33,26],[46,6,34,4,"X"],[46,7,34,5],[46,10,34,8,"X"],[46,11,34,9],[46,12,34,10,"map"],[46,15,34,13],[46,16,34,14,"arg"],[46,19,34,17],[46,23,34,21,"_compileAndEvaluate"],[46,42,34,40],[46,43,34,41,"arg"],[46,46,34,44],[46,48,34,46,"scope"],[46,53,34,51],[46,54,34,52],[46,55,34,53],[47,6,35,4],[47,10,35,8,"callback"],[47,18,35,16],[47,20,35,18],[48,8,36,6],[48,12,36,10],[48,16,36,10,"isSymbolNode"],[48,26,36,22],[48,27,36,22,"isSymbolNode"],[48,39,36,22],[48,41,36,23,"callback"],[48,49,36,31],[48,50,36,32],[48,54,36,36],[48,58,36,36,"isFunctionAssignmentNode"],[48,68,36,60],[48,69,36,60,"isFunctionAssignmentNode"],[48,93,36,60],[48,95,36,61,"callback"],[48,103,36,69],[48,104,36,70],[48,106,36,72],[49,10,37,8],[50,10,38,8,"callback"],[50,18,38,16],[50,21,38,19,"_compileAndEvaluate"],[50,40,38,38],[50,41,38,39,"callback"],[50,49,38,47],[50,51,38,49,"scope"],[50,56,38,54],[50,57,38,55],[51,8,39,6],[51,9,39,7],[51,15,39,13],[52,10,40,8],[53,10,41,8,"callback"],[53,18,41,16],[53,21,41,19],[53,25,41,19,"compileInlineExpression"],[53,56,41,42],[53,57,41,42,"compileInlineExpression"],[53,80,41,42],[53,82,41,43,"callback"],[53,90,41,51],[53,92,41,53,"math"],[53,96,41,57],[53,98,41,59,"scope"],[53,103,41,64],[53,104,41,65],[54,8,42,6],[55,6,43,4],[56,6,44,4],[56,13,44,11,"map"],[56,16,44,14],[56,17,44,15],[56,20,44,18,"X"],[56,21,44,19],[56,23,44,21,"transformCallback"],[56,40,44,38],[56,41,44,39,"callback"],[56,49,44,47],[56,51,44,49,"N"],[56,52,44,50],[56,53,44,51],[56,54,44,52],[57,6,45,4],[57,15,45,13,"_compileAndEvaluate"],[57,34,45,32,"_compileAndEvaluate"],[57,35,45,33,"arg"],[57,38,45,36],[57,40,45,38,"scope"],[57,45,45,43],[57,47,45,45],[58,8,46,6],[58,15,46,13,"arg"],[58,18,46,16],[58,19,46,17,"compile"],[58,26,46,24],[58,27,46,25],[58,28,46,26],[58,29,46,27,"evaluate"],[58,37,46,35],[58,38,46,36,"scope"],[58,43,46,41],[58,44,46,42],[59,6,47,4],[60,4,48,2],[61,4,49,2,"mapTransform"],[61,16,49,14],[61,17,49,15,"rawArgs"],[61,24,49,22],[61,27,49,25],[61,31,49,29],[62,4,50,2],[62,11,50,9,"mapTransform"],[62,23,50,21],[63,2,51,0],[63,3,51,1],[63,5,51,3],[64,4,52,2,"isTransformFunction"],[64,23,52,21],[64,25,52,23],[65,2,53,0],[65,3,53,1],[65,4,53,2],[66,0,53,3],[66,3]],"functionMap":{"names":["<global>","factory$argument_2","mapTransform","X.map$argument_0","_compileAndEvaluate"],"mappings":"AAA;2ECO;ECgB;cCU,sCD;IEW;KFE;GDC;CDG"},"hasCjsExports":false},"type":"js/module"}]}