{"dependencies":[{"name":"../../utils/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"DL0lZsaza5vr7zl/bAzDYPBSOyA=","exportNames":["*"],"imports":1}},{"name":"../../utils/string.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":46},"end":{"line":2,"column":47,"index":93}}],"key":"T/CgcIKKhkpXsq2SV9hlw6YQi24=","exportNames":["*"],"imports":1}},{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":49,"index":143}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":144},"end":{"line":4,"column":49,"index":193}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createSqrtm\", {\n    enumerable: true,\n    get: function () {\n      return createSqrtm;\n    }\n  });\n  var _utilsIsJs = require(_dependencyMap[0], \"../../utils/is.js\");\n  var _utilsStringJs = require(_dependencyMap[1], \"../../utils/string.js\");\n  var _utilsArrayJs = require(_dependencyMap[2], \"../../utils/array.js\");\n  var _utilsFactoryJs = require(_dependencyMap[3], \"../../utils/factory.js\");\n  var name = 'sqrtm';\n  var dependencies = ['typed', 'abs', 'add', 'multiply', 'map', 'sqrt', 'subtract', 'inv', 'size', 'max', 'identity'];\n  var createSqrtm = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var typed = _ref.typed,\n      abs = _ref.abs,\n      add = _ref.add,\n      multiply = _ref.multiply,\n      map = _ref.map,\n      sqrt = _ref.sqrt,\n      subtract = _ref.subtract,\n      inv = _ref.inv,\n      size = _ref.size,\n      max = _ref.max,\n      identity = _ref.identity;\n    var _maxIterations = 1e3;\n    var _tolerance = 1e-6;\n\n    /**\n     * Calculate the principal square root matrix using the Denman–Beavers iterative method\n     *\n     * https://en.wikipedia.org/wiki/Square_root_of_a_matrix#By_Denman–Beavers_iteration\n     *\n     * @param  {Array | Matrix} A   The square matrix `A`\n     * @return {Array | Matrix}     The principal square root of matrix `A`\n     * @private\n     */\n    function _denmanBeavers(A) {\n      var error;\n      var iterations = 0;\n      var Y = A;\n      var Z = identity(size(A));\n      do {\n        var Yk = Y;\n        Y = multiply(0.5, add(Yk, inv(Z)));\n        Z = multiply(0.5, add(Z, inv(Yk)));\n        error = max(abs(subtract(Y, Yk)));\n        if (error > _tolerance && ++iterations > _maxIterations) {\n          throw new Error('computing square root of matrix: iterative method could not converge');\n        }\n      } while (error > _tolerance);\n      return Y;\n    }\n\n    /**\n     * Calculate the principal square root of a square matrix.\n     * The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.\n     *\n     * https://en.wikipedia.org/wiki/Square_root_of_a_matrix\n     *\n     * Syntax:\n     *\n     *     math.sqrtm(A)\n     *\n     * Examples:\n     *\n     *     math.sqrtm([[33, 24], [48, 57]]) // returns [[5, 2], [4, 7]]\n     *\n     * See also:\n     *\n     *     sqrt, pow\n     *\n     * @param  {Array | Matrix} A   The square matrix `A`\n     * @return {Array | Matrix}     The principal square root of matrix `A`\n     */\n    return typed(name, {\n      'Array | Matrix': function Array__Matrix(A) {\n        var size = (0, _utilsIsJs.isMatrix)(A) ? A.size() : (0, _utilsArrayJs.arraySize)(A);\n        switch (size.length) {\n          case 1:\n            // Single element Array | Matrix\n            if (size[0] === 1) {\n              return map(A, sqrt);\n            } else {\n              throw new RangeError('Matrix must be square ' + '(size: ' + (0, _utilsStringJs.format)(size) + ')');\n            }\n          case 2:\n            {\n              // Two-dimensional Array | Matrix\n              var rows = size[0];\n              var cols = size[1];\n              if (rows === cols) {\n                return _denmanBeavers(A);\n              } else {\n                throw new RangeError('Matrix must be square ' + '(size: ' + (0, _utilsStringJs.format)(size) + ')');\n              }\n            }\n          default:\n            // Multi dimensional array\n            throw new RangeError('Matrix must be at most two dimensional ' + '(size: ' + (0, _utilsStringJs.format)(size) + ')');\n        }\n      }\n    });\n  });\n});","lineCount":110,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"createSqrtm"],[10,24,7,0],[11,4,7,0],[12,2,7,0],[13,2,1,0],[13,6,1,0,"_utilsIsJs"],[13,16,1,0],[13,19,1,0,"require"],[13,26,1,0],[13,27,1,0,"_dependencyMap"],[13,41,1,0],[14,2,2,0],[14,6,2,0,"_utilsStringJs"],[14,20,2,0],[14,23,2,0,"require"],[14,30,2,0],[14,31,2,0,"_dependencyMap"],[14,45,2,0],[15,2,3,0],[15,6,3,0,"_utilsArrayJs"],[15,19,3,0],[15,22,3,0,"require"],[15,29,3,0],[15,30,3,0,"_dependencyMap"],[15,44,3,0],[16,2,4,0],[16,6,4,0,"_utilsFactoryJs"],[16,21,4,0],[16,24,4,0,"require"],[16,31,4,0],[16,32,4,0,"_dependencyMap"],[16,46,4,0],[17,2,5,0],[17,6,5,4,"name"],[17,10,5,8],[17,13,5,11],[17,20,5,18],[18,2,6,0],[18,6,6,4,"dependencies"],[18,18,6,16],[18,21,6,19],[18,22,6,20],[18,29,6,27],[18,31,6,29],[18,36,6,34],[18,38,6,36],[18,43,6,41],[18,45,6,43],[18,55,6,53],[18,57,6,55],[18,62,6,60],[18,64,6,62],[18,70,6,68],[18,72,6,70],[18,82,6,80],[18,84,6,82],[18,89,6,87],[18,91,6,89],[18,97,6,95],[18,99,6,97],[18,104,6,102],[18,106,6,104],[18,116,6,114],[18,117,6,115],[19,2,7,7],[19,6,7,11,"createSqrtm"],[19,17,7,22],[19,20,7,25],[19,35,7,40],[19,39,7,40,"factory"],[19,54,7,47],[19,55,7,47,"factory"],[19,62,7,47],[19,64,7,48,"name"],[19,68,7,52],[19,70,7,54,"dependencies"],[19,82,7,66],[19,84,7,68,"_ref"],[19,88,7,72],[19,92,7,76],[20,4,8,2],[20,8,9,4,"typed"],[20,13,9,9],[20,16,20,6,"_ref"],[20,20,20,10],[20,21,9,4,"typed"],[20,26,9,9],[21,6,10,4,"abs"],[21,9,10,7],[21,12,20,6,"_ref"],[21,16,20,10],[21,17,10,4,"abs"],[21,20,10,7],[22,6,11,4,"add"],[22,9,11,7],[22,12,20,6,"_ref"],[22,16,20,10],[22,17,11,4,"add"],[22,20,11,7],[23,6,12,4,"multiply"],[23,14,12,12],[23,17,20,6,"_ref"],[23,21,20,10],[23,22,12,4,"multiply"],[23,30,12,12],[24,6,13,4,"map"],[24,9,13,7],[24,12,20,6,"_ref"],[24,16,20,10],[24,17,13,4,"map"],[24,20,13,7],[25,6,14,4,"sqrt"],[25,10,14,8],[25,13,20,6,"_ref"],[25,17,20,10],[25,18,14,4,"sqrt"],[25,22,14,8],[26,6,15,4,"subtract"],[26,14,15,12],[26,17,20,6,"_ref"],[26,21,20,10],[26,22,15,4,"subtract"],[26,30,15,12],[27,6,16,4,"inv"],[27,9,16,7],[27,12,20,6,"_ref"],[27,16,20,10],[27,17,16,4,"inv"],[27,20,16,7],[28,6,17,4,"size"],[28,10,17,8],[28,13,20,6,"_ref"],[28,17,20,10],[28,18,17,4,"size"],[28,22,17,8],[29,6,18,4,"max"],[29,9,18,7],[29,12,20,6,"_ref"],[29,16,20,10],[29,17,18,4,"max"],[29,20,18,7],[30,6,19,4,"identity"],[30,14,19,12],[30,17,20,6,"_ref"],[30,21,20,10],[30,22,19,4,"identity"],[30,30,19,12],[31,4,21,2],[31,8,21,6,"_maxIterations"],[31,22,21,20],[31,25,21,23],[31,28,21,26],[32,4,22,2],[32,8,22,6,"_tolerance"],[32,18,22,16],[32,21,22,19],[32,25,22,23],[34,4,24,2],[35,0,25,0],[36,0,26,0],[37,0,27,0],[38,0,28,0],[39,0,29,0],[40,0,30,0],[41,0,31,0],[42,0,32,0],[43,4,33,2],[43,13,33,11,"_denmanBeavers"],[43,27,33,25,"_denmanBeavers"],[43,28,33,26,"A"],[43,29,33,27],[43,31,33,29],[44,6,34,4],[44,10,34,8,"error"],[44,15,34,13],[45,6,35,4],[45,10,35,8,"iterations"],[45,20,35,18],[45,23,35,21],[45,24,35,22],[46,6,36,4],[46,10,36,8,"Y"],[46,11,36,9],[46,14,36,12,"A"],[46,15,36,13],[47,6,37,4],[47,10,37,8,"Z"],[47,11,37,9],[47,14,37,12,"identity"],[47,22,37,20],[47,23,37,21,"size"],[47,27,37,25],[47,28,37,26,"A"],[47,29,37,27],[47,30,37,28],[47,31,37,29],[48,6,38,4],[48,9,38,7],[49,8,39,6],[49,12,39,10,"Yk"],[49,14,39,12],[49,17,39,15,"Y"],[49,18,39,16],[50,8,40,6,"Y"],[50,9,40,7],[50,12,40,10,"multiply"],[50,20,40,18],[50,21,40,19],[50,24,40,22],[50,26,40,24,"add"],[50,29,40,27],[50,30,40,28,"Yk"],[50,32,40,30],[50,34,40,32,"inv"],[50,37,40,35],[50,38,40,36,"Z"],[50,39,40,37],[50,40,40,38],[50,41,40,39],[50,42,40,40],[51,8,41,6,"Z"],[51,9,41,7],[51,12,41,10,"multiply"],[51,20,41,18],[51,21,41,19],[51,24,41,22],[51,26,41,24,"add"],[51,29,41,27],[51,30,41,28,"Z"],[51,31,41,29],[51,33,41,31,"inv"],[51,36,41,34],[51,37,41,35,"Yk"],[51,39,41,37],[51,40,41,38],[51,41,41,39],[51,42,41,40],[52,8,42,6,"error"],[52,13,42,11],[52,16,42,14,"max"],[52,19,42,17],[52,20,42,18,"abs"],[52,23,42,21],[52,24,42,22,"subtract"],[52,32,42,30],[52,33,42,31,"Y"],[52,34,42,32],[52,36,42,34,"Yk"],[52,38,42,36],[52,39,42,37],[52,40,42,38],[52,41,42,39],[53,8,43,6],[53,12,43,10,"error"],[53,17,43,15],[53,20,43,18,"_tolerance"],[53,30,43,28],[53,34,43,32],[53,36,43,34,"iterations"],[53,46,43,44],[53,49,43,47,"_maxIterations"],[53,63,43,61],[53,65,43,63],[54,10,44,8],[54,16,44,14],[54,20,44,18,"Error"],[54,25,44,23],[54,26,44,24],[54,96,44,94],[54,97,44,95],[55,8,45,6],[56,6,46,4],[56,7,46,5],[56,15,46,13,"error"],[56,20,46,18],[56,23,46,21,"_tolerance"],[56,33,46,31],[57,6,47,4],[57,13,47,11,"Y"],[57,14,47,12],[58,4,48,2],[60,4,50,2],[61,0,51,0],[62,0,52,0],[63,0,53,0],[64,0,54,0],[65,0,55,0],[66,0,56,0],[67,0,57,0],[68,0,58,0],[69,0,59,0],[70,0,60,0],[71,0,61,0],[72,0,62,0],[73,0,63,0],[74,0,64,0],[75,0,65,0],[76,0,66,0],[77,0,67,0],[78,0,68,0],[79,0,69,0],[80,0,70,0],[81,4,71,2],[81,11,71,9,"typed"],[81,16,71,14],[81,17,71,15,"name"],[81,21,71,19],[81,23,71,21],[82,6,72,4],[82,22,72,20],[82,24,72,22],[82,33,72,31,"Array__Matrix"],[82,46,72,44,"Array__Matrix"],[82,47,72,45,"A"],[82,48,72,46],[82,50,72,48],[83,8,73,6],[83,12,73,10,"size"],[83,16,73,14],[83,19,73,17],[83,23,73,17,"isMatrix"],[83,33,73,25],[83,34,73,25,"isMatrix"],[83,42,73,25],[83,44,73,26,"A"],[83,45,73,27],[83,46,73,28],[83,49,73,31,"A"],[83,50,73,32],[83,51,73,33,"size"],[83,55,73,37],[83,56,73,38],[83,57,73,39],[83,60,73,42],[83,64,73,42,"arraySize"],[83,77,73,51],[83,78,73,51,"arraySize"],[83,87,73,51],[83,89,73,52,"A"],[83,90,73,53],[83,91,73,54],[84,8,74,6],[84,16,74,14,"size"],[84,20,74,18],[84,21,74,19,"length"],[84,27,74,25],[85,10,75,8],[85,15,75,13],[85,16,75,14],[86,12,76,10],[87,12,77,10],[87,16,77,14,"size"],[87,20,77,18],[87,21,77,19],[87,22,77,20],[87,23,77,21],[87,28,77,26],[87,29,77,27],[87,31,77,29],[88,14,78,12],[88,21,78,19,"map"],[88,24,78,22],[88,25,78,23,"A"],[88,26,78,24],[88,28,78,26,"sqrt"],[88,32,78,30],[88,33,78,31],[89,12,79,10],[89,13,79,11],[89,19,79,17],[90,14,80,12],[90,20,80,18],[90,24,80,22,"RangeError"],[90,34,80,32],[90,35,80,33],[90,59,80,57],[90,62,80,60],[90,71,80,69],[90,74,80,72],[90,78,80,72,"format"],[90,92,80,78],[90,93,80,78,"format"],[90,99,80,78],[90,101,80,79,"size"],[90,105,80,83],[90,106,80,84],[90,109,80,87],[90,112,80,90],[90,113,80,91],[91,12,81,10],[92,10,82,8],[92,15,82,13],[92,16,82,14],[93,12,83,10],[94,14,84,12],[95,14,85,12],[95,18,85,16,"rows"],[95,22,85,20],[95,25,85,23,"size"],[95,29,85,27],[95,30,85,28],[95,31,85,29],[95,32,85,30],[96,14,86,12],[96,18,86,16,"cols"],[96,22,86,20],[96,25,86,23,"size"],[96,29,86,27],[96,30,86,28],[96,31,86,29],[96,32,86,30],[97,14,87,12],[97,18,87,16,"rows"],[97,22,87,20],[97,27,87,25,"cols"],[97,31,87,29],[97,33,87,31],[98,16,88,14],[98,23,88,21,"_denmanBeavers"],[98,37,88,35],[98,38,88,36,"A"],[98,39,88,37],[98,40,88,38],[99,14,89,12],[99,15,89,13],[99,21,89,19],[100,16,90,14],[100,22,90,20],[100,26,90,24,"RangeError"],[100,36,90,34],[100,37,90,35],[100,61,90,59],[100,64,90,62],[100,73,90,71],[100,76,90,74],[100,80,90,74,"format"],[100,94,90,80],[100,95,90,80,"format"],[100,101,90,80],[100,103,90,81,"size"],[100,107,90,85],[100,108,90,86],[100,111,90,89],[100,114,90,92],[100,115,90,93],[101,14,91,12],[102,12,92,10],[103,10,93,8],[104,12,94,10],[105,12,95,10],[105,18,95,16],[105,22,95,20,"RangeError"],[105,32,95,30],[105,33,95,31],[105,74,95,72],[105,77,95,75],[105,86,95,84],[105,89,95,87],[105,93,95,87,"format"],[105,107,95,93],[105,108,95,93,"format"],[105,114,95,93],[105,116,95,94,"size"],[105,120,95,98],[105,121,95,99],[105,124,95,102],[105,127,95,105],[105,128,95,106],[106,8,96,6],[107,6,97,4],[108,4,98,2],[108,5,98,3],[108,6,98,4],[109,2,99,0],[109,3,99,1],[109,4,99,2],[110,0,99,3],[110,3]],"functionMap":{"names":["<global>","factory$argument_2","_denmanBeavers","Array__Matrix"],"mappings":"AAA;oECM;EC0B;GDe;sBEwB;KFyB;CDE"},"hasCjsExports":false},"type":"js/module"}]}