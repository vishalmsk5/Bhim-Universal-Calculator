{"dependencies":[{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":49,"index":99}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":100},"end":{"line":3,"column":45,"index":145}}],"key":"DL0lZsaza5vr7zl/bAzDYPBSOyA=","exportNames":["*"],"imports":1}},{"name":"../../error/IndexError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":146},"end":{"line":4,"column":55,"index":201}}],"key":"FX5/WJJufVod8Z81KKBXXxofErs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMapSlices\", {\n    enumerable: true,\n    get: function () {\n      return createMapSlices;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../utils/factory.js\");\n  var _utilsArrayJs = require(_dependencyMap[1], \"../../utils/array.js\");\n  var _utilsIsJs = require(_dependencyMap[2], \"../../utils/is.js\");\n  var _errorIndexErrorJs = require(_dependencyMap[3], \"../../error/IndexError.js\");\n  var name = 'mapSlices';\n  var dependencies = ['typed', 'isInteger'];\n  var createMapSlices = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      isInteger\n    } = _ref;\n    /**\n     * Apply a function that maps an array to a scalar\n     * along a given axis of a matrix or array.\n     * Returns a new matrix or array with one less dimension than the input.\n     *\n     * Syntax:\n     *\n     *     math.mapSlices(A, dim, callback)\n     *\n     * Where:\n     *\n     * - `dim: number` is a zero-based dimension over which to concatenate the matrices.\n     *\n     * Examples:\n     *\n     *    const A = [[1, 2], [3, 4]]\n     *    const sum = math.sum\n     *\n     *    math.mapSlices(A, 0, sum)             // returns [4, 6]\n     *    math.mapSlices(A, 1, sum)             // returns [3, 7]\n     *\n     * See also:\n     *\n     *    map, filter, forEach\n     *\n     * Note:\n     *\n     *    `mapSlices()` is also currently available via its deprecated\n     *    synonym `apply()`.\n     *\n     * @param {Array | Matrix} array   The input Matrix\n     * @param {number} dim             The dimension along which the callback is applied\n     * @param {Function} callback      The callback function that is applied. This Function\n     *                                 should take an array or 1-d matrix as an input and\n     *                                 return a number.\n     * @return {Array | Matrix} res    The residual matrix with the function mapped on the slices over some dimension.\n     */\n    return typed(name, {\n      'Array | Matrix, number | BigNumber, function': function Array__Matrix_number__BigNumber_function(mat, dim, callback) {\n        if (!isInteger(dim)) {\n          throw new TypeError('Integer number expected for dimension');\n        }\n        var size = Array.isArray(mat) ? (0, _utilsArrayJs.arraySize)(mat) : mat.size();\n        if (dim < 0 || dim >= size.length) {\n          throw new _errorIndexErrorJs.IndexError(dim, size.length);\n        }\n        if ((0, _utilsIsJs.isMatrix)(mat)) {\n          return mat.create(_mapSlices(mat.valueOf(), dim, callback), mat.datatype());\n        } else {\n          return _mapSlices(mat, dim, callback);\n        }\n      }\n    });\n  }, {\n    formerly: 'apply'\n  });\n\n  /**\n   * Recursively reduce a matrix\n   * @param {Array} mat\n   * @param {number} dim\n   * @param {Function} callback\n   * @returns {Array} ret\n   * @private\n   */\n  function _mapSlices(mat, dim, callback) {\n    var i, ret, tran;\n    if (dim <= 0) {\n      if (!Array.isArray(mat[0])) {\n        return callback(mat);\n      } else {\n        tran = _switch(mat);\n        ret = [];\n        for (i = 0; i < tran.length; i++) {\n          ret[i] = _mapSlices(tran[i], dim - 1, callback);\n        }\n        return ret;\n      }\n    } else {\n      ret = [];\n      for (i = 0; i < mat.length; i++) {\n        ret[i] = _mapSlices(mat[i], dim - 1, callback);\n      }\n      return ret;\n    }\n  }\n\n  /**\n   * Transpose a matrix\n   * @param {Array} mat\n   * @returns {Array} ret\n   * @private\n   */\n  function _switch(mat) {\n    var I = mat.length;\n    var J = mat[0].length;\n    var i, j;\n    var ret = [];\n    for (j = 0; j < J; j++) {\n      var tmp = [];\n      for (i = 0; i < I; i++) {\n        tmp.push(mat[i][j]);\n      }\n      ret.push(tmp);\n    }\n    return ret;\n  }\n});","lineCount":131,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"createMapSlices"],[10,28,7,0],[11,4,7,0],[12,2,7,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,0,"_utilsArrayJs"],[14,19,2,0],[14,22,2,0,"require"],[14,29,2,0],[14,30,2,0,"_dependencyMap"],[14,44,2,0],[15,2,3,0],[15,6,3,0,"_utilsIsJs"],[15,16,3,0],[15,19,3,0,"require"],[15,26,3,0],[15,27,3,0,"_dependencyMap"],[15,41,3,0],[16,2,4,0],[16,6,4,0,"_errorIndexErrorJs"],[16,24,4,0],[16,27,4,0,"require"],[16,34,4,0],[16,35,4,0,"_dependencyMap"],[16,49,4,0],[17,2,5,0],[17,6,5,4,"name"],[17,10,5,8],[17,13,5,11],[17,24,5,22],[18,2,6,0],[18,6,6,4,"dependencies"],[18,18,6,16],[18,21,6,19],[18,22,6,20],[18,29,6,27],[18,31,6,29],[18,42,6,40],[18,43,6,41],[19,2,7,7],[19,6,7,11,"createMapSlices"],[19,21,7,26],[19,24,7,29],[19,39,7,44],[19,43,7,44,"factory"],[19,58,7,51],[19,59,7,51,"factory"],[19,66,7,51],[19,68,7,52,"name"],[19,72,7,56],[19,74,7,58,"dependencies"],[19,86,7,70],[19,88,7,72,"_ref"],[19,92,7,76],[19,96,7,80],[20,4,8,2],[20,8,8,6],[21,6,9,4,"typed"],[21,11,9,9],[22,6,10,4,"isInteger"],[23,4,11,2],[23,5,11,3],[23,8,11,6,"_ref"],[23,12,11,10],[24,4,12,2],[25,0,13,0],[26,0,14,0],[27,0,15,0],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,0,33,0],[46,0,34,0],[47,0,35,0],[48,0,36,0],[49,0,37,0],[50,0,38,0],[51,0,39,0],[52,0,40,0],[53,0,41,0],[54,0,42,0],[55,0,43,0],[56,0,44,0],[57,0,45,0],[58,0,46,0],[59,0,47,0],[60,0,48,0],[61,4,49,2],[61,11,49,9,"typed"],[61,16,49,14],[61,17,49,15,"name"],[61,21,49,19],[61,23,49,21],[62,6,50,4],[62,52,50,50],[62,54,50,52],[62,63,50,61,"Array__Matrix_number__BigNumber_function"],[62,103,50,101,"Array__Matrix_number__BigNumber_function"],[62,104,50,102,"mat"],[62,107,50,105],[62,109,50,107,"dim"],[62,112,50,110],[62,114,50,112,"callback"],[62,122,50,120],[62,124,50,122],[63,8,51,6],[63,12,51,10],[63,13,51,11,"isInteger"],[63,22,51,20],[63,23,51,21,"dim"],[63,26,51,24],[63,27,51,25],[63,29,51,27],[64,10,52,8],[64,16,52,14],[64,20,52,18,"TypeError"],[64,29,52,27],[64,30,52,28],[64,69,52,67],[64,70,52,68],[65,8,53,6],[66,8,54,6],[66,12,54,10,"size"],[66,16,54,14],[66,19,54,17,"Array"],[66,24,54,22],[66,25,54,23,"isArray"],[66,32,54,30],[66,33,54,31,"mat"],[66,36,54,34],[66,37,54,35],[66,40,54,38],[66,44,54,38,"arraySize"],[66,57,54,47],[66,58,54,47,"arraySize"],[66,67,54,47],[66,69,54,48,"mat"],[66,72,54,51],[66,73,54,52],[66,76,54,55,"mat"],[66,79,54,58],[66,80,54,59,"size"],[66,84,54,63],[66,85,54,64],[66,86,54,65],[67,8,55,6],[67,12,55,10,"dim"],[67,15,55,13],[67,18,55,16],[67,19,55,17],[67,23,55,21,"dim"],[67,26,55,24],[67,30,55,28,"size"],[67,34,55,32],[67,35,55,33,"length"],[67,41,55,39],[67,43,55,41],[68,10,56,8],[68,16,56,14],[68,20,56,18,"IndexError"],[68,38,56,28],[68,39,56,28,"IndexError"],[68,49,56,28],[68,50,56,29,"dim"],[68,53,56,32],[68,55,56,34,"size"],[68,59,56,38],[68,60,56,39,"length"],[68,66,56,45],[68,67,56,46],[69,8,57,6],[70,8,58,6],[70,12,58,10],[70,16,58,10,"isMatrix"],[70,26,58,18],[70,27,58,18,"isMatrix"],[70,35,58,18],[70,37,58,19,"mat"],[70,40,58,22],[70,41,58,23],[70,43,58,25],[71,10,59,8],[71,17,59,15,"mat"],[71,20,59,18],[71,21,59,19,"create"],[71,27,59,25],[71,28,59,26,"_mapSlices"],[71,38,59,36],[71,39,59,37,"mat"],[71,42,59,40],[71,43,59,41,"valueOf"],[71,50,59,48],[71,51,59,49],[71,52,59,50],[71,54,59,52,"dim"],[71,57,59,55],[71,59,59,57,"callback"],[71,67,59,65],[71,68,59,66],[71,70,59,68,"mat"],[71,73,59,71],[71,74,59,72,"datatype"],[71,82,59,80],[71,83,59,81],[71,84,59,82],[71,85,59,83],[72,8,60,6],[72,9,60,7],[72,15,60,13],[73,10,61,8],[73,17,61,15,"_mapSlices"],[73,27,61,25],[73,28,61,26,"mat"],[73,31,61,29],[73,33,61,31,"dim"],[73,36,61,34],[73,38,61,36,"callback"],[73,46,61,44],[73,47,61,45],[74,8,62,6],[75,6,63,4],[76,4,64,2],[76,5,64,3],[76,6,64,4],[77,2,65,0],[77,3,65,1],[77,5,65,3],[78,4,66,2,"formerly"],[78,12,66,10],[78,14,66,12],[79,2,67,0],[79,3,67,1],[79,4,67,2],[81,2,69,0],[82,0,70,0],[83,0,71,0],[84,0,72,0],[85,0,73,0],[86,0,74,0],[87,0,75,0],[88,0,76,0],[89,2,77,0],[89,11,77,9,"_mapSlices"],[89,21,77,19,"_mapSlices"],[89,22,77,20,"mat"],[89,25,77,23],[89,27,77,25,"dim"],[89,30,77,28],[89,32,77,30,"callback"],[89,40,77,38],[89,42,77,40],[90,4,78,2],[90,8,78,6,"i"],[90,9,78,7],[90,11,78,9,"ret"],[90,14,78,12],[90,16,78,14,"tran"],[90,20,78,18],[91,4,79,2],[91,8,79,6,"dim"],[91,11,79,9],[91,15,79,13],[91,16,79,14],[91,18,79,16],[92,6,80,4],[92,10,80,8],[92,11,80,9,"Array"],[92,16,80,14],[92,17,80,15,"isArray"],[92,24,80,22],[92,25,80,23,"mat"],[92,28,80,26],[92,29,80,27],[92,30,80,28],[92,31,80,29],[92,32,80,30],[92,34,80,32],[93,8,81,6],[93,15,81,13,"callback"],[93,23,81,21],[93,24,81,22,"mat"],[93,27,81,25],[93,28,81,26],[94,6,82,4],[94,7,82,5],[94,13,82,11],[95,8,83,6,"tran"],[95,12,83,10],[95,15,83,13,"_switch"],[95,22,83,20],[95,23,83,21,"mat"],[95,26,83,24],[95,27,83,25],[96,8,84,6,"ret"],[96,11,84,9],[96,14,84,12],[96,16,84,14],[97,8,85,6],[97,13,85,11,"i"],[97,14,85,12],[97,17,85,15],[97,18,85,16],[97,20,85,18,"i"],[97,21,85,19],[97,24,85,22,"tran"],[97,28,85,26],[97,29,85,27,"length"],[97,35,85,33],[97,37,85,35,"i"],[97,38,85,36],[97,40,85,38],[97,42,85,40],[98,10,86,8,"ret"],[98,13,86,11],[98,14,86,12,"i"],[98,15,86,13],[98,16,86,14],[98,19,86,17,"_mapSlices"],[98,29,86,27],[98,30,86,28,"tran"],[98,34,86,32],[98,35,86,33,"i"],[98,36,86,34],[98,37,86,35],[98,39,86,37,"dim"],[98,42,86,40],[98,45,86,43],[98,46,86,44],[98,48,86,46,"callback"],[98,56,86,54],[98,57,86,55],[99,8,87,6],[100,8,88,6],[100,15,88,13,"ret"],[100,18,88,16],[101,6,89,4],[102,4,90,2],[102,5,90,3],[102,11,90,9],[103,6,91,4,"ret"],[103,9,91,7],[103,12,91,10],[103,14,91,12],[104,6,92,4],[104,11,92,9,"i"],[104,12,92,10],[104,15,92,13],[104,16,92,14],[104,18,92,16,"i"],[104,19,92,17],[104,22,92,20,"mat"],[104,25,92,23],[104,26,92,24,"length"],[104,32,92,30],[104,34,92,32,"i"],[104,35,92,33],[104,37,92,35],[104,39,92,37],[105,8,93,6,"ret"],[105,11,93,9],[105,12,93,10,"i"],[105,13,93,11],[105,14,93,12],[105,17,93,15,"_mapSlices"],[105,27,93,25],[105,28,93,26,"mat"],[105,31,93,29],[105,32,93,30,"i"],[105,33,93,31],[105,34,93,32],[105,36,93,34,"dim"],[105,39,93,37],[105,42,93,40],[105,43,93,41],[105,45,93,43,"callback"],[105,53,93,51],[105,54,93,52],[106,6,94,4],[107,6,95,4],[107,13,95,11,"ret"],[107,16,95,14],[108,4,96,2],[109,2,97,0],[111,2,99,0],[112,0,100,0],[113,0,101,0],[114,0,102,0],[115,0,103,0],[116,0,104,0],[117,2,105,0],[117,11,105,9,"_switch"],[117,18,105,16,"_switch"],[117,19,105,17,"mat"],[117,22,105,20],[117,24,105,22],[118,4,106,2],[118,8,106,6,"I"],[118,9,106,7],[118,12,106,10,"mat"],[118,15,106,13],[118,16,106,14,"length"],[118,22,106,20],[119,4,107,2],[119,8,107,6,"J"],[119,9,107,7],[119,12,107,10,"mat"],[119,15,107,13],[119,16,107,14],[119,17,107,15],[119,18,107,16],[119,19,107,17,"length"],[119,25,107,23],[120,4,108,2],[120,8,108,6,"i"],[120,9,108,7],[120,11,108,9,"j"],[120,12,108,10],[121,4,109,2],[121,8,109,6,"ret"],[121,11,109,9],[121,14,109,12],[121,16,109,14],[122,4,110,2],[122,9,110,7,"j"],[122,10,110,8],[122,13,110,11],[122,14,110,12],[122,16,110,14,"j"],[122,17,110,15],[122,20,110,18,"J"],[122,21,110,19],[122,23,110,21,"j"],[122,24,110,22],[122,26,110,24],[122,28,110,26],[123,6,111,4],[123,10,111,8,"tmp"],[123,13,111,11],[123,16,111,14],[123,18,111,16],[124,6,112,4],[124,11,112,9,"i"],[124,12,112,10],[124,15,112,13],[124,16,112,14],[124,18,112,16,"i"],[124,19,112,17],[124,22,112,20,"I"],[124,23,112,21],[124,25,112,23,"i"],[124,26,112,24],[124,28,112,26],[124,30,112,28],[125,8,113,6,"tmp"],[125,11,113,9],[125,12,113,10,"push"],[125,16,113,14],[125,17,113,15,"mat"],[125,20,113,18],[125,21,113,19,"i"],[125,22,113,20],[125,23,113,21],[125,24,113,22,"j"],[125,25,113,23],[125,26,113,24],[125,27,113,25],[126,6,114,4],[127,6,115,4,"ret"],[127,9,115,7],[127,10,115,8,"push"],[127,14,115,12],[127,15,115,13,"tmp"],[127,18,115,16],[127,19,115,17],[128,4,116,2],[129,4,117,2],[129,11,117,9,"ret"],[129,14,117,12],[130,2,118,0],[131,0,118,1],[131,3]],"functionMap":{"names":["<global>","factory$argument_2","Array__Matrix_number__BigNumber_function","_mapSlices","_switch"],"mappings":"AAA;wECM;oDC2C;KDa;CDE;AGY;CHoB;AIQ"},"hasCjsExports":false},"type":"js/module"}]}