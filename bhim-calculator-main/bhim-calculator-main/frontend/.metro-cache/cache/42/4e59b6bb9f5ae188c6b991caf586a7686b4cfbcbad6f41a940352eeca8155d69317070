{"dependencies":[{"name":"../../utils/collection.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"fi1hvvRFVO+J7CgKvCdHAHsYQlM=","exportNames":["*"],"imports":1}},{"name":"../../utils/array.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":65},"end":{"line":2,"column":47,"index":112}}],"key":"WnUh6nRB13E3C1gs7Jotmx5RMHw=","exportNames":["*"],"imports":1}},{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":113},"end":{"line":3,"column":49,"index":162}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}},{"name":"./utils/improveErrorMessage.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":163},"end":{"line":4,"column":69,"index":232}}],"key":"OctJ2iR6C74+6ORuXPT3M8Q90Dc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createMedian\", {\n    enumerable: true,\n    get: function () {\n      return createMedian;\n    }\n  });\n  var _utilsCollectionJs = require(_dependencyMap[0], \"../../utils/collection.js\");\n  var _utilsArrayJs = require(_dependencyMap[1], \"../../utils/array.js\");\n  var _utilsFactoryJs = require(_dependencyMap[2], \"../../utils/factory.js\");\n  var _utilsImproveErrorMessageJs = require(_dependencyMap[3], \"./utils/improveErrorMessage.js\");\n  var name = 'median';\n  var dependencies = ['typed', 'add', 'divide', 'compare', 'partitionSelect'];\n  var createMedian = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      add,\n      divide,\n      compare,\n      partitionSelect\n    } = _ref;\n    /**\n     * Recursively calculate the median of an n-dimensional array\n     * @param {Array} array\n     * @return {Number} median\n     * @private\n     */\n    function _median(array) {\n      try {\n        array = (0, _utilsArrayJs.flatten)(array.valueOf());\n        var num = array.length;\n        if (num === 0) {\n          throw new Error('Cannot calculate median of an empty array');\n        }\n        if (num % 2 === 0) {\n          // even: return the average of the two middle values\n          var mid = num / 2 - 1;\n          var right = partitionSelect(array, mid + 1);\n\n          // array now partitioned at mid + 1, take max of left part\n          var left = array[mid];\n          for (var i = 0; i < mid; ++i) {\n            if (compare(array[i], left) > 0) {\n              left = array[i];\n            }\n          }\n          return middle2(left, right);\n        } else {\n          // odd: return the middle value\n          var m = partitionSelect(array, (num - 1) / 2);\n          return middle(m);\n        }\n      } catch (err) {\n        throw (0, _utilsImproveErrorMessageJs.improveErrorMessage)(err, 'median');\n      }\n    }\n\n    // helper function to type check the middle value of the array\n    var middle = typed({\n      'number | BigNumber | Complex | Unit': function number__BigNumber__Complex__Unit(value) {\n        return value;\n      }\n    });\n\n    // helper function to type check the two middle value of the array\n    var middle2 = typed({\n      'number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit': function number__BigNumber__Complex__Unit_number__BigNumber__Complex__Unit(left, right) {\n        return divide(add(left, right), 2);\n      }\n    });\n\n    /**\n     * Compute the median of a matrix or a list with values. The values are\n     * sorted and the middle value is returned. In case of an even number of\n     * values, the average of the two middle values is returned.\n     * Supported types of values are: Number, BigNumber, Unit\n     *\n     * In case of a (multi dimensional) array or matrix, the median of all\n     * elements will be calculated.\n     *\n     * Syntax:\n     *\n     *     math.median(a, b, c, ...)\n     *     math.median(A)\n     *\n     * Examples:\n     *\n     *     math.median(5, 2, 7)        // returns 5\n     *     math.median([3, -1, 5, 7])  // returns 4\n     *\n     * See also:\n     *\n     *     mean, min, max, sum, prod, std, variance, quantileSeq\n     *\n     * @param {... *} args  A single matrix or or multiple scalar values\n     * @return {*} The median\n     */\n    return typed(name, {\n      // median([a, b, c, d, ...])\n      'Array | Matrix': _median,\n      // median([a, b, c, d, ...], dim)\n      'Array | Matrix, number | BigNumber': function Array__Matrix_number__BigNumber(array, dim) {\n        // TODO: implement median(A, dim)\n        throw new Error('median(A, dim) is not yet supported');\n        // return reduce(arguments[0], arguments[1], ...)\n      },\n      // median(a, b, c, d, ...)\n      '...': function _(args) {\n        if ((0, _utilsCollectionJs.containsCollections)(args)) {\n          throw new TypeError('Scalar values expected in function median');\n        }\n        return _median(args);\n      }\n    });\n  });\n});","lineCount":121,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"createMedian"],[10,25,7,0],[11,4,7,0],[12,2,7,0],[13,2,1,0],[13,6,1,0,"_utilsCollectionJs"],[13,24,1,0],[13,27,1,0,"require"],[13,34,1,0],[13,35,1,0,"_dependencyMap"],[13,49,1,0],[14,2,2,0],[14,6,2,0,"_utilsArrayJs"],[14,19,2,0],[14,22,2,0,"require"],[14,29,2,0],[14,30,2,0,"_dependencyMap"],[14,44,2,0],[15,2,3,0],[15,6,3,0,"_utilsFactoryJs"],[15,21,3,0],[15,24,3,0,"require"],[15,31,3,0],[15,32,3,0,"_dependencyMap"],[15,46,3,0],[16,2,4,0],[16,6,4,0,"_utilsImproveErrorMessageJs"],[16,33,4,0],[16,36,4,0,"require"],[16,43,4,0],[16,44,4,0,"_dependencyMap"],[16,58,4,0],[17,2,5,0],[17,6,5,4,"name"],[17,10,5,8],[17,13,5,11],[17,21,5,19],[18,2,6,0],[18,6,6,4,"dependencies"],[18,18,6,16],[18,21,6,19],[18,22,6,20],[18,29,6,27],[18,31,6,29],[18,36,6,34],[18,38,6,36],[18,46,6,44],[18,48,6,46],[18,57,6,55],[18,59,6,57],[18,76,6,74],[18,77,6,75],[19,2,7,7],[19,6,7,11,"createMedian"],[19,18,7,23],[19,21,7,26],[19,36,7,41],[19,40,7,41,"factory"],[19,55,7,48],[19,56,7,48,"factory"],[19,63,7,48],[19,65,7,49,"name"],[19,69,7,53],[19,71,7,55,"dependencies"],[19,83,7,67],[19,85,7,69,"_ref"],[19,89,7,73],[19,93,7,77],[20,4,8,2],[20,8,8,6],[21,6,9,4,"typed"],[21,11,9,9],[22,6,10,4,"add"],[22,9,10,7],[23,6,11,4,"divide"],[23,12,11,10],[24,6,12,4,"compare"],[24,13,12,11],[25,6,13,4,"partitionSelect"],[26,4,14,2],[26,5,14,3],[26,8,14,6,"_ref"],[26,12,14,10],[27,4,15,2],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,4,21,2],[33,13,21,11,"_median"],[33,20,21,18,"_median"],[33,21,21,19,"array"],[33,26,21,24],[33,28,21,26],[34,6,22,4],[34,10,22,8],[35,8,23,6,"array"],[35,13,23,11],[35,16,23,14],[35,20,23,14,"flatten"],[35,33,23,21],[35,34,23,21,"flatten"],[35,41,23,21],[35,43,23,22,"array"],[35,48,23,27],[35,49,23,28,"valueOf"],[35,56,23,35],[35,57,23,36],[35,58,23,37],[35,59,23,38],[36,8,24,6],[36,12,24,10,"num"],[36,15,24,13],[36,18,24,16,"array"],[36,23,24,21],[36,24,24,22,"length"],[36,30,24,28],[37,8,25,6],[37,12,25,10,"num"],[37,15,25,13],[37,20,25,18],[37,21,25,19],[37,23,25,21],[38,10,26,8],[38,16,26,14],[38,20,26,18,"Error"],[38,25,26,23],[38,26,26,24],[38,69,26,67],[38,70,26,68],[39,8,27,6],[40,8,28,6],[40,12,28,10,"num"],[40,15,28,13],[40,18,28,16],[40,19,28,17],[40,24,28,22],[40,25,28,23],[40,27,28,25],[41,10,29,8],[42,10,30,8],[42,14,30,12,"mid"],[42,17,30,15],[42,20,30,18,"num"],[42,23,30,21],[42,26,30,24],[42,27,30,25],[42,30,30,28],[42,31,30,29],[43,10,31,8],[43,14,31,12,"right"],[43,19,31,17],[43,22,31,20,"partitionSelect"],[43,37,31,35],[43,38,31,36,"array"],[43,43,31,41],[43,45,31,43,"mid"],[43,48,31,46],[43,51,31,49],[43,52,31,50],[43,53,31,51],[45,10,33,8],[46,10,34,8],[46,14,34,12,"left"],[46,18,34,16],[46,21,34,19,"array"],[46,26,34,24],[46,27,34,25,"mid"],[46,30,34,28],[46,31,34,29],[47,10,35,8],[47,15,35,13],[47,19,35,17,"i"],[47,20,35,18],[47,23,35,21],[47,24,35,22],[47,26,35,24,"i"],[47,27,35,25],[47,30,35,28,"mid"],[47,33,35,31],[47,35,35,33],[47,37,35,35,"i"],[47,38,35,36],[47,40,35,38],[48,12,36,10],[48,16,36,14,"compare"],[48,23,36,21],[48,24,36,22,"array"],[48,29,36,27],[48,30,36,28,"i"],[48,31,36,29],[48,32,36,30],[48,34,36,32,"left"],[48,38,36,36],[48,39,36,37],[48,42,36,40],[48,43,36,41],[48,45,36,43],[49,14,37,12,"left"],[49,18,37,16],[49,21,37,19,"array"],[49,26,37,24],[49,27,37,25,"i"],[49,28,37,26],[49,29,37,27],[50,12,38,10],[51,10,39,8],[52,10,40,8],[52,17,40,15,"middle2"],[52,24,40,22],[52,25,40,23,"left"],[52,29,40,27],[52,31,40,29,"right"],[52,36,40,34],[52,37,40,35],[53,8,41,6],[53,9,41,7],[53,15,41,13],[54,10,42,8],[55,10,43,8],[55,14,43,12,"m"],[55,15,43,13],[55,18,43,16,"partitionSelect"],[55,33,43,31],[55,34,43,32,"array"],[55,39,43,37],[55,41,43,39],[55,42,43,40,"num"],[55,45,43,43],[55,48,43,46],[55,49,43,47],[55,53,43,51],[55,54,43,52],[55,55,43,53],[56,10,44,8],[56,17,44,15,"middle"],[56,23,44,21],[56,24,44,22,"m"],[56,25,44,23],[56,26,44,24],[57,8,45,6],[58,6,46,4],[58,7,46,5],[58,8,46,6],[58,15,46,13,"err"],[58,18,46,16],[58,20,46,18],[59,8,47,6],[59,14,47,12],[59,18,47,12,"improveErrorMessage"],[59,45,47,31],[59,46,47,31,"improveErrorMessage"],[59,65,47,31],[59,67,47,32,"err"],[59,70,47,35],[59,72,47,37],[59,80,47,45],[59,81,47,46],[60,6,48,4],[61,4,49,2],[63,4,51,2],[64,4,52,2],[64,8,52,6,"middle"],[64,14,52,12],[64,17,52,15,"typed"],[64,22,52,20],[64,23,52,21],[65,6,53,4],[65,43,53,41],[65,45,53,43],[65,54,53,52,"number__BigNumber__Complex__Unit"],[65,86,53,84,"number__BigNumber__Complex__Unit"],[65,87,53,85,"value"],[65,92,53,90],[65,94,53,92],[66,8,54,6],[66,15,54,13,"value"],[66,20,54,18],[67,6,55,4],[68,4,56,2],[68,5,56,3],[68,6,56,4],[70,4,58,2],[71,4,59,2],[71,8,59,6,"middle2"],[71,15,59,13],[71,18,59,16,"typed"],[71,23,59,21],[71,24,59,22],[72,6,60,4],[72,80,60,78],[72,82,60,80],[72,91,60,89,"number__BigNumber__Complex__Unit_number__BigNumber__Complex__Unit"],[72,156,60,154,"number__BigNumber__Complex__Unit_number__BigNumber__Complex__Unit"],[72,157,60,155,"left"],[72,161,60,159],[72,163,60,161,"right"],[72,168,60,166],[72,170,60,168],[73,8,61,6],[73,15,61,13,"divide"],[73,21,61,19],[73,22,61,20,"add"],[73,25,61,23],[73,26,61,24,"left"],[73,30,61,28],[73,32,61,30,"right"],[73,37,61,35],[73,38,61,36],[73,40,61,38],[73,41,61,39],[73,42,61,40],[74,6,62,4],[75,4,63,2],[75,5,63,3],[75,6,63,4],[77,4,65,2],[78,0,66,0],[79,0,67,0],[80,0,68,0],[81,0,69,0],[82,0,70,0],[83,0,71,0],[84,0,72,0],[85,0,73,0],[86,0,74,0],[87,0,75,0],[88,0,76,0],[89,0,77,0],[90,0,78,0],[91,0,79,0],[92,0,80,0],[93,0,81,0],[94,0,82,0],[95,0,83,0],[96,0,84,0],[97,0,85,0],[98,0,86,0],[99,0,87,0],[100,0,88,0],[101,0,89,0],[102,0,90,0],[103,4,91,2],[103,11,91,9,"typed"],[103,16,91,14],[103,17,91,15,"name"],[103,21,91,19],[103,23,91,21],[104,6,92,4],[105,6,93,4],[105,22,93,20],[105,24,93,22,"_median"],[105,31,93,29],[106,6,94,4],[107,6,95,4],[107,42,95,40],[107,44,95,42],[107,53,95,51,"Array__Matrix_number__BigNumber"],[107,84,95,82,"Array__Matrix_number__BigNumber"],[107,85,95,83,"array"],[107,90,95,88],[107,92,95,90,"dim"],[107,95,95,93],[107,97,95,95],[108,8,96,6],[109,8,97,6],[109,14,97,12],[109,18,97,16,"Error"],[109,23,97,21],[109,24,97,22],[109,61,97,59],[109,62,97,60],[110,8,98,6],[111,6,99,4],[111,7,99,5],[112,6,100,4],[113,6,101,4],[113,11,101,9],[113,13,101,11],[113,22,101,20,"_"],[113,23,101,21,"_"],[113,24,101,22,"args"],[113,28,101,26],[113,30,101,28],[114,8,102,6],[114,12,102,10],[114,16,102,10,"containsCollections"],[114,34,102,29],[114,35,102,29,"containsCollections"],[114,54,102,29],[114,56,102,30,"args"],[114,60,102,34],[114,61,102,35],[114,63,102,37],[115,10,103,8],[115,16,103,14],[115,20,103,18,"TypeError"],[115,29,103,27],[115,30,103,28],[115,73,103,71],[115,74,103,72],[116,8,104,6],[117,8,105,6],[117,15,105,13,"_median"],[117,22,105,20],[117,23,105,21,"args"],[117,27,105,25],[117,28,105,26],[118,6,106,4],[119,4,107,2],[119,5,107,3],[119,6,107,4],[120,2,108,0],[120,3,108,1],[120,4,108,2],[121,0,108,3],[121,3]],"functionMap":{"names":["<global>","factory$argument_2","_median","number__BigNumber__Complex__Unit","number__BigNumber__Complex__Unit_number__BigNumber__Complex__Unit","Array__Matrix_number__BigNumber","_"],"mappings":"AAA;qECM;ECc;GD4B;2CEI;KFE;gFGK;KHE;0CIiC;KJI;WKE;KLK;CDE"},"hasCjsExports":false},"type":"js/module"}]}