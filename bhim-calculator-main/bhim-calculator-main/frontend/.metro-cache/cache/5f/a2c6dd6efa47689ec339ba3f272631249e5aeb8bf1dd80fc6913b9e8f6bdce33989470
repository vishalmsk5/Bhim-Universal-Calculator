{"dependencies":[{"name":"../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"7GBwrsWWKVeatBp94Er80/CdjPI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createCorr\", {\n    enumerable: true,\n    get: function () {\n      return createCorr;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../utils/factory.js\");\n  var name = 'corr';\n  var dependencies = ['typed', 'matrix', 'mean', 'sqrt', 'sum', 'add', 'subtract', 'multiply', 'pow', 'divide'];\n  var createCorr = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      matrix,\n      sqrt,\n      sum,\n      add,\n      subtract,\n      multiply,\n      pow,\n      divide\n    } = _ref;\n    /**\n     * Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.\n     *\n     * Syntax:\n     *\n     *     math.corr(A, B)\n     *\n     * Examples:\n     *\n     *     math.corr([1, 2, 3, 4, 5], [4, 5, 6, 7, 8])     // returns 1\n     *     math.corr([1, 2.2, 3, 4.8, 5], [4, 5.3, 6.6, 7, 8])     //returns 0.9569941688503644\n     *     math.corr([[1, 2.2, 3, 4.8, 5], [4, 5.3, 6.6, 7, 8]],[[1, 2.2, 3, 4.8, 5], [4, 5.3, 6.6, 7, 8]])   // returns [1,1]\n     *\n     * See also:\n     *\n     *     median, mean, min, max, sum, prod, std, variance\n     *\n     * @param {Array | Matrix} A The first array or matrix to compute correlation coefficient\n     * @param {Array | Matrix} B The second array or matrix to compute correlation coefficient\n     * @return {*} The correlation coefficient\n     */\n    return typed(name, {\n      'Array, Array': function Array_Array(A, B) {\n        return _corr(A, B);\n      },\n      'Matrix, Matrix': function Matrix_Matrix(A, B) {\n        var res = _corr(A.toArray(), B.toArray());\n        return Array.isArray(res) ? matrix(res) : res;\n      }\n    });\n    /**\n     * Calculate the correlation coefficient between two arrays or matrices.\n     * @param {Array | Matrix} A\n     * @param {Array | Matrix} B\n     * @return {*} correlation coefficient\n     * @private\n     */\n    function _corr(A, B) {\n      var correlations = [];\n      if (Array.isArray(A[0]) && Array.isArray(B[0])) {\n        if (A.length !== B.length) {\n          throw new SyntaxError('Dimension mismatch. Array A and B must have the same length.');\n        }\n        for (var i = 0; i < A.length; i++) {\n          if (A[i].length !== B[i].length) {\n            throw new SyntaxError('Dimension mismatch. Array A and B must have the same number of elements.');\n          }\n          correlations.push(correlation(A[i], B[i]));\n        }\n        return correlations;\n      } else {\n        if (A.length !== B.length) {\n          throw new SyntaxError('Dimension mismatch. Array A and B must have the same number of elements.');\n        }\n        return correlation(A, B);\n      }\n    }\n    function correlation(A, B) {\n      var n = A.length;\n      var sumX = sum(A);\n      var sumY = sum(B);\n      var sumXY = A.reduce((acc, x, index) => add(acc, multiply(x, B[index])), 0);\n      var sumXSquare = sum(A.map(x => pow(x, 2)));\n      var sumYSquare = sum(B.map(y => pow(y, 2)));\n      var numerator = subtract(multiply(n, sumXY), multiply(sumX, sumY));\n      var denominator = sqrt(multiply(subtract(multiply(n, sumXSquare), pow(sumX, 2)), subtract(multiply(n, sumYSquare), pow(sumY, 2))));\n      return divide(numerator, denominator);\n    }\n  });\n});","lineCount":97,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"createCorr"],[10,23,4,0],[11,4,4,0],[12,2,4,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,4,"name"],[14,10,2,8],[14,13,2,11],[14,19,2,17],[15,2,3,0],[15,6,3,4,"dependencies"],[15,18,3,16],[15,21,3,19],[15,22,3,20],[15,29,3,27],[15,31,3,29],[15,39,3,37],[15,41,3,39],[15,47,3,45],[15,49,3,47],[15,55,3,53],[15,57,3,55],[15,62,3,60],[15,64,3,62],[15,69,3,67],[15,71,3,69],[15,81,3,79],[15,83,3,81],[15,93,3,91],[15,95,3,93],[15,100,3,98],[15,102,3,100],[15,110,3,108],[15,111,3,109],[16,2,4,7],[16,6,4,11,"createCorr"],[16,16,4,21],[16,19,4,24],[16,34,4,39],[16,38,4,39,"factory"],[16,53,4,46],[16,54,4,46,"factory"],[16,61,4,46],[16,63,4,47,"name"],[16,67,4,51],[16,69,4,53,"dependencies"],[16,81,4,65],[16,83,4,67,"_ref"],[16,87,4,71],[16,91,4,75],[17,4,5,2],[17,8,5,6],[18,6,6,4,"typed"],[18,11,6,9],[19,6,7,4,"matrix"],[19,12,7,10],[20,6,8,4,"sqrt"],[20,10,8,8],[21,6,9,4,"sum"],[21,9,9,7],[22,6,10,4,"add"],[22,9,10,7],[23,6,11,4,"subtract"],[23,14,11,12],[24,6,12,4,"multiply"],[24,14,12,12],[25,6,13,4,"pow"],[25,9,13,7],[26,6,14,4,"divide"],[27,4,15,2],[27,5,15,3],[27,8,15,6,"_ref"],[27,12,15,10],[28,4,16,2],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,0,33,0],[46,0,34,0],[47,0,35,0],[48,0,36,0],[49,4,37,2],[49,11,37,9,"typed"],[49,16,37,14],[49,17,37,15,"name"],[49,21,37,19],[49,23,37,21],[50,6,38,4],[50,20,38,18],[50,22,38,20],[50,31,38,29,"Array_Array"],[50,42,38,40,"Array_Array"],[50,43,38,41,"A"],[50,44,38,42],[50,46,38,44,"B"],[50,47,38,45],[50,49,38,47],[51,8,39,6],[51,15,39,13,"_corr"],[51,20,39,18],[51,21,39,19,"A"],[51,22,39,20],[51,24,39,22,"B"],[51,25,39,23],[51,26,39,24],[52,6,40,4],[52,7,40,5],[53,6,41,4],[53,22,41,20],[53,24,41,22],[53,33,41,31,"Matrix_Matrix"],[53,46,41,44,"Matrix_Matrix"],[53,47,41,45,"A"],[53,48,41,46],[53,50,41,48,"B"],[53,51,41,49],[53,53,41,51],[54,8,42,6],[54,12,42,10,"res"],[54,15,42,13],[54,18,42,16,"_corr"],[54,23,42,21],[54,24,42,22,"A"],[54,25,42,23],[54,26,42,24,"toArray"],[54,33,42,31],[54,34,42,32],[54,35,42,33],[54,37,42,35,"B"],[54,38,42,36],[54,39,42,37,"toArray"],[54,46,42,44],[54,47,42,45],[54,48,42,46],[54,49,42,47],[55,8,43,6],[55,15,43,13,"Array"],[55,20,43,18],[55,21,43,19,"isArray"],[55,28,43,26],[55,29,43,27,"res"],[55,32,43,30],[55,33,43,31],[55,36,43,34,"matrix"],[55,42,43,40],[55,43,43,41,"res"],[55,46,43,44],[55,47,43,45],[55,50,43,48,"res"],[55,53,43,51],[56,6,44,4],[57,4,45,2],[57,5,45,3],[57,6,45,4],[58,4,46,2],[59,0,47,0],[60,0,48,0],[61,0,49,0],[62,0,50,0],[63,0,51,0],[64,0,52,0],[65,4,53,2],[65,13,53,11,"_corr"],[65,18,53,16,"_corr"],[65,19,53,17,"A"],[65,20,53,18],[65,22,53,20,"B"],[65,23,53,21],[65,25,53,23],[66,6,54,4],[66,10,54,8,"correlations"],[66,22,54,20],[66,25,54,23],[66,27,54,25],[67,6,55,4],[67,10,55,8,"Array"],[67,15,55,13],[67,16,55,14,"isArray"],[67,23,55,21],[67,24,55,22,"A"],[67,25,55,23],[67,26,55,24],[67,27,55,25],[67,28,55,26],[67,29,55,27],[67,33,55,31,"Array"],[67,38,55,36],[67,39,55,37,"isArray"],[67,46,55,44],[67,47,55,45,"B"],[67,48,55,46],[67,49,55,47],[67,50,55,48],[67,51,55,49],[67,52,55,50],[67,54,55,52],[68,8,56,6],[68,12,56,10,"A"],[68,13,56,11],[68,14,56,12,"length"],[68,20,56,18],[68,25,56,23,"B"],[68,26,56,24],[68,27,56,25,"length"],[68,33,56,31],[68,35,56,33],[69,10,57,8],[69,16,57,14],[69,20,57,18,"SyntaxError"],[69,31,57,29],[69,32,57,30],[69,94,57,92],[69,95,57,93],[70,8,58,6],[71,8,59,6],[71,13,59,11],[71,17,59,15,"i"],[71,18,59,16],[71,21,59,19],[71,22,59,20],[71,24,59,22,"i"],[71,25,59,23],[71,28,59,26,"A"],[71,29,59,27],[71,30,59,28,"length"],[71,36,59,34],[71,38,59,36,"i"],[71,39,59,37],[71,41,59,39],[71,43,59,41],[72,10,60,8],[72,14,60,12,"A"],[72,15,60,13],[72,16,60,14,"i"],[72,17,60,15],[72,18,60,16],[72,19,60,17,"length"],[72,25,60,23],[72,30,60,28,"B"],[72,31,60,29],[72,32,60,30,"i"],[72,33,60,31],[72,34,60,32],[72,35,60,33,"length"],[72,41,60,39],[72,43,60,41],[73,12,61,10],[73,18,61,16],[73,22,61,20,"SyntaxError"],[73,33,61,31],[73,34,61,32],[73,108,61,106],[73,109,61,107],[74,10,62,8],[75,10,63,8,"correlations"],[75,22,63,20],[75,23,63,21,"push"],[75,27,63,25],[75,28,63,26,"correlation"],[75,39,63,37],[75,40,63,38,"A"],[75,41,63,39],[75,42,63,40,"i"],[75,43,63,41],[75,44,63,42],[75,46,63,44,"B"],[75,47,63,45],[75,48,63,46,"i"],[75,49,63,47],[75,50,63,48],[75,51,63,49],[75,52,63,50],[76,8,64,6],[77,8,65,6],[77,15,65,13,"correlations"],[77,27,65,25],[78,6,66,4],[78,7,66,5],[78,13,66,11],[79,8,67,6],[79,12,67,10,"A"],[79,13,67,11],[79,14,67,12,"length"],[79,20,67,18],[79,25,67,23,"B"],[79,26,67,24],[79,27,67,25,"length"],[79,33,67,31],[79,35,67,33],[80,10,68,8],[80,16,68,14],[80,20,68,18,"SyntaxError"],[80,31,68,29],[80,32,68,30],[80,106,68,104],[80,107,68,105],[81,8,69,6],[82,8,70,6],[82,15,70,13,"correlation"],[82,26,70,24],[82,27,70,25,"A"],[82,28,70,26],[82,30,70,28,"B"],[82,31,70,29],[82,32,70,30],[83,6,71,4],[84,4,72,2],[85,4,73,2],[85,13,73,11,"correlation"],[85,24,73,22,"correlation"],[85,25,73,23,"A"],[85,26,73,24],[85,28,73,26,"B"],[85,29,73,27],[85,31,73,29],[86,6,74,4],[86,10,74,8,"n"],[86,11,74,9],[86,14,74,12,"A"],[86,15,74,13],[86,16,74,14,"length"],[86,22,74,20],[87,6,75,4],[87,10,75,8,"sumX"],[87,14,75,12],[87,17,75,15,"sum"],[87,20,75,18],[87,21,75,19,"A"],[87,22,75,20],[87,23,75,21],[88,6,76,4],[88,10,76,8,"sumY"],[88,14,76,12],[88,17,76,15,"sum"],[88,20,76,18],[88,21,76,19,"B"],[88,22,76,20],[88,23,76,21],[89,6,77,4],[89,10,77,8,"sumXY"],[89,15,77,13],[89,18,77,16,"A"],[89,19,77,17],[89,20,77,18,"reduce"],[89,26,77,24],[89,27,77,25],[89,28,77,26,"acc"],[89,31,77,29],[89,33,77,31,"x"],[89,34,77,32],[89,36,77,34,"index"],[89,41,77,39],[89,46,77,44,"add"],[89,49,77,47],[89,50,77,48,"acc"],[89,53,77,51],[89,55,77,53,"multiply"],[89,63,77,61],[89,64,77,62,"x"],[89,65,77,63],[89,67,77,65,"B"],[89,68,77,66],[89,69,77,67,"index"],[89,74,77,72],[89,75,77,73],[89,76,77,74],[89,77,77,75],[89,79,77,77],[89,80,77,78],[89,81,77,79],[90,6,78,4],[90,10,78,8,"sumXSquare"],[90,20,78,18],[90,23,78,21,"sum"],[90,26,78,24],[90,27,78,25,"A"],[90,28,78,26],[90,29,78,27,"map"],[90,32,78,30],[90,33,78,31,"x"],[90,34,78,32],[90,38,78,36,"pow"],[90,41,78,39],[90,42,78,40,"x"],[90,43,78,41],[90,45,78,43],[90,46,78,44],[90,47,78,45],[90,48,78,46],[90,49,78,47],[91,6,79,4],[91,10,79,8,"sumYSquare"],[91,20,79,18],[91,23,79,21,"sum"],[91,26,79,24],[91,27,79,25,"B"],[91,28,79,26],[91,29,79,27,"map"],[91,32,79,30],[91,33,79,31,"y"],[91,34,79,32],[91,38,79,36,"pow"],[91,41,79,39],[91,42,79,40,"y"],[91,43,79,41],[91,45,79,43],[91,46,79,44],[91,47,79,45],[91,48,79,46],[91,49,79,47],[92,6,80,4],[92,10,80,8,"numerator"],[92,19,80,17],[92,22,80,20,"subtract"],[92,30,80,28],[92,31,80,29,"multiply"],[92,39,80,37],[92,40,80,38,"n"],[92,41,80,39],[92,43,80,41,"sumXY"],[92,48,80,46],[92,49,80,47],[92,51,80,49,"multiply"],[92,59,80,57],[92,60,80,58,"sumX"],[92,64,80,62],[92,66,80,64,"sumY"],[92,70,80,68],[92,71,80,69],[92,72,80,70],[93,6,81,4],[93,10,81,8,"denominator"],[93,21,81,19],[93,24,81,22,"sqrt"],[93,28,81,26],[93,29,81,27,"multiply"],[93,37,81,35],[93,38,81,36,"subtract"],[93,46,81,44],[93,47,81,45,"multiply"],[93,55,81,53],[93,56,81,54,"n"],[93,57,81,55],[93,59,81,57,"sumXSquare"],[93,69,81,67],[93,70,81,68],[93,72,81,70,"pow"],[93,75,81,73],[93,76,81,74,"sumX"],[93,80,81,78],[93,82,81,80],[93,83,81,81],[93,84,81,82],[93,85,81,83],[93,87,81,85,"subtract"],[93,95,81,93],[93,96,81,94,"multiply"],[93,104,81,102],[93,105,81,103,"n"],[93,106,81,104],[93,108,81,106,"sumYSquare"],[93,118,81,116],[93,119,81,117],[93,121,81,119,"pow"],[93,124,81,122],[93,125,81,123,"sumY"],[93,129,81,127],[93,131,81,129],[93,132,81,130],[93,133,81,131],[93,134,81,132],[93,135,81,133],[93,136,81,134],[94,6,82,4],[94,13,82,11,"divide"],[94,19,82,17],[94,20,82,18,"numerator"],[94,29,82,27],[94,31,82,29,"denominator"],[94,42,82,40],[94,43,82,41],[95,4,83,2],[96,2,84,0],[96,3,84,1],[96,4,84,2],[97,0,84,3],[97,3]],"functionMap":{"names":["<global>","factory$argument_2","Array_Array","Matrix_Matrix","_corr","correlation","A.reduce$argument_0","A.map$argument_0","B.map$argument_0"],"mappings":"AAA;mECG;oBCkC;KDE;sBEC;KFG;EGS;GHmB;EIC;yBCI,kDD;+BEC,cF;+BGC,cH;GJI;CDC"},"hasCjsExports":false},"type":"js/module"}]}