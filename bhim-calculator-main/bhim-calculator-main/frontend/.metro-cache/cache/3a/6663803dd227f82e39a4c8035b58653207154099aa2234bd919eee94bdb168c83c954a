{"dependencies":[{"name":"../../../utils/factory.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"KU+ylfkKMfPqN+K7au00AyefVHo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createSchur\", {\n    enumerable: true,\n    get: function () {\n      return createSchur;\n    }\n  });\n  var _utilsFactoryJs = require(_dependencyMap[0], \"../../../utils/factory.js\");\n  var name = 'schur';\n  var dependencies = ['typed', 'matrix', 'identity', 'multiply', 'qr', 'norm', 'subtract'];\n  var createSchur = /* #__PURE__ */(0, _utilsFactoryJs.factory)(name, dependencies, _ref => {\n    var {\n      typed,\n      matrix,\n      identity,\n      multiply,\n      qr,\n      norm,\n      subtract\n    } = _ref;\n    /**\n     *\n     * Performs a real Schur decomposition of the real matrix A = UTU' where U is orthogonal\n     * and T is upper quasi-triangular.\n     * https://en.wikipedia.org/wiki/Schur_decomposition\n     *\n     * Syntax:\n     *\n     *     math.schur(A)\n     *\n     * Examples:\n     *\n     *     const A = [[1, 0], [-4, 3]]\n     *     math.schur(A) // returns {T: [[3, 4], [0, 1]], R: [[0, 1], [-1, 0]]}\n     *\n     * See also:\n     *\n     *     sylvester, lyap, qr\n     *\n     * @param {Array | Matrix} A  Matrix A\n     * @return {{U: Array | Matrix, T: Array | Matrix}} Object containing both matrix U and T of the Schur Decomposition A=UTU'\n     */\n    return typed(name, {\n      Array: function Array(X) {\n        var r = _schur(matrix(X));\n        return {\n          U: r.U.valueOf(),\n          T: r.T.valueOf()\n        };\n      },\n      Matrix: function Matrix(X) {\n        return _schur(X);\n      }\n    });\n    function _schur(X) {\n      var n = X.size()[0];\n      var A = X;\n      var U = identity(n);\n      var k = 0;\n      var A0;\n      do {\n        A0 = A;\n        var QR = qr(A);\n        var Q = QR.Q;\n        var R = QR.R;\n        A = multiply(R, Q);\n        U = multiply(U, Q);\n        if (k++ > 100) {\n          break;\n        }\n      } while (norm(subtract(A, A0)) > 1e-4);\n      return {\n        U,\n        T: A\n      };\n    }\n  });\n});","lineCount":83,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"createSchur"],[10,24,4,0],[11,4,4,0],[12,2,4,0],[13,2,1,0],[13,6,1,0,"_utilsFactoryJs"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,4,"name"],[14,10,2,8],[14,13,2,11],[14,20,2,18],[15,2,3,0],[15,6,3,4,"dependencies"],[15,18,3,16],[15,21,3,19],[15,22,3,20],[15,29,3,27],[15,31,3,29],[15,39,3,37],[15,41,3,39],[15,51,3,49],[15,53,3,51],[15,63,3,61],[15,65,3,63],[15,69,3,67],[15,71,3,69],[15,77,3,75],[15,79,3,77],[15,89,3,87],[15,90,3,88],[16,2,4,7],[16,6,4,11,"createSchur"],[16,17,4,22],[16,20,4,25],[16,35,4,40],[16,39,4,40,"factory"],[16,54,4,47],[16,55,4,47,"factory"],[16,62,4,47],[16,64,4,48,"name"],[16,68,4,52],[16,70,4,54,"dependencies"],[16,82,4,66],[16,84,4,68,"_ref"],[16,88,4,72],[16,92,4,76],[17,4,5,2],[17,8,5,6],[18,6,6,4,"typed"],[18,11,6,9],[19,6,7,4,"matrix"],[19,12,7,10],[20,6,8,4,"identity"],[20,14,8,12],[21,6,9,4,"multiply"],[21,14,9,12],[22,6,10,4,"qr"],[22,8,10,6],[23,6,11,4,"norm"],[23,10,11,8],[24,6,12,4,"subtract"],[25,4,13,2],[25,5,13,3],[25,8,13,6,"_ref"],[25,12,13,10],[26,4,14,2],[27,0,15,0],[28,0,16,0],[29,0,17,0],[30,0,18,0],[31,0,19,0],[32,0,20,0],[33,0,21,0],[34,0,22,0],[35,0,23,0],[36,0,24,0],[37,0,25,0],[38,0,26,0],[39,0,27,0],[40,0,28,0],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,0,32,0],[45,0,33,0],[46,0,34,0],[47,0,35,0],[48,4,36,2],[48,11,36,9,"typed"],[48,16,36,14],[48,17,36,15,"name"],[48,21,36,19],[48,23,36,21],[49,6,37,4,"Array"],[49,11,37,9],[49,13,37,11],[49,22,37,20,"Array"],[49,27,37,25,"Array"],[49,28,37,26,"X"],[49,29,37,27],[49,31,37,29],[50,8,38,6],[50,12,38,10,"r"],[50,13,38,11],[50,16,38,14,"_schur"],[50,22,38,20],[50,23,38,21,"matrix"],[50,29,38,27],[50,30,38,28,"X"],[50,31,38,29],[50,32,38,30],[50,33,38,31],[51,8,39,6],[51,15,39,13],[52,10,40,8,"U"],[52,11,40,9],[52,13,40,11,"r"],[52,14,40,12],[52,15,40,13,"U"],[52,16,40,14],[52,17,40,15,"valueOf"],[52,24,40,22],[52,25,40,23],[52,26,40,24],[53,10,41,8,"T"],[53,11,41,9],[53,13,41,11,"r"],[53,14,41,12],[53,15,41,13,"T"],[53,16,41,14],[53,17,41,15,"valueOf"],[53,24,41,22],[53,25,41,23],[54,8,42,6],[54,9,42,7],[55,6,43,4],[55,7,43,5],[56,6,44,4,"Matrix"],[56,12,44,10],[56,14,44,12],[56,23,44,21,"Matrix"],[56,29,44,27,"Matrix"],[56,30,44,28,"X"],[56,31,44,29],[56,33,44,31],[57,8,45,6],[57,15,45,13,"_schur"],[57,21,45,19],[57,22,45,20,"X"],[57,23,45,21],[57,24,45,22],[58,6,46,4],[59,4,47,2],[59,5,47,3],[59,6,47,4],[60,4,48,2],[60,13,48,11,"_schur"],[60,19,48,17,"_schur"],[60,20,48,18,"X"],[60,21,48,19],[60,23,48,21],[61,6,49,4],[61,10,49,8,"n"],[61,11,49,9],[61,14,49,12,"X"],[61,15,49,13],[61,16,49,14,"size"],[61,20,49,18],[61,21,49,19],[61,22,49,20],[61,23,49,21],[61,24,49,22],[61,25,49,23],[62,6,50,4],[62,10,50,8,"A"],[62,11,50,9],[62,14,50,12,"X"],[62,15,50,13],[63,6,51,4],[63,10,51,8,"U"],[63,11,51,9],[63,14,51,12,"identity"],[63,22,51,20],[63,23,51,21,"n"],[63,24,51,22],[63,25,51,23],[64,6,52,4],[64,10,52,8,"k"],[64,11,52,9],[64,14,52,12],[64,15,52,13],[65,6,53,4],[65,10,53,8,"A0"],[65,12,53,10],[66,6,54,4],[66,9,54,7],[67,8,55,6,"A0"],[67,10,55,8],[67,13,55,11,"A"],[67,14,55,12],[68,8,56,6],[68,12,56,10,"QR"],[68,14,56,12],[68,17,56,15,"qr"],[68,19,56,17],[68,20,56,18,"A"],[68,21,56,19],[68,22,56,20],[69,8,57,6],[69,12,57,10,"Q"],[69,13,57,11],[69,16,57,14,"QR"],[69,18,57,16],[69,19,57,17,"Q"],[69,20,57,18],[70,8,58,6],[70,12,58,10,"R"],[70,13,58,11],[70,16,58,14,"QR"],[70,18,58,16],[70,19,58,17,"R"],[70,20,58,18],[71,8,59,6,"A"],[71,9,59,7],[71,12,59,10,"multiply"],[71,20,59,18],[71,21,59,19,"R"],[71,22,59,20],[71,24,59,22,"Q"],[71,25,59,23],[71,26,59,24],[72,8,60,6,"U"],[72,9,60,7],[72,12,60,10,"multiply"],[72,20,60,18],[72,21,60,19,"U"],[72,22,60,20],[72,24,60,22,"Q"],[72,25,60,23],[72,26,60,24],[73,8,61,6],[73,12,61,10,"k"],[73,13,61,11],[73,15,61,13],[73,18,61,16],[73,21,61,19],[73,23,61,21],[74,10,62,8],[75,8,63,6],[76,6,64,4],[76,7,64,5],[76,15,64,13,"norm"],[76,19,64,17],[76,20,64,18,"subtract"],[76,28,64,26],[76,29,64,27,"A"],[76,30,64,28],[76,32,64,30,"A0"],[76,34,64,32],[76,35,64,33],[76,36,64,34],[76,39,64,37],[76,43,64,41],[77,6,65,4],[77,13,65,11],[78,8,66,6,"U"],[78,9,66,7],[79,8,67,6,"T"],[79,9,67,7],[79,11,67,9,"A"],[80,6,68,4],[80,7,68,5],[81,4,69,2],[82,2,70,0],[82,3,70,1],[82,4,70,2],[83,0,70,3],[83,3]],"functionMap":{"names":["<global>","factory$argument_2","Array","Matrix","_schur"],"mappings":"AAA;oECG;WCiC;KDM;YEC;KFE;EGE;GHqB;CDC"},"hasCjsExports":false},"type":"js/module"}]}